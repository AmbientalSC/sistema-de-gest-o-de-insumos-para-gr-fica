var PV=Object.defineProperty;var RV=(t,e,n)=>e in t?PV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var t0=(t,e,n)=>RV(t,typeof e!="symbol"?e+"":e,n);function DV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n0={exports:{}},cf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function NV(){if(Lx)return cf;Lx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return cf.Fragment=e,cf.jsx=n,cf.jsxs=n,cf}var Vx;function MV(){return Vx||(Vx=1,n0.exports=NV()),n0.exports}var D=MV(),r0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function kV(){if(Ux)return Le;Ux=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function P(q,te,fe){this.props=q,this.context=te,this.refs=x,this.updater=fe||E}P.prototype.isReactComponent={},P.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function z(){}z.prototype=P.prototype;function V(q,te,fe){this.props=q,this.context=te,this.refs=x,this.updater=fe||E}var $=V.prototype=new z;$.constructor=V,A($,P.prototype),$.isPureReactComponent=!0;var U=Array.isArray;function F(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(q,te,fe){var me=fe.ref;return{$$typeof:t,type:q,key:te,ref:me!==void 0?me:null,props:fe}}function B(q,te){return N(q.type,te,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return te[fe]})}var M=/\/+/g;function de(q,te){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):te.toString(36)}function be(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(te){q.status==="pending"&&(q.status="fulfilled",q.value=te)},function(te){q.status==="pending"&&(q.status="rejected",q.reason=te)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,te,fe,me,ye){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case t:case e:je=!0;break;case m:return je=q._init,K(je(q._payload),te,fe,me,ye)}}if(je)return ye=ye(q),je=me===""?"."+de(q,0):me,U(ye)?(fe="",je!=null&&(fe=je.replace(M,"$&/")+"/"),K(ye,te,fe,"",function(Ce){return Ce})):ye!=null&&(j(ye)&&(ye=B(ye,fe+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(M,"$&/")+"/")+je)),te.push(ye)),1;je=0;var ot=me===""?".":me+":";if(U(q))for(var ie=0;ie<q.length;ie++)me=q[ie],Re=ot+de(me,ie),je+=K(me,te,fe,Re,ye);else if(ie=_(q),typeof ie=="function")for(q=ie.call(q),ie=0;!(me=q.next()).done;)me=me.value,Re=ot+de(me,ie++),je+=K(me,te,fe,Re,ye);else if(Re==="object"){if(typeof q.then=="function")return K(be(q),te,fe,me,ye);throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return je}function W(q,te,fe){if(q==null)return q;var me=[],ye=0;return K(q,me,"","",function(Re){return te.call(fe,Re,ye++)}),me}function ue(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},we={map:W,forEach:function(q,te,fe){W(q,function(){te.apply(this,arguments)},fe)},count:function(q){var te=0;return W(q,function(){te++}),te},toArray:function(q){return W(q,function(te){return te})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Le.Activity=v,Le.Children=we,Le.Component=P,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=V,Le.StrictMode=r,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Le.__COMPILER_RUNTIME={__proto__:null,c:function(q){return C.H.useMemoCache(q)}},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(q,te,fe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=A({},q.props),ye=q.key;if(te!=null)for(Re in te.key!==void 0&&(ye=""+te.key),te)!R.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(me[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)me.children=fe;else if(1<Re){for(var je=Array(Re),ot=0;ot<Re;ot++)je[ot]=arguments[ot+2];me.children=je}return N(q.type,ye,me)},Le.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,te,fe){var me,ye={},Re=null;if(te!=null)for(me in te.key!==void 0&&(Re=""+te.key),te)R.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ye[me]=te[me]);var je=arguments.length-2;if(je===1)ye.children=fe;else if(1<je){for(var ot=Array(je),ie=0;ie<je;ie++)ot[ie]=arguments[ie+2];ye.children=ot}if(q&&q.defaultProps)for(me in je=q.defaultProps,je)ye[me]===void 0&&(ye[me]=je[me]);return N(q,Re,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:c,render:q}},Le.isValidElement=j,Le.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ue}},Le.memo=function(q,te){return{$$typeof:d,type:q,compare:te===void 0?null:te}},Le.startTransition=function(q){var te=C.T,fe={};C.T=fe;try{var me=q(),ye=C.S;ye!==null&&ye(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(F,pe)}catch(Re){pe(Re)}finally{te!==null&&fe.types!==null&&(te.types=fe.types),C.T=te}},Le.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Le.use=function(q){return C.H.use(q)},Le.useActionState=function(q,te,fe){return C.H.useActionState(q,te,fe)},Le.useCallback=function(q,te){return C.H.useCallback(q,te)},Le.useContext=function(q){return C.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,te){return C.H.useDeferredValue(q,te)},Le.useEffect=function(q,te){return C.H.useEffect(q,te)},Le.useEffectEvent=function(q){return C.H.useEffectEvent(q)},Le.useId=function(){return C.H.useId()},Le.useImperativeHandle=function(q,te,fe){return C.H.useImperativeHandle(q,te,fe)},Le.useInsertionEffect=function(q,te){return C.H.useInsertionEffect(q,te)},Le.useLayoutEffect=function(q,te){return C.H.useLayoutEffect(q,te)},Le.useMemo=function(q,te){return C.H.useMemo(q,te)},Le.useOptimistic=function(q,te){return C.H.useOptimistic(q,te)},Le.useReducer=function(q,te,fe){return C.H.useReducer(q,te,fe)},Le.useRef=function(q){return C.H.useRef(q)},Le.useState=function(q){return C.H.useState(q)},Le.useSyncExternalStore=function(q,te,fe){return C.H.useSyncExternalStore(q,te,fe)},Le.useTransition=function(){return C.H.useTransition()},Le.version="19.2.0",Le}var zx;function Uu(){return zx||(zx=1,r0.exports=kV()),r0.exports}var S=Uu();const T2=na(S),jV=DV({__proto__:null,default:T2},[S]);var i0={exports:{}},ff={},a0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function LV(){return Bx||(Bx=1,(function(t){function e(K,W){var ue=K.length;K.push(W);e:for(;0<ue;){var pe=ue-1>>>1,we=K[pe];if(0<a(we,W))K[pe]=W,K[ue]=we,ue=pe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var W=K[0],ue=K.pop();if(ue!==W){K[0]=ue;e:for(var pe=0,we=K.length,q=we>>>1;pe<q;){var te=2*(pe+1)-1,fe=K[te],me=te+1,ye=K[me];if(0>a(fe,ue))me<we&&0>a(ye,fe)?(K[pe]=ye,K[me]=ue,pe=me):(K[pe]=fe,K[te]=ue,pe=te);else if(me<we&&0>a(ye,ue))K[pe]=ye,K[me]=ue,pe=me;else break e}}return W}function a(K,W){var ue=K.sortIndex-W.sortIndex;return ue!==0?ue:K.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,v=null,b=3,_=!1,E=!1,A=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=K)r(d),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(d)}}function U(K){if(A=!1,$(K),!E)if(n(h)!==null)E=!0,F||(F=!0,L());else{var W=n(d);W!==null&&be(U,W.startTime-K)}}var F=!1,C=-1,R=5,N=-1;function B(){return x?!0:!(t.unstable_now()-N<R)}function j(){if(x=!1,F){var K=t.unstable_now();N=K;var W=!0;try{e:{E=!1,A&&(A=!1,z(C),C=-1),_=!0;var ue=b;try{t:{for($(K),v=n(h);v!==null&&!(v.expirationTime>K&&B());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,b=v.priorityLevel;var we=pe(v.expirationTime<=K);if(K=t.unstable_now(),typeof we=="function"){v.callback=we,$(K),W=!0;break t}v===n(h)&&r(h),$(K)}else r(h);v=n(h)}if(v!==null)W=!0;else{var q=n(d);q!==null&&be(U,q.startTime-K),W=!1}}break e}finally{v=null,b=ue,_=!1}W=void 0}}finally{W?L():F=!1}}}var L;if(typeof V=="function")L=function(){V(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,de=M.port2;M.port1.onmessage=j,L=function(){de.postMessage(null)}}else L=function(){P(j,0)};function be(K,W){C=P(function(){K(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ue=b;b=W;try{return K()}finally{b=ue}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=b;b=K;try{return W()}finally{b=ue}},t.unstable_scheduleCallback=function(K,W,ue){var pe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?pe+ue:pe):ue=pe,K){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ue+we,K={id:m++,callback:W,priorityLevel:K,startTime:ue,expirationTime:we,sortIndex:-1},ue>pe?(K.sortIndex=ue,e(d,K),n(h)===null&&K===n(d)&&(A?(z(C),C=-1):A=!0,be(U,ue-pe))):(K.sortIndex=we,e(h,K),E||_||(E=!0,F||(F=!0,L()))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var W=b;return function(){var ue=b;b=W;try{return K.apply(this,arguments)}finally{b=ue}}}})(s0)),s0}var qx;function VV(){return qx||(qx=1,a0.exports=LV()),a0.exports}var o0={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function UV(){if($x)return jn;$x=1;var t=Uu();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,m)},jn.flushSync=function(h){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=m,r.d.f()}},jn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},jn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},jn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},jn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},jn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},jn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},jn.requestFormReset=function(h){r.d.r(h)},jn.unstable_batchedUpdates=function(h,d){return h(d)},jn.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},jn.version="19.2.0",jn}var Fx;function x2(){if(Fx)return o0.exports;Fx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o0.exports=UV(),o0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function zV(){if(Hx)return ff;Hx=1;var t=VV(),e=Uu(),n=x2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return h(g),i;if(y===f)return h(g),s;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=g,f=y;else{for(var T=!1,I=g.child;I;){if(I===u){T=!0,u=g,f=y;break}if(I===f){T=!0,f=g,u=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===u){T=!0,u=y,f=g;break}if(I===f){T=!0,f=y,u=g;break}I=I.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case P:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case F:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case V:return i.displayName||"Context";case z:return(i._context.displayName||"Context")+".Consumer";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},pe=[],we=-1;function q(i){return{current:i}}function te(i){0>we||(i.current=pe[we],pe[we]=null,we--)}function fe(i,s){we++,pe[we]=i.current,i.current=s}var me=q(null),ye=q(null),Re=q(null),je=q(null);function ot(i,s){switch(fe(Re,s),fe(ye,i),fe(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?sx(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=sx(s),i=ox(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(me),fe(me,i)}function ie(){te(me),te(ye),te(Re)}function Ce(i){i.memoizedState!==null&&fe(je,i);var s=me.current,u=ox(s,i.type);s!==u&&(fe(ye,i),fe(me,u))}function Me(i){ye.current===i&&(te(me),te(ye)),je.current===i&&(te(je),sf._currentValue=ue)}var he,Dt;function qe(i){if(he===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);he=s&&s[1]||"",Dt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+Dt}var kt=!1;function Ut(i,s){if(!i||kt)return"";kt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var ee=re}Reflect.construct(i,[],le)}else{try{le.call()}catch(re){ee=re}i.call(le.prototype)}}else{try{throw Error()}catch(re){ee=re}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var H=T.split(`
`),Z=I.split(`
`);for(g=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(f===H.length||g===Z.length)for(f=H.length-1,g=Z.length-1;1<=f&&0<=g&&H[f]!==Z[g];)g--;for(;1<=f&&0<=g;f--,g--)if(H[f]!==Z[g]){if(f!==1||g!==1)do if(f--,g--,0>g||H[f]!==Z[g]){var ae=`
`+H[f].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=f&&0<=g);break}}}finally{kt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?qe(u):""}function cr(i,s){switch(i.tag){case 26:case 27:case 5:return qe(i.type);case 16:return qe("Lazy");case 13:return i.child!==s&&s!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ut(i.type,!1);case 11:return Ut(i.type.render,!1);case 1:return Ut(i.type,!0);case 31:return qe("Activity");default:return""}}function Xa(i){try{var s="",u=null;do s+=cr(i,u),u=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Gt=Object.prototype.hasOwnProperty,ln=t.unstable_scheduleCallback,Za=t.unstable_cancelCallback,rv=t.unstable_shouldYield,Mh=t.unstable_requestPaint,Hn=t.unstable_now,fo=t.unstable_getCurrentPriorityLevel,lc=t.unstable_ImmediatePriority,uc=t.unstable_UserBlockingPriority,Ja=t.unstable_NormalPriority,iv=t.unstable_LowPriority,kh=t.unstable_IdlePriority,jh=t.log,Lh=t.unstable_setDisableYieldValue,ti=null,An=null;function Ir(i){if(typeof jh=="function"&&Lh(i),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(ti,i)}catch{}}var zt=Math.clz32?Math.clz32:Uh,Vh=Math.log,wl=Math.LN2;function Uh(i){return i>>>=0,i===0?32:31-(Vh(i)/wl|0)|0}var wi=256,ho=262144,Yt=4194304;function Ei(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var g=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var I=f&134217727;return I!==0?(f=I&~y,f!==0?g=Ei(f):(T&=I,T!==0?g=Ei(T):u||(u=I&~i,u!==0&&(g=Ei(u))))):(I=f&~y,I!==0?g=Ei(I):T!==0?g=Ei(T):u||(u=f&~i,u!==0&&(g=Ei(u)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:g}function ni(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function av(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function Si(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function mo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sv(i,s,u,f,g,y){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,H=i.expirationTimes,Z=i.hiddenUpdates;for(u=T&~u;0<u;){var ae=31-zt(u),le=1<<ae;I[ae]=0,H[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var re=ee[ae];re!==null&&(re.lane&=-536870913)}u&=~le}f!==0&&po(i,f,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~s))}function po(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-zt(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&261930}function cc(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-zt(u),g=1<<f;g&s|i[f]&s&&(i[f]|=s),u&=~g}}function fc(i,s){var u=s&-s;return u=(u&42)!==0?1:go(u),(u&(i.suspendedLanes|s))!==0?0:u}function go(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ra(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bh(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:Px(i.type))}function ri(i,s){var u=W.p;try{return W.p=i,s()}finally{W.p=u}}var ii=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ii,gn="__reactProps$"+ii,Ti="__reactContainer$"+ii,El="__reactEvents$"+ii,ov="__reactListeners$"+ii,qh="__reactHandles$"+ii,$h="__reactResources$"+ii,xi="__reactMarker$"+ii;function Al(i){delete i[Wt],delete i[gn],delete i[El],delete i[ov],delete i[qh]}function Oi(i){var s=i[Wt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Ti]||u[Wt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=mx(i);i!==null;){if(u=i[Wt])return u;i=mx(i)}return s}i=u,u=i.parentNode}return null}function Pr(i){if(i=i[Wt]||i[Ti]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function fr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ci(i){var s=i[$h];return s||(s=i[$h]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(i){i[xi]=!0}var hc=new Set,dc={};function Ii(i,s){Pi(i,s),Pi(i+"Capture",s)}function Pi(i,s){for(dc[i]=s,i=0;i<s.length;i++)hc.add(s[i])}var mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},gc={};function Fh(i){return Gt.call(gc,i)?!0:Gt.call(pc,i)?!1:mc.test(i)?gc[i]=!0:(pc[i]=!0,!1)}function Sl(i,s,u){if(Fh(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function hr(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function Xt(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function es(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vc(i,s,u){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,y=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lt(i){if(!i._valueTracker){var s=es(i)?"checked":"value";i._valueTracker=vc(i,s,""+i[s])}}function vo(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=es(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yo=/[\n"\\]/g;function Zn(i){return i.replace(yo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tl(i,s,u,f,g,y,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vn(s)):i.value!==""+vn(s)&&(i.value=""+vn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?yc(i,T,vn(s)):u!=null?yc(i,T,vn(u)):f!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+vn(I):i.removeAttribute("name")}function Hh(i,s,u,f,g,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){lt(i);return}u=u!=null?""+vn(u):"",s=s!=null?""+vn(s):u,I||s===i.value||(i.value=s),i.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=I?i.checked:!!f,i.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),lt(i)}function yc(i,s,u){s==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ts(i,s,u,f){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+vn(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Kh(i,s,u){if(s!=null&&(s=""+vn(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+vn(u):""}function ns(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(be(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=vn(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f),lt(i)}function Jn(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||Gh.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function _c(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&u[g]!==f&&bc(i,g,f)}else for(var y in s)s.hasOwnProperty(y)&&bc(i,y,s[y])}function xl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(i){return rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var wc=null;function Rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,Di=null;function bo(i){var s=Pr(i);if(s&&(i=s.stateNode)){var u=i[gn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Tl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Zn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var g=f[gn]||null;if(!g)throw Error(r(90));Tl(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&vo(f)}break e;case"textarea":Kh(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ts(i,!!u.multiple,s,!1)}}}var Cl=!1;function as(i,s,u){if(Cl)return i(s,u);Cl=!0;try{var f=i(s);return f}finally{if(Cl=!1,(is!==null||Di!==null)&&(Bd(),is&&(s=is,i=Di,Di=is=null,bo(s),i)))for(s=0;s<i.length;s++)bo(i[s])}}function si(i,s){var u=i.stateNode;if(u===null)return null;var f=u[gn]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(Dr)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){_o=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{_o=!1}var Ni=null,Ec=null,wo=null;function Ac(){if(wo)return wo;var i,s=Ec,u=s.length,f,g="value"in Ni?Ni.value:Ni.textContent,y=g.length;for(i=0;i<u&&s[i]===g[i];i++);var T=u-i;for(f=1;f<=T&&s[u-f]===g[y-f];f++);return wo=g.slice(i,1<f?1-f:void 0)}function Eo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ia(){return!0}function oi(){return!1}function Sn(i){function s(u,f,g,y,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ia:oi,this.isPropagationStopped=oi,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),s}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Sn(aa),ss=v({},aa,{view:0,detail:0}),Sc=Sn(ss),os,Il,ki,Pl=v({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(os=i.screenX-ki.screenX,Il=i.screenY-ki.screenY):Il=os=0,ki=i),os)},movementY:function(i){return"movementY"in i?i.movementY:Il}}),Tc=Sn(Pl),Ao=v({},Pl,{dataTransfer:0}),Wh=Sn(Ao),Qh=v({},ss,{relatedTarget:0}),So=Sn(Qh),xc=v({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=Sn(xc),Rl=v({},aa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zh=Sn(Rl),Jh=v({},aa,{data:0}),ji=Sn(Jh),ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nd[i])?!!s[i]:!1}function ls(){return rd}var Kn=v({},ss,{key:function(i){if(i.key){var s=ed[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Eo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?td[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(i){return i.type==="keypress"?Eo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Eo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),id=Sn(Kn),ad=v({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Sn(ad),p=v({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),w=Sn(p),O=v({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Sn(O),Q=v({},Pl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Sn(Q),ge=v({},aa,{newState:0,oldState:0}),Ue=Sn(ge),Bt=[9,13,27,32],it=Dr&&"CompositionEvent"in window,Tt=null;Dr&&"documentMode"in document&&(Tt=document.documentMode);var Nr=Dr&&"TextEvent"in window&&!Tt,Li=Dr&&(!it||Tt&&8<Tt&&11>=Tt),li=" ",ui=!1;function To(i,s){switch(i){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Nl=!1;function e3(i,s){switch(i){case"compositionend":return Dl(s);case"keypress":return s.which!==32?null:(ui=!0,li);case"textInput":return i=s.data,i===li&&ui?null:i;default:return null}}function t3(i,s){if(Nl)return i==="compositionend"||!it&&To(i,s)?(i=Ac(),wo=Ec=Ni=null,Nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!n3[i.type]:s==="textarea"}function yA(i,s,u,f){is?Di?Di.push(f):Di=[f]:is=f,s=Yd(s,"onChange"),0<s.length&&(u=new Mi("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var Oc=null,Cc=null;function r3(i){ex(i,0)}function sd(i){var s=fr(i);if(vo(s))return i}function bA(i,s){if(i==="change")return s}var _A=!1;if(Dr){var lv;if(Dr){var uv="oninput"in document;if(!uv){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),uv=typeof wA.oninput=="function"}lv=uv}else lv=!1;_A=lv&&(!document.documentMode||9<document.documentMode)}function EA(){Oc&&(Oc.detachEvent("onpropertychange",AA),Cc=Oc=null)}function AA(i){if(i.propertyName==="value"&&sd(Cc)){var s=[];yA(s,Cc,i,Rr(i)),as(r3,s)}}function i3(i,s,u){i==="focusin"?(EA(),Oc=s,Cc=u,Oc.attachEvent("onpropertychange",AA)):i==="focusout"&&EA()}function a3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sd(Cc)}function s3(i,s){if(i==="click")return sd(s)}function o3(i,s){if(i==="input"||i==="change")return sd(s)}function l3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var dr=typeof Object.is=="function"?Object.is:l3;function Ic(i,s){if(dr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!Gt.call(s,g)||!dr(i[g],s[g]))return!1}return!0}function SA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function TA(i,s){var u=SA(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=SA(u)}}function xA(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xA(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function OA(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ri(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ri(i.document)}return s}function cv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var u3=Dr&&"documentMode"in document&&11>=document.documentMode,Ml=null,fv=null,Pc=null,hv=!1;function CA(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hv||Ml==null||Ml!==Ri(f)||(f=Ml,"selectionStart"in f&&cv(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Pc&&Ic(Pc,f)||(Pc=f,f=Yd(fv,"onSelect"),0<f.length&&(s=new Mi("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Ml)))}function xo(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var kl={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},dv={},IA={};Dr&&(IA=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Oo(i){if(dv[i])return dv[i];if(!kl[i])return i;var s=kl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in IA)return dv[i]=s[u];return i}var PA=Oo("animationend"),RA=Oo("animationiteration"),DA=Oo("animationstart"),c3=Oo("transitionrun"),f3=Oo("transitionstart"),h3=Oo("transitioncancel"),NA=Oo("transitionend"),MA=new Map,mv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mv.push("scrollEnd");function ci(i,s){MA.set(i,s),Ii(s,[i])}var od=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Mr=[],jl=0,pv=0;function ld(){for(var i=jl,s=pv=jl=0;s<i;){var u=Mr[s];Mr[s++]=null;var f=Mr[s];Mr[s++]=null;var g=Mr[s];Mr[s++]=null;var y=Mr[s];if(Mr[s++]=null,f!==null&&g!==null){var T=f.pending;T===null?g.next=g:(g.next=T.next,T.next=g),f.pending=g}y!==0&&kA(u,g,y)}}function ud(i,s,u,f){Mr[jl++]=i,Mr[jl++]=s,Mr[jl++]=u,Mr[jl++]=f,pv|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function gv(i,s,u,f){return ud(i,s,u,f),cd(i)}function Co(i,s){return ud(i,null,null,s),cd(i)}function kA(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var g=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-zt(u),i=y.hiddenUpdates,f=i[g],f===null?i[g]=[s]:f.push(s),s.lane=u|536870912),y):null}function cd(i){if(50<Zc)throw Zc=0,Ty=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ll={};function d3(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(i,s,u,f){return new d3(i,s,u,f)}function vv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function oa(i,s){var u=i.alternate;return u===null?(u=mr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function jA(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function fd(i,s,u,f,g,y){var T=0;if(f=i,typeof i=="function")vv(i)&&(T=1);else if(typeof i=="string")T=yV(i,u,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=mr(31,u,s,g),i.elementType=N,i.lanes=y,i;case A:return Io(u.children,g,y,s);case x:T=8,g|=24;break;case P:return i=mr(12,u,s,g|2),i.elementType=P,i.lanes=y,i;case U:return i=mr(13,u,s,g),i.elementType=U,i.lanes=y,i;case F:return i=mr(19,u,s,g),i.elementType=F,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case z:T=9;break e;case $:T=11;break e;case C:T=14;break e;case R:T=16,f=null;break e}T=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=mr(T,u,s,g),s.elementType=i,s.type=f,s.lanes=y,s}function Io(i,s,u,f){return i=mr(7,i,f,s),i.lanes=u,i}function yv(i,s,u){return i=mr(6,i,null,s),i.lanes=u,i}function LA(i){var s=mr(18,null,null,0);return s.stateNode=i,s}function bv(i,s,u){return s=mr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var VA=new WeakMap;function kr(i,s){if(typeof i=="object"&&i!==null){var u=VA.get(i);return u!==void 0?u:(s={value:i,source:s,stack:Xa(s)},VA.set(i,s),s)}return{value:i,source:s,stack:Xa(s)}}var Vl=[],Ul=0,hd=null,Rc=0,jr=[],Lr=0,us=null,Vi=1,Ui="";function la(i,s){Vl[Ul++]=Rc,Vl[Ul++]=hd,hd=i,Rc=s}function UA(i,s,u){jr[Lr++]=Vi,jr[Lr++]=Ui,jr[Lr++]=us,us=i;var f=Vi;i=Ui;var g=32-zt(f)-1;f&=~(1<<g),u+=1;var y=32-zt(s)+g;if(30<y){var T=g-g%5;y=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Vi=1<<32-zt(s)+g|u<<g|f,Ui=y+i}else Vi=1<<y|u<<g|f,Ui=i}function _v(i){i.return!==null&&(la(i,1),UA(i,1,0))}function wv(i){for(;i===hd;)hd=Vl[--Ul],Vl[Ul]=null,Rc=Vl[--Ul],Vl[Ul]=null;for(;i===us;)us=jr[--Lr],jr[Lr]=null,Ui=jr[--Lr],jr[Lr]=null,Vi=jr[--Lr],jr[Lr]=null}function zA(i,s){jr[Lr++]=Vi,jr[Lr++]=Ui,jr[Lr++]=us,Vi=s.id,Ui=s.overflow,us=i}var Tn=null,Et=null,Qe=!1,cs=null,Vr=!1,Ev=Error(r(519));function fs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dc(kr(s,i)),Ev}function BA(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[Wt]=i,s[gn]=f,u){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(u=0;u<ef.length;u++)Fe(ef[u],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Hh(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),ns(s,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||ix(s.textContent,u)?(f.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),f.onScroll!=null&&Fe("scroll",s),f.onScrollEnd!=null&&Fe("scrollend",s),f.onClick!=null&&(s.onclick=ai),s=!0):s=!1,s||fs(i,!0)}function qA(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:Tn=Tn.return}}function zl(i){if(i!==Tn)return!1;if(!Qe)return qA(i),Qe=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||zy(i.type,i.memoizedProps)),u=!u),u&&Et&&fs(i),qA(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=dx(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=dx(i)}else s===27?(s=Et,Ts(i.type)?(i=Hy,Hy=null,Et=i):Et=s):Et=Tn?zr(i.stateNode.nextSibling):null;return!0}function Po(){Et=Tn=null,Qe=!1}function Av(){var i=cs;return i!==null&&(rr===null?rr=i:rr.push.apply(rr,i),cs=null),i}function Dc(i){cs===null?cs=[i]:cs.push(i)}var Sv=q(null),Ro=null,ua=null;function hs(i,s,u){fe(Sv,s._currentValue),s._currentValue=u}function ca(i){i._currentValue=Sv.current,te(Sv)}function Tv(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function xv(i,s,u,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=g;for(var H=0;H<s.length;H++)if(I.context===s[H]){y.lanes|=u,I=y.alternate,I!==null&&(I.lanes|=u),Tv(y.return,u,i),f||(T=null);break e}y=I.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(r(341));T.lanes|=u,y=T.alternate,y!==null&&(y.lanes|=u),Tv(T,u,i),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===i){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Bl(i,s,u,f){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=g.type;dr(g.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(g===je.current){if(T=g.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(sf):i=[sf])}g=g.return}i!==null&&xv(s,i,u,f),s.flags|=262144}function dd(i){for(i=i.firstContext;i!==null;){if(!dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Do(i){Ro=i,ua=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return $A(Ro,i)}function md(i,s){return Ro===null&&Do(i),$A(i,s)}function $A(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ua===null){if(i===null)throw Error(r(308));ua=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ua=ua.next=s;return u}var m3=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},p3=t.unstable_scheduleCallback,g3=t.unstable_NormalPriority,Zt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ov(){return{controller:new m3,data:new Map,refCount:0}}function Nc(i){i.refCount--,i.refCount===0&&p3(g3,function(){i.controller.abort()})}var Mc=null,Cv=0,ql=0,$l=null;function v3(i,s){if(Mc===null){var u=Mc=[];Cv=0,ql=Ry(),$l={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Cv++,s.then(FA,FA),s}function FA(){if(--Cv===0&&Mc!==null){$l!==null&&($l.status="fulfilled");var i=Mc;Mc=null,ql=0,$l=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function y3(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<u.length;g++)(0,u[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var HA=K.S;K.S=function(i,s){CT=Hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&v3(i,s),HA!==null&&HA(i,s)};var No=q(null);function Iv(){var i=No.current;return i!==null?i:vt.pooledCache}function pd(i,s){s===null?fe(No,No.current):fe(No,s.pool)}function KA(){var i=Iv();return i===null?null:{parent:Zt._currentValue,pool:i}}var Fl=Error(r(460)),Pv=Error(r(474)),gd=Error(r(542)),vd={then:function(){}};function GA(i){return i=i.status,i==="fulfilled"||i==="rejected"}function YA(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(ai,ai),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,QA(i),i;default:if(typeof s.status=="string")s.then(ai,ai);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,QA(i),i}throw ko=s,Fl}}function Mo(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ko=u,Fl):u}}var ko=null;function WA(){if(ko===null)throw Error(r(459));var i=ko;return ko=null,i}function QA(i){if(i===Fl||i===gd)throw Error(r(483))}var Hl=null,kc=0;function yd(i){var s=kc;return kc+=1,Hl===null&&(Hl=[]),YA(Hl,i,s)}function jc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function bd(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function XA(i){function s(Y,G){if(i){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function u(Y,G){if(!i)return null;for(;G!==null;)s(Y,G),G=G.sibling;return null}function f(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function g(Y,G){return Y=oa(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,G,X,se){return G===null||G.tag!==6?(G=yv(X,Y.mode,se),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function H(Y,G,X,se){var xe=X.type;return xe===A?ae(Y,G,X.props.children,se,X.key):G!==null&&(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Mo(xe)===G.type)?(G=g(G,X.props),jc(G,X),G.return=Y,G):(G=fd(X.type,X.key,X.props,null,Y.mode,se),jc(G,X),G.return=Y,G)}function Z(Y,G,X,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=bv(X,Y.mode,se),G.return=Y,G):(G=g(G,X.children||[]),G.return=Y,G)}function ae(Y,G,X,se,xe){return G===null||G.tag!==7?(G=Io(X,Y.mode,se,xe),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function le(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=yv(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return X=fd(G.type,G.key,G.props,null,Y.mode,X),jc(X,G),X.return=Y,X;case E:return G=bv(G,Y.mode,X),G.return=Y,G;case R:return G=Mo(G),le(Y,G,X)}if(be(G)||L(G))return G=Io(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return le(Y,yd(G),X);if(G.$$typeof===V)return le(Y,md(Y,G),X);bd(Y,G)}return null}function ee(Y,G,X,se){var xe=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xe!==null?null:I(Y,G,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===xe?H(Y,G,X,se):null;case E:return X.key===xe?Z(Y,G,X,se):null;case R:return X=Mo(X),ee(Y,G,X,se)}if(be(X)||L(X))return xe!==null?null:ae(Y,G,X,se,null);if(typeof X.then=="function")return ee(Y,G,yd(X),se);if(X.$$typeof===V)return ee(Y,G,md(Y,X),se);bd(Y,X)}return null}function re(Y,G,X,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(X)||null,I(G,Y,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return Y=Y.get(se.key===null?X:se.key)||null,H(G,Y,se,xe);case E:return Y=Y.get(se.key===null?X:se.key)||null,Z(G,Y,se,xe);case R:return se=Mo(se),re(Y,G,X,se,xe)}if(be(se)||L(se))return Y=Y.get(X)||null,ae(G,Y,se,xe,null);if(typeof se.then=="function")return re(Y,G,X,yd(se),xe);if(se.$$typeof===V)return re(Y,G,X,md(G,se),xe);bd(G,se)}return null}function Ae(Y,G,X,se){for(var xe=null,et=null,Se=G,Be=G=0,Ke=null;Se!==null&&Be<X.length;Be++){Se.index>Be?(Ke=Se,Se=null):Ke=Se.sibling;var tt=ee(Y,Se,X[Be],se);if(tt===null){Se===null&&(Se=Ke);break}i&&Se&&tt.alternate===null&&s(Y,Se),G=y(tt,G,Be),et===null?xe=tt:et.sibling=tt,et=tt,Se=Ke}if(Be===X.length)return u(Y,Se),Qe&&la(Y,Be),xe;if(Se===null){for(;Be<X.length;Be++)Se=le(Y,X[Be],se),Se!==null&&(G=y(Se,G,Be),et===null?xe=Se:et.sibling=Se,et=Se);return Qe&&la(Y,Be),xe}for(Se=f(Se);Be<X.length;Be++)Ke=re(Se,Y,Be,X[Be],se),Ke!==null&&(i&&Ke.alternate!==null&&Se.delete(Ke.key===null?Be:Ke.key),G=y(Ke,G,Be),et===null?xe=Ke:et.sibling=Ke,et=Ke);return i&&Se.forEach(function(Ps){return s(Y,Ps)}),Qe&&la(Y,Be),xe}function Ie(Y,G,X,se){if(X==null)throw Error(r(151));for(var xe=null,et=null,Se=G,Be=G=0,Ke=null,tt=X.next();Se!==null&&!tt.done;Be++,tt=X.next()){Se.index>Be?(Ke=Se,Se=null):Ke=Se.sibling;var Ps=ee(Y,Se,tt.value,se);if(Ps===null){Se===null&&(Se=Ke);break}i&&Se&&Ps.alternate===null&&s(Y,Se),G=y(Ps,G,Be),et===null?xe=Ps:et.sibling=Ps,et=Ps,Se=Ke}if(tt.done)return u(Y,Se),Qe&&la(Y,Be),xe;if(Se===null){for(;!tt.done;Be++,tt=X.next())tt=le(Y,tt.value,se),tt!==null&&(G=y(tt,G,Be),et===null?xe=tt:et.sibling=tt,et=tt);return Qe&&la(Y,Be),xe}for(Se=f(Se);!tt.done;Be++,tt=X.next())tt=re(Se,Y,Be,tt.value,se),tt!==null&&(i&&tt.alternate!==null&&Se.delete(tt.key===null?Be:tt.key),G=y(tt,G,Be),et===null?xe=tt:et.sibling=tt,et=tt);return i&&Se.forEach(function(IV){return s(Y,IV)}),Qe&&la(Y,Be),xe}function pt(Y,G,X,se){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var xe=X.key;G!==null;){if(G.key===xe){if(xe=X.type,xe===A){if(G.tag===7){u(Y,G.sibling),se=g(G,X.props.children),se.return=Y,Y=se;break e}}else if(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Mo(xe)===G.type){u(Y,G.sibling),se=g(G,X.props),jc(se,X),se.return=Y,Y=se;break e}u(Y,G);break}else s(Y,G);G=G.sibling}X.type===A?(se=Io(X.props.children,Y.mode,se,X.key),se.return=Y,Y=se):(se=fd(X.type,X.key,X.props,null,Y.mode,se),jc(se,X),se.return=Y,Y=se)}return T(Y);case E:e:{for(xe=X.key;G!==null;){if(G.key===xe)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){u(Y,G.sibling),se=g(G,X.children||[]),se.return=Y,Y=se;break e}else{u(Y,G);break}else s(Y,G);G=G.sibling}se=bv(X,Y.mode,se),se.return=Y,Y=se}return T(Y);case R:return X=Mo(X),pt(Y,G,X,se)}if(be(X))return Ae(Y,G,X,se);if(L(X)){if(xe=L(X),typeof xe!="function")throw Error(r(150));return X=xe.call(X),Ie(Y,G,X,se)}if(typeof X.then=="function")return pt(Y,G,yd(X),se);if(X.$$typeof===V)return pt(Y,G,md(Y,X),se);bd(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(u(Y,G.sibling),se=g(G,X),se.return=Y,Y=se):(u(Y,G),se=yv(X,Y.mode,se),se.return=Y,Y=se),T(Y)):u(Y,G)}return function(Y,G,X,se){try{kc=0;var xe=pt(Y,G,X,se);return Hl=null,xe}catch(Se){if(Se===Fl||Se===gd)throw Se;var et=mr(29,Se,null,Y.mode);return et.lanes=se,et.return=Y,et}finally{}}}var jo=XA(!0),ZA=XA(!1),ds=!1;function Rv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ms(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ps(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=cd(i),kA(i,null,u),s}return ud(i,f,s,u),cd(i)}function Lc(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,cc(i,u)}}function Nv(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,u=u.next}while(u!==null);y===null?g=y=s:y=y.next=s}else g=y=s;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Mv=!1;function Vc(){if(Mv){var i=$l;if(i!==null)throw i}}function Uc(i,s,u,f){Mv=!1;var g=i.updateQueue;ds=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,Z=H.next;H.next=null,T===null?y=Z:T.next=Z,T=H;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,I=ae.lastBaseUpdate,I!==T&&(I===null?ae.firstBaseUpdate=Z:I.next=Z,ae.lastBaseUpdate=H))}if(y!==null){var le=g.baseState;T=0,ae=Z=H=null,I=y;do{var ee=I.lane&-536870913,re=ee!==I.lane;if(re?(He&ee)===ee:(f&ee)===ee){ee!==0&&ee===ql&&(Mv=!0),ae!==null&&(ae=ae.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ae=i,Ie=I;ee=s;var pt=u;switch(Ie.tag){case 1:if(Ae=Ie.payload,typeof Ae=="function"){le=Ae.call(pt,le,ee);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ie.payload,ee=typeof Ae=="function"?Ae.call(pt,le,ee):Ae,ee==null)break e;le=v({},le,ee);break e;case 2:ds=!0}}ee=I.callback,ee!==null&&(i.flags|=64,re&&(i.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ae===null?(Z=ae=re,H=le):ae=ae.next=re,T|=ee;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;re=I,I=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ae===null&&(H=le),g.baseState=H,g.firstBaseUpdate=Z,g.lastBaseUpdate=ae,y===null&&(g.shared.lanes=0),_s|=T,i.lanes=T,i.memoizedState=le}}function JA(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function eS(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)JA(u[i],s)}var Kl=q(null),_d=q(0);function tS(i,s){i=ba,fe(_d,i),fe(Kl,s),ba=i|s.baseLanes}function kv(){fe(_d,ba),fe(Kl,Kl.current)}function jv(){ba=_d.current,te(Kl),te(_d)}var pr=q(null),Ur=null;function gs(i){var s=i.alternate;fe(qt,qt.current&1),fe(pr,i),Ur===null&&(s===null||Kl.current!==null||s.memoizedState!==null)&&(Ur=i)}function Lv(i){fe(qt,qt.current),fe(pr,i),Ur===null&&(Ur=i)}function nS(i){i.tag===22?(fe(qt,qt.current),fe(pr,i),Ur===null&&(Ur=i)):vs()}function vs(){fe(qt,qt.current),fe(pr,pr.current)}function gr(i){te(pr),Ur===i&&(Ur=null),te(qt)}var qt=q(0);function wd(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$y(u)||Fy(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fa=0,ze=null,dt=null,Jt=null,Ed=!1,Gl=!1,Lo=!1,Ad=0,zc=0,Yl=null,b3=0;function jt(){throw Error(r(321))}function Vv(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!dr(i[u],s[u]))return!1;return!0}function Uv(i,s,u,f,g,y){return fa=y,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?US:ey,Lo=!1,y=u(f,g),Lo=!1,Gl&&(y=iS(s,u,f,g)),rS(i),y}function rS(i){K.H=$c;var s=dt!==null&&dt.next!==null;if(fa=0,Jt=dt=ze=null,Ed=!1,zc=0,Yl=null,s)throw Error(r(300));i===null||en||(i=i.dependencies,i!==null&&dd(i)&&(en=!0))}function iS(i,s,u,f){ze=i;var g=0;do{if(Gl&&(Yl=null),zc=0,Gl=!1,25<=g)throw Error(r(301));if(g+=1,Jt=dt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=zS,y=s(u,f)}while(Gl);return y}function _3(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Bc(s):s,i=i.useState()[0],(dt!==null?dt.memoizedState:null)!==i&&(ze.flags|=1024),s}function zv(){var i=Ad!==0;return Ad=0,i}function Bv(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function qv(i){if(Ed){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ed=!1}fa=0,Jt=dt=ze=null,Gl=!1,zc=Ad=0,Yl=null}function Gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?ze.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function $t(){if(dt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=dt.next;var s=Jt===null?ze.memoizedState:Jt.next;if(s!==null)Jt=s,dt=i;else{if(i===null)throw ze.alternate===null?Error(r(467)):Error(r(310));dt=i,i={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Jt===null?ze.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(i){var s=zc;return zc+=1,Yl===null&&(Yl=[]),i=YA(Yl,i,s),s=ze,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?US:ey),i}function Td(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bc(i);if(i.$$typeof===V)return xn(i)}throw Error(r(438,String(i)))}function $v(i){var s=null,u=ze.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=ze.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Sd(),ze.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=B;return s.index++,u}function ha(i,s){return typeof s=="function"?s(i):s}function xd(i){var s=$t();return Fv(s,dt,i)}function Fv(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var g=i.baseQueue,y=f.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}s.baseQueue=g=y,f.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var I=T=null,H=null,Z=s,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(He&le)===le:(fa&le)===le){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===ql&&(ae=!0);else if((fa&ee)===ee){Z=Z.next,ee===ql&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(I=H=le,T=y):H=H.next=le,ze.lanes|=ee,_s|=ee;le=Z.action,Lo&&u(y,le),y=Z.hasEagerState?Z.eagerState:u(y,le)}else ee={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(I=H=ee,T=y):H=H.next=ee,ze.lanes|=le,_s|=le;Z=Z.next}while(Z!==null&&Z!==s);if(H===null?T=y:H.next=I,!dr(y,i.memoizedState)&&(en=!0,ae&&(u=$l,u!==null)))throw u;i.memoizedState=y,i.baseState=T,i.baseQueue=H,f.lastRenderedState=y}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Hv(i){var s=$t(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,y=s.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do y=i(y,T.action),T=T.next;while(T!==g);dr(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function aS(i,s,u){var f=ze,g=$t(),y=Qe;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var T=!dr((dt||g).memoizedState,u);if(T&&(g.memoizedState=u,en=!0),g=g.queue,Yv(lS.bind(null,f,g,i),[i]),g.getSnapshot!==s||T||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,Wl(9,{destroy:void 0},oS.bind(null,f,g,u,s),null),vt===null)throw Error(r(349));y||(fa&127)!==0||sS(f,s,u)}return u}function sS(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=ze.updateQueue,s===null?(s=Sd(),ze.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function oS(i,s,u,f){s.value=u,s.getSnapshot=f,uS(s)&&cS(i)}function lS(i,s,u){return u(function(){uS(s)&&cS(i)})}function uS(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!dr(i,u)}catch{return!0}}function cS(i){var s=Co(i,2);s!==null&&ir(s,i,2)}function Kv(i){var s=Gn();if(typeof i=="function"){var u=i;if(i=u(),Lo){Ir(!0);try{u()}finally{Ir(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:i},s}function fS(i,s,u,f){return i.baseState=u,Fv(i,dt,typeof f=="function"?f:ha)}function w3(i,s,u,f,g){if(Id(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?u(!0):y.isTransition=!1,f(y),u=s.pending,u===null?(y.next=s.pending=y,hS(s,y)):(y.next=u.next,s.pending=u.next=y)}}function hS(i,s){var u=s.action,f=s.payload,g=i.state;if(s.isTransition){var y=K.T,T={};K.T=T;try{var I=u(g,f),H=K.S;H!==null&&H(T,I),dS(i,s,I)}catch(Z){Gv(i,s,Z)}finally{y!==null&&T.types!==null&&(y.types=T.types),K.T=y}}else try{y=u(g,f),dS(i,s,y)}catch(Z){Gv(i,s,Z)}}function dS(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){mS(i,s,f)},function(f){return Gv(i,s,f)}):mS(i,s,u)}function mS(i,s,u){s.status="fulfilled",s.value=u,pS(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,hS(i,u)))}function Gv(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,pS(s),s=s.next;while(s!==f)}i.action=null}function pS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function gS(i,s){return s}function vS(i,s){if(Qe){var u=vt.formState;if(u!==null){e:{var f=ze;if(Qe){if(Et){t:{for(var g=Et,y=Vr;g.nodeType!==8;){if(!y){g=null;break t}if(g=zr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Et=zr(g.nextSibling),f=g.data==="F!";break e}}fs(f)}f=!1}f&&(s=u[0])}}return u=Gn(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gS,lastRenderedState:s},u.queue=f,u=jS.bind(null,ze,f),f.dispatch=u,f=Kv(!1),y=Jv.bind(null,ze,!1,f.queue),f=Gn(),g={state:s,dispatch:null,action:i,pending:null},f.queue=g,u=w3.bind(null,ze,g,y,u),g.dispatch=u,f.memoizedState=i,[s,u,!1]}function yS(i){var s=$t();return bS(s,dt,i)}function bS(i,s,u){if(s=Fv(i,s,gS)[0],i=xd(ha)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Bc(s)}catch(T){throw T===Fl?gd:T}else f=s;s=$t();var g=s.queue,y=g.dispatch;return u!==s.memoizedState&&(ze.flags|=2048,Wl(9,{destroy:void 0},E3.bind(null,g,u),null)),[f,y,i]}function E3(i,s){i.action=s}function _S(i){var s=$t(),u=dt;if(u!==null)return bS(s,u,i);$t(),s=s.memoizedState,u=$t();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function Wl(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Sd(),ze.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function wS(){return $t().memoizedState}function Od(i,s,u,f){var g=Gn();ze.flags|=i,g.memoizedState=Wl(1|s,{destroy:void 0},u,f===void 0?null:f)}function Cd(i,s,u,f){var g=$t();f=f===void 0?null:f;var y=g.memoizedState.inst;dt!==null&&f!==null&&Vv(f,dt.memoizedState.deps)?g.memoizedState=Wl(s,y,u,f):(ze.flags|=i,g.memoizedState=Wl(1|s,y,u,f))}function ES(i,s){Od(8390656,8,i,s)}function Yv(i,s){Cd(2048,8,i,s)}function A3(i){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=Sd(),ze.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function AS(i){var s=$t().memoizedState;return A3({ref:s,nextImpl:i}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function SS(i,s){return Cd(4,2,i,s)}function TS(i,s){return Cd(4,4,i,s)}function xS(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function OS(i,s,u){u=u!=null?u.concat([i]):null,Cd(4,4,xS.bind(null,s,i),u)}function Wv(){}function CS(i,s){var u=$t();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Vv(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function IS(i,s){var u=$t();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Vv(s,f[1]))return f[0];if(f=i(),Lo){Ir(!0);try{i()}finally{Ir(!1)}}return u.memoizedState=[f,s],f}function Qv(i,s,u){return u===void 0||(fa&1073741824)!==0&&(He&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=PT(),ze.lanes|=i,_s|=i,u)}function PS(i,s,u,f){return dr(u,s)?u:Kl.current!==null?(i=Qv(i,u,f),dr(i,s)||(en=!0),i):(fa&42)===0||(fa&1073741824)!==0&&(He&261930)===0?(en=!0,i.memoizedState=u):(i=PT(),ze.lanes|=i,_s|=i,s)}function RS(i,s,u,f,g){var y=W.p;W.p=y!==0&&8>y?y:8;var T=K.T,I={};K.T=I,Jv(i,!1,s,u);try{var H=g(),Z=K.S;if(Z!==null&&Z(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=y3(H,f);qc(i,s,ae,br(i))}else qc(i,s,f,br(i))}catch(le){qc(i,s,{then:function(){},status:"rejected",reason:le},br())}finally{W.p=y,T!==null&&I.types!==null&&(T.types=I.types),K.T=T}}function S3(){}function Xv(i,s,u,f){if(i.tag!==5)throw Error(r(476));var g=DS(i).queue;RS(i,g,s,ue,u===null?S3:function(){return NS(i),u(f)})}function DS(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ue},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function NS(i){var s=DS(i);s.next===null&&(s=i.alternate.memoizedState),qc(i,s.next.queue,{},br())}function Zv(){return xn(sf)}function MS(){return $t().memoizedState}function kS(){return $t().memoizedState}function T3(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=br();i=ms(u);var f=ps(s,i,u);f!==null&&(ir(f,s,u),Lc(f,s,u)),s={cache:Ov()},i.payload=s;return}s=s.return}}function x3(i,s,u){var f=br();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Id(i)?LS(s,u):(u=gv(i,s,u,f),u!==null&&(ir(u,i,f),VS(u,s,f)))}function jS(i,s,u){var f=br();qc(i,s,u,f)}function qc(i,s,u,f){var g={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Id(i))LS(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,I=y(T,u);if(g.hasEagerState=!0,g.eagerState=I,dr(I,T))return ud(i,s,g,0),vt===null&&ld(),!1}catch{}finally{}if(u=gv(i,s,g,f),u!==null)return ir(u,i,f),VS(u,s,f),!0}return!1}function Jv(i,s,u,f){if(f={lane:2,revertLane:Ry(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Id(i)){if(s)throw Error(r(479))}else s=gv(i,u,f,2),s!==null&&ir(s,i,2)}function Id(i){var s=i.alternate;return i===ze||s!==null&&s===ze}function LS(i,s){Gl=Ed=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function VS(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,cc(i,u)}}var $c={readContext:xn,use:Td,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};$c.useEffectEvent=jt;var US={readContext:xn,use:Td,useCallback:function(i,s){return Gn().memoizedState=[i,s===void 0?null:s],i},useContext:xn,useEffect:ES,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Od(4194308,4,xS.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Od(4194308,4,i,s)},useInsertionEffect:function(i,s){Od(4,2,i,s)},useMemo:function(i,s){var u=Gn();s=s===void 0?null:s;var f=i();if(Lo){Ir(!0);try{i()}finally{Ir(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=Gn();if(u!==void 0){var g=u(s);if(Lo){Ir(!0);try{u(s)}finally{Ir(!1)}}}else g=s;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=x3.bind(null,ze,i),[f.memoizedState,i]},useRef:function(i){var s=Gn();return i={current:i},s.memoizedState=i},useState:function(i){i=Kv(i);var s=i.queue,u=jS.bind(null,ze,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Wv,useDeferredValue:function(i,s){var u=Gn();return Qv(u,i,s)},useTransition:function(){var i=Kv(!1);return i=RS.bind(null,ze,i.queue,!0,!1),Gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=ze,g=Gn();if(Qe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),vt===null)throw Error(r(349));(He&127)!==0||sS(f,s,u)}g.memoizedState=u;var y={value:u,getSnapshot:s};return g.queue=y,ES(lS.bind(null,f,y,i),[i]),f.flags|=2048,Wl(9,{destroy:void 0},oS.bind(null,f,y,u,s),null),u},useId:function(){var i=Gn(),s=vt.identifierPrefix;if(Qe){var u=Ui,f=Vi;u=(f&~(1<<32-zt(f)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Ad++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=b3++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Zv,useFormState:vS,useActionState:vS,useOptimistic:function(i){var s=Gn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Jv.bind(null,ze,!0,u),u.dispatch=s,[i,s]},useMemoCache:$v,useCacheRefresh:function(){return Gn().memoizedState=T3.bind(null,ze)},useEffectEvent:function(i){var s=Gn(),u={impl:i};return s.memoizedState=u,function(){if((at&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ey={readContext:xn,use:Td,useCallback:CS,useContext:xn,useEffect:Yv,useImperativeHandle:OS,useInsertionEffect:SS,useLayoutEffect:TS,useMemo:IS,useReducer:xd,useRef:wS,useState:function(){return xd(ha)},useDebugValue:Wv,useDeferredValue:function(i,s){var u=$t();return PS(u,dt.memoizedState,i,s)},useTransition:function(){var i=xd(ha)[0],s=$t().memoizedState;return[typeof i=="boolean"?i:Bc(i),s]},useSyncExternalStore:aS,useId:MS,useHostTransitionStatus:Zv,useFormState:yS,useActionState:yS,useOptimistic:function(i,s){var u=$t();return fS(u,dt,i,s)},useMemoCache:$v,useCacheRefresh:kS};ey.useEffectEvent=AS;var zS={readContext:xn,use:Td,useCallback:CS,useContext:xn,useEffect:Yv,useImperativeHandle:OS,useInsertionEffect:SS,useLayoutEffect:TS,useMemo:IS,useReducer:Hv,useRef:wS,useState:function(){return Hv(ha)},useDebugValue:Wv,useDeferredValue:function(i,s){var u=$t();return dt===null?Qv(u,i,s):PS(u,dt.memoizedState,i,s)},useTransition:function(){var i=Hv(ha)[0],s=$t().memoizedState;return[typeof i=="boolean"?i:Bc(i),s]},useSyncExternalStore:aS,useId:MS,useHostTransitionStatus:Zv,useFormState:_S,useActionState:_S,useOptimistic:function(i,s){var u=$t();return dt!==null?fS(u,dt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$v,useCacheRefresh:kS};zS.useEffectEvent=AS;function ty(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:v({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ny={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=br(),g=ms(f);g.payload=s,u!=null&&(g.callback=u),s=ps(i,g,f),s!==null&&(ir(s,i,f),Lc(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=br(),g=ms(f);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=ps(i,g,f),s!==null&&(ir(s,i,f),Lc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=br(),f=ms(u);f.tag=2,s!=null&&(f.callback=s),s=ps(i,f,u),s!==null&&(ir(s,i,u),Lc(s,i,u))}};function BS(i,s,u,f,g,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ic(u,f)||!Ic(g,y):!0}function qS(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ny.enqueueReplaceState(s,s.state,null)}function Vo(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=v({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}function $S(i){od(i)}function FS(i){console.error(i)}function HS(i){od(i)}function Pd(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function KS(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ry(i,s,u){return u=ms(u),u.tag=3,u.payload={element:null},u.callback=function(){Pd(i,s)},u}function GS(i){return i=ms(i),i.tag=3,i}function YS(i,s,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=f.value;i.payload=function(){return g(y)},i.callback=function(){KS(s,u,f)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){KS(s,u,f),typeof g!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function O3(i,s,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&Bl(s,u,g,!0),u=pr.current,u!==null){switch(u.tag){case 31:case 13:return Ur===null?qd():u.alternate===null&&Lt===0&&(Lt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===vd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Cy(i,f,g)),!1;case 22:return u.flags|=65536,f===vd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Cy(i,f,g)),!1}throw Error(r(435,u.tag))}return Cy(i,f,g),qd(),!1}if(Qe)return s=pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==Ev&&(i=Error(r(422),{cause:f}),Dc(kr(i,u)))):(f!==Ev&&(s=Error(r(423),{cause:f}),Dc(kr(s,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=kr(f,u),g=ry(i.stateNode,f,g),Nv(i,g),Lt!==4&&(Lt=2)),!1;var y=Error(r(520),{cause:f});if(y=kr(y,u),Xc===null?Xc=[y]:Xc.push(y),Lt!==4&&(Lt=2),s===null)return!0;f=kr(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=ry(u.stateNode,f,i),Nv(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ws===null||!ws.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=GS(g),YS(g,i,u,f),Nv(u,g),!1}u=u.return}while(u!==null);return!1}var iy=Error(r(461)),en=!1;function On(i,s,u,f){s.child=i===null?ZA(s,null,u,f):jo(s,i.child,u,f)}function WS(i,s,u,f,g){u=u.render;var y=s.ref;if("ref"in f){var T={};for(var I in f)I!=="ref"&&(T[I]=f[I])}else T=f;return Do(s),f=Uv(i,s,u,T,y,g),I=zv(),i!==null&&!en?(Bv(i,s,g),da(i,s,g)):(Qe&&I&&_v(s),s.flags|=1,On(i,s,f,g),s.child)}function QS(i,s,u,f,g){if(i===null){var y=u.type;return typeof y=="function"&&!vv(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,XS(i,s,y,f,g)):(i=fd(u.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!hy(i,g)){var T=y.memoizedProps;if(u=u.compare,u=u!==null?u:Ic,u(T,f)&&i.ref===s.ref)return da(i,s,g)}return s.flags|=1,i=oa(y,f),i.ref=s.ref,i.return=s,s.child=i}function XS(i,s,u,f,g){if(i!==null){var y=i.memoizedProps;if(Ic(y,f)&&i.ref===s.ref)if(en=!1,s.pendingProps=f=y,hy(i,g))(i.flags&131072)!==0&&(en=!0);else return s.lanes=i.lanes,da(i,s,g)}return ay(i,s,u,f,g)}function ZS(i,s,u,f){var g=f.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~y}else f=0,s.child=null;return JS(i,s,y,u,f)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&pd(s,y!==null?y.cachePool:null),y!==null?tS(s,y):kv(),nS(s);else return f=s.lanes=536870912,JS(i,s,y!==null?y.baseLanes|u:u,u,f)}else y!==null?(pd(s,y.cachePool),tS(s,y),vs(),s.memoizedState=null):(i!==null&&pd(s,null),kv(),vs());return On(i,s,g,u),s.child}function Fc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function JS(i,s,u,f,g){var y=Iv();return y=y===null?null:{parent:Zt._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},i!==null&&pd(s,null),kv(),nS(s),i!==null&&Bl(i,s,f,!0),s.childLanes=g,null}function Rd(i,s){return s=Nd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function eT(i,s,u){return jo(s,i.child,null,u),i=Rd(s,s.pendingProps),i.flags|=2,gr(s),s.memoizedState=null,i}function C3(i,s,u){var f=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Qe){if(f.mode==="hidden")return i=Rd(s,f),s.lanes=536870912,Fc(null,i);if(Lv(s),(i=Et)?(i=hx(i,Vr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:us!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},u=LA(i),u.return=s,s.child=u,Tn=s,Et=null)):i=null,i===null)throw fs(s);return s.lanes=536870912,null}return Rd(s,f)}var y=i.memoizedState;if(y!==null){var T=y.dehydrated;if(Lv(s),g)if(s.flags&256)s.flags&=-257,s=eT(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(en||Bl(i,s,u,!1),g=(u&i.childLanes)!==0,en||g){if(f=vt,f!==null&&(T=fc(f,u),T!==0&&T!==y.retryLane))throw y.retryLane=T,Co(i,T),ir(f,i,T),iy;qd(),s=eT(i,s,u)}else i=y.treeContext,Et=zr(T.nextSibling),Tn=s,Qe=!0,cs=null,Vr=!1,i!==null&&zA(s,i),s=Rd(s,f),s.flags|=4096;return s}return i=oa(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Dd(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function ay(i,s,u,f,g){return Do(s),u=Uv(i,s,u,f,void 0,g),f=zv(),i!==null&&!en?(Bv(i,s,g),da(i,s,g)):(Qe&&f&&_v(s),s.flags|=1,On(i,s,u,g),s.child)}function tT(i,s,u,f,g,y){return Do(s),s.updateQueue=null,u=iS(s,f,u,g),rS(i),f=zv(),i!==null&&!en?(Bv(i,s,y),da(i,s,y)):(Qe&&f&&_v(s),s.flags|=1,On(i,s,u,y),s.child)}function nT(i,s,u,f,g){if(Do(s),s.stateNode===null){var y=Ll,T=u.contextType;typeof T=="object"&&T!==null&&(y=xn(T)),y=new u(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ny,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Rv(s),T=u.contextType,y.context=typeof T=="object"&&T!==null?xn(T):Ll,y.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ty(s,u,T,f),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&ny.enqueueReplaceState(y,y.state,null),Uc(s,f,y,g),Vc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var I=s.memoizedProps,H=Vo(u,I);y.props=H;var Z=y.context,ae=u.contextType;T=Ll,typeof ae=="object"&&ae!==null&&(T=xn(ae));var le=u.getDerivedStateFromProps;ae=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||Z!==T)&&qS(s,y,f,T),ds=!1;var ee=s.memoizedState;y.state=ee,Uc(s,f,y,g),Vc(),Z=s.memoizedState,I||ee!==Z||ds?(typeof le=="function"&&(ty(s,u,le,f),Z=s.memoizedState),(H=ds||BS(s,u,H,f,ee,Z,T))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=Z),y.props=f,y.state=Z,y.context=T,f=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Dv(i,s),T=s.memoizedProps,ae=Vo(u,T),y.props=ae,le=s.pendingProps,ee=y.context,Z=u.contextType,H=Ll,typeof Z=="object"&&Z!==null&&(H=xn(Z)),I=u.getDerivedStateFromProps,(Z=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==le||ee!==H)&&qS(s,y,f,H),ds=!1,ee=s.memoizedState,y.state=ee,Uc(s,f,y,g),Vc();var re=s.memoizedState;T!==le||ee!==re||ds||i!==null&&i.dependencies!==null&&dd(i.dependencies)?(typeof I=="function"&&(ty(s,u,I,f),re=s.memoizedState),(ae=ds||BS(s,u,ae,f,ee,re,H)||i!==null&&i.dependencies!==null&&dd(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,re,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=re),y.props=f,y.state=re,y.context=H,f=ae):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Dd(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=jo(s,i.child,null,g),s.child=jo(s,null,u,g)):On(i,s,u,g),s.memoizedState=y.state,i=s.child):i=da(i,s,g),i}function rT(i,s,u,f){return Po(),s.flags|=256,On(i,s,u,f),s.child}var sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(i){return{baseLanes:i,cachePool:KA()}}function ly(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=yr),i}function iT(i,s,u){var f=s.pendingProps,g=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),T&&(g=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Qe){if(g?gs(s):vs(),(i=Et)?(i=hx(i,Vr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:us!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},u=LA(i),u.return=s,s.child=u,Tn=s,Et=null)):i=null,i===null)throw fs(s);return Fy(i)?s.lanes=32:s.lanes=536870912,null}var I=f.children;return f=f.fallback,g?(vs(),g=s.mode,I=Nd({mode:"hidden",children:I},g),f=Io(f,g,u,null),I.return=s,f.return=s,I.sibling=f,s.child=I,f=s.child,f.memoizedState=oy(u),f.childLanes=ly(i,T,u),s.memoizedState=sy,Fc(null,f)):(gs(s),uy(s,I))}var H=i.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(y)s.flags&256?(gs(s),s.flags&=-257,s=cy(i,s,u)):s.memoizedState!==null?(vs(),s.child=i.child,s.flags|=128,s=null):(vs(),I=f.fallback,g=s.mode,f=Nd({mode:"visible",children:f.children},g),I=Io(I,g,u,null),I.flags|=2,f.return=s,I.return=s,f.sibling=I,s.child=f,jo(s,i.child,null,u),f=s.child,f.memoizedState=oy(u),f.childLanes=ly(i,T,u),s.memoizedState=sy,s=Fc(null,f));else if(gs(s),Fy(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var Z=T.dgst;T=Z,f=Error(r(419)),f.stack="",f.digest=T,Dc({value:f,source:null,stack:null}),s=cy(i,s,u)}else if(en||Bl(i,s,u,!1),T=(u&i.childLanes)!==0,en||T){if(T=vt,T!==null&&(f=fc(T,u),f!==0&&f!==H.retryLane))throw H.retryLane=f,Co(i,f),ir(T,i,f),iy;$y(I)||qd(),s=cy(i,s,u)}else $y(I)?(s.flags|=192,s.child=i.child,s=null):(i=H.treeContext,Et=zr(I.nextSibling),Tn=s,Qe=!0,cs=null,Vr=!1,i!==null&&zA(s,i),s=uy(s,f.children),s.flags|=4096);return s}return g?(vs(),I=f.fallback,g=s.mode,H=i.child,Z=H.sibling,f=oa(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,Z!==null?I=oa(Z,I):(I=Io(I,g,u,null),I.flags|=2),I.return=s,f.return=s,f.sibling=I,s.child=f,Fc(null,f),f=s.child,I=i.child.memoizedState,I===null?I=oy(u):(g=I.cachePool,g!==null?(H=Zt._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=KA(),I={baseLanes:I.baseLanes|u,cachePool:g}),f.memoizedState=I,f.childLanes=ly(i,T,u),s.memoizedState=sy,Fc(i.child,f)):(gs(s),u=i.child,i=u.sibling,u=oa(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=u,s.memoizedState=null,u)}function uy(i,s){return s=Nd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Nd(i,s){return i=mr(22,i,null,s),i.lanes=0,i}function cy(i,s,u){return jo(s,i.child,null,u),i=uy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function aT(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Tv(i.return,s,u)}function fy(i,s,u,f,g,y){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g,treeForkCount:y}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=u,T.tailMode=g,T.treeForkCount=y)}function sT(i,s,u){var f=s.pendingProps,g=f.revealOrder,y=f.tail;f=f.children;var T=qt.current,I=(T&2)!==0;if(I?(T=T&1|2,s.flags|=128):T&=1,fe(qt,T),On(i,s,f,u),f=Qe?Rc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&aT(i,u,s);else if(i.tag===19)aT(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&wd(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),fy(s,!1,g,u,y,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&wd(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}fy(s,!0,u,null,y,f);break;case"together":fy(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function da(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Bl(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=oa(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=oa(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function hy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&dd(i)))}function I3(i,s,u){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),hs(s,Zt,i.memoizedState.cache),Po();break;case 27:case 5:Ce(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Lv(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(gs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?iT(i,s,u):(gs(s),i=da(i,s,u),i!==null?i.sibling:null);gs(s);break;case 19:var g=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(Bl(i,s,u,!1),f=(u&s.childLanes)!==0),g){if(f)return sT(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(qt,qt.current),f)break;return null;case 22:return s.lanes=0,ZS(i,s,u,s.pendingProps);case 24:hs(s,Zt,i.memoizedState.cache)}return da(i,s,u)}function oT(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)en=!0;else{if(!hy(i,u)&&(s.flags&128)===0)return en=!1,I3(i,s,u);en=(i.flags&131072)!==0}else en=!1,Qe&&(s.flags&1048576)!==0&&UA(s,Rc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=Mo(s.elementType),s.type=i,typeof i=="function")vv(i)?(f=Vo(i,f),s.tag=1,s=nT(null,s,i,f,u)):(s.tag=0,s=ay(null,s,i,f,u));else{if(i!=null){var g=i.$$typeof;if(g===$){s.tag=11,s=WS(null,s,i,f,u);break e}else if(g===C){s.tag=14,s=QS(null,s,i,f,u);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return ay(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,g=Vo(f,s.pendingProps),nT(i,s,f,g,u);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;g=y.element,Dv(i,s),Uc(s,f,null,u);var T=s.memoizedState;if(f=T.cache,hs(s,Zt,f),f!==y.cache&&xv(s,[Zt],u,!0),Vc(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=rT(i,s,f,u);break e}else if(f!==g){g=kr(Error(r(424)),s),Dc(g),s=rT(i,s,f,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Et=zr(i.firstChild),Tn=s,Qe=!0,cs=null,Vr=!0,u=ZA(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Po(),f===g){s=da(i,s,u);break e}On(i,s,f,u)}s=s.child}return s;case 26:return Dd(i,s),i===null?(u=yx(s.type,null,s.pendingProps,null))?s.memoizedState=u:Qe||(u=s.type,i=s.pendingProps,f=Wd(Re.current).createElement(u),f[Wt]=s,f[gn]=i,Cn(f,u,i),Qt(f),s.stateNode=f):s.memoizedState=yx(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ce(s),i===null&&Qe&&(f=s.stateNode=px(s.type,s.pendingProps,Re.current),Tn=s,Vr=!0,g=Et,Ts(s.type)?(Hy=g,Et=zr(f.firstChild)):Et=g),On(i,s,s.pendingProps.children,u),Dd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Qe&&((g=f=Et)&&(f=aV(f,s.type,s.pendingProps,Vr),f!==null?(s.stateNode=f,Tn=s,Et=zr(f.firstChild),Vr=!1,g=!0):g=!1),g||fs(s)),Ce(s),g=s.type,y=s.pendingProps,T=i!==null?i.memoizedProps:null,f=y.children,zy(g,y)?f=null:T!==null&&zy(g,T)&&(s.flags|=32),s.memoizedState!==null&&(g=Uv(i,s,_3,null,null,u),sf._currentValue=g),Dd(i,s),On(i,s,f,u),s.child;case 6:return i===null&&Qe&&((i=u=Et)&&(u=sV(u,s.pendingProps,Vr),u!==null?(s.stateNode=u,Tn=s,Et=null,i=!0):i=!1),i||fs(s)),null;case 13:return iT(i,s,u);case 4:return ot(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=jo(s,null,f,u):On(i,s,f,u),s.child;case 11:return WS(i,s,s.type,s.pendingProps,u);case 7:return On(i,s,s.pendingProps,u),s.child;case 8:return On(i,s,s.pendingProps.children,u),s.child;case 12:return On(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,hs(s,s.type,f.value),On(i,s,f.children,u),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,Do(s),g=xn(g),f=f(g),s.flags|=1,On(i,s,f,u),s.child;case 14:return QS(i,s,s.type,s.pendingProps,u);case 15:return XS(i,s,s.type,s.pendingProps,u);case 19:return sT(i,s,u);case 31:return C3(i,s,u);case 22:return ZS(i,s,u,s.pendingProps);case 24:return Do(s),f=xn(Zt),i===null?(g=Iv(),g===null&&(g=vt,y=Ov(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),s.memoizedState={parent:f,cache:g},Rv(s),hs(s,Zt,g)):((i.lanes&u)!==0&&(Dv(i,s),Uc(s,null,null,u),Vc()),g=i.memoizedState,y=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),hs(s,Zt,f)):(f=y.cache,hs(s,Zt,f),f!==g.cache&&xv(s,[Zt],u,!0))),On(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ma(i){i.flags|=4}function dy(i,s,u,f,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(MT())i.flags|=8192;else throw ko=vd,Pv}else i.flags&=-16777217}function lT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ax(s))if(MT())i.flags|=8192;else throw ko=vd,Pv}function Md(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?zh():536870912,i.lanes|=s,Jl|=s)}function Hc(i,s){if(!Qe)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function At(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function P3(i,s,u){var f=s.pendingProps;switch(wv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ca(Zt),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(zl(s)?ma(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Av())),At(s),null;case 26:var g=s.type,y=s.memoizedState;return i===null?(ma(s),y!==null?(At(s),lT(s,y)):(At(s),dy(s,g,null,f,u))):y?y!==i.memoizedState?(ma(s),At(s),lT(s,y)):(At(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&ma(s),At(s),dy(s,g,i,f,u)),null;case 27:if(Me(s),u=Re.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ma(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return At(s),null}i=me.current,zl(s)?BA(s):(i=px(g,f,u),s.stateNode=i,ma(s))}return At(s),null;case 5:if(Me(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ma(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(y=me.current,zl(s))BA(s);else{var T=Wd(Re.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?T.createElement("select",{is:f.is}):T.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?T.createElement(g,{is:f.is}):T.createElement(g)}}y[Wt]=s,y[gn]=f;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=y;e:switch(Cn(y,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ma(s)}}return At(s),dy(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&ma(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Re.current,zl(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,g=Tn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Wt]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||ix(i.nodeValue,u)),i||fs(s,!0)}else i=Wd(i).createTextNode(f),i[Wt]=s,s.stateNode=i}return At(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(f=zl(s),u!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Wt]=s}else Po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),i=!1}else u=Av(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(gr(s),s):(gr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=zl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Wt]=s}else Po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),g=!1}else g=Av(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(gr(s),s):(gr(s),null)}return gr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=f!==null,i=i!==null&&i.memoizedState!==null,u&&(f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),Md(s,s.updateQueue),At(s),null);case 4:return ie(),i===null&&ky(s.stateNode.containerInfo),At(s),null;case 10:return ca(s.type),At(s),null;case 19:if(te(qt),f=s.memoizedState,f===null)return At(s),null;if(g=(s.flags&128)!==0,y=f.rendering,y===null)if(g)Hc(f,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=wd(i),y!==null){for(s.flags|=128,Hc(f,!1),i=y.updateQueue,s.updateQueue=i,Md(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)jA(u,i),u=u.sibling;return fe(qt,qt.current&1|2),Qe&&la(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&Hn()>Ud&&(s.flags|=128,g=!0,Hc(f,!1),s.lanes=4194304)}else{if(!g)if(i=wd(y),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,Md(s,i),Hc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Qe)return At(s),null}else 2*Hn()-f.renderingStartTime>Ud&&u!==536870912&&(s.flags|=128,g=!0,Hc(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(i=f.last,i!==null?i.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Hn(),i.sibling=null,u=qt.current,fe(qt,g?u&1|2:u&1),Qe&&la(s,f.treeForkCount),i):(At(s),null);case 22:case 23:return gr(s),jv(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),u=s.updateQueue,u!==null&&Md(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&te(No),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ca(Zt),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function R3(i,s){switch(wv(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ca(Zt),ie(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 31:if(s.memoizedState!==null){if(gr(s),s.alternate===null)throw Error(r(340));Po()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(gr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Po()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(qt),null;case 4:return ie(),null;case 10:return ca(s.type),null;case 22:case 23:return gr(s),jv(),i!==null&&te(No),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ca(Zt),null;case 25:return null;default:return null}}function uT(i,s){switch(wv(s),s.tag){case 3:ca(Zt),ie();break;case 26:case 27:case 5:Me(s);break;case 4:ie();break;case 31:s.memoizedState!==null&&gr(s);break;case 13:gr(s);break;case 19:te(qt);break;case 10:ca(s.type);break;case 22:case 23:gr(s),jv(),i!==null&&te(No);break;case 24:ca(Zt)}}function Kc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){f=void 0;var y=u.create,T=u.inst;f=y(),T.destroy=f}u=u.next}while(u!==g)}}catch(I){ct(s,s.return,I)}}function ys(i,s,u){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&i)===i){var T=f.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,g=s;var H=u,Z=I;try{Z()}catch(ae){ct(g,H,ae)}}}f=f.next}while(f!==y)}}catch(ae){ct(s,s.return,ae)}}function cT(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{eS(s,u)}catch(f){ct(i,i.return,f)}}}function fT(i,s,u){u.props=Vo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){ct(i,s,f)}}function Gc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(g){ct(i,s,g)}}function zi(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){ct(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){ct(i,s,g)}else u.current=null}function hT(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){ct(i,i.return,g)}}function my(i,s,u){try{var f=i.stateNode;J3(f,i.type,u,s),f[gn]=s}catch(g){ct(i,i.return,g)}}function dT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ts(i.type)||i.tag===4}function py(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ts(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gy(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ai));else if(f!==4&&(f===27&&Ts(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(gy(i,s,u),i=i.sibling;i!==null;)gy(i,s,u),i=i.sibling}function kd(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&Ts(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(kd(i,s,u),i=i.sibling;i!==null;)kd(i,s,u),i=i.sibling}function mT(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Cn(s,f,u),s[Wt]=i,s[gn]=u}catch(y){ct(i,i.return,y)}}var pa=!1,tn=!1,vy=!1,pT=typeof WeakSet=="function"?WeakSet:Set,yn=null;function D3(i,s){if(i=i.containerInfo,Vy=nm,i=OA(i),cv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var T=0,I=-1,H=-1,Z=0,ae=0,le=i,ee=null;t:for(;;){for(var re;le!==u||g!==0&&le.nodeType!==3||(I=T+g),le!==y||f!==0&&le.nodeType!==3||(H=T+f),le.nodeType===3&&(T+=le.nodeValue.length),(re=le.firstChild)!==null;)ee=le,le=re;for(;;){if(le===i)break t;if(ee===u&&++Z===g&&(I=T),ee===y&&++ae===f&&(H=T),(re=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=re}u=I===-1||H===-1?null:{start:I,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Uy={focusedElem:i,selectionRange:u},nm=!1,yn=s;yn!==null;)if(s=yn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,yn=i;else for(;yn!==null;){switch(s=yn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)g=i[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,g=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var Ae=Vo(u.type,g);i=f.getSnapshotBeforeUpdate(Ae,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){ct(u,u.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)qy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,yn=i;break}yn=s.return}}function gT(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:va(i,u),f&4&&Kc(5,u);break;case 1:if(va(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(T){ct(u,u.return,T)}else{var g=Vo(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(u,u.return,T)}}f&64&&cT(u),f&512&&Gc(u,u.return);break;case 3:if(va(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{eS(i,s)}catch(T){ct(u,u.return,T)}}break;case 27:s===null&&f&4&&mT(u);case 26:case 5:va(i,u),s===null&&f&4&&hT(u),f&512&&Gc(u,u.return);break;case 12:va(i,u);break;case 31:va(i,u),f&4&&bT(i,u);break;case 13:va(i,u),f&4&&_T(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=B3.bind(null,u),oV(i,u))));break;case 22:if(f=u.memoizedState!==null||pa,!f){s=s!==null&&s.memoizedState!==null||tn,g=pa;var y=tn;pa=f,(tn=s)&&!y?ya(i,u,(u.subtreeFlags&8772)!==0):va(i,u),pa=g,tn=y}break;case 30:break;default:va(i,u)}}function vT(i){var s=i.alternate;s!==null&&(i.alternate=null,vT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Al(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,er=!1;function ga(i,s,u){for(u=u.child;u!==null;)yT(i,s,u),u=u.sibling}function yT(i,s,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ti,u)}catch{}switch(u.tag){case 26:tn||zi(u,s),ga(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:tn||zi(u,s);var f=xt,g=er;Ts(u.type)&&(xt=u.stateNode,er=!1),ga(i,s,u),nf(u.stateNode),xt=f,er=g;break;case 5:tn||zi(u,s);case 6:if(f=xt,g=er,xt=null,ga(i,s,u),xt=f,er=g,xt!==null)if(er)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(u.stateNode)}catch(y){ct(u,s,y)}else try{xt.removeChild(u.stateNode)}catch(y){ct(u,s,y)}break;case 18:xt!==null&&(er?(i=xt,cx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ou(i)):cx(xt,u.stateNode));break;case 4:f=xt,g=er,xt=u.stateNode.containerInfo,er=!0,ga(i,s,u),xt=f,er=g;break;case 0:case 11:case 14:case 15:ys(2,u,s),tn||ys(4,u,s),ga(i,s,u);break;case 1:tn||(zi(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&fT(u,s,f)),ga(i,s,u);break;case 21:ga(i,s,u);break;case 22:tn=(f=tn)||u.memoizedState!==null,ga(i,s,u),tn=f;break;default:ga(i,s,u)}}function bT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ou(i)}catch(u){ct(s,s.return,u)}}}function _T(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ou(i)}catch(u){ct(s,s.return,u)}}function N3(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new pT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new pT),s;default:throw Error(r(435,i.tag))}}function jd(i,s){var u=N3(i);s.forEach(function(f){if(!u.has(f)){u.add(f);var g=q3.bind(null,i,f);f.then(g,g)}})}function tr(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],y=i,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Ts(I.type)){xt=I.stateNode,er=!1;break e}break;case 5:xt=I.stateNode,er=!1;break e;case 3:case 4:xt=I.stateNode.containerInfo,er=!0;break e}I=I.return}if(xt===null)throw Error(r(160));yT(y,T,g),xt=null,er=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wT(s,i),s=s.sibling}var fi=null;function wT(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tr(s,i),nr(i),f&4&&(ys(3,i,i.return),Kc(3,i),ys(5,i,i.return));break;case 1:tr(s,i),nr(i),f&512&&(tn||u===null||zi(u,u.return)),f&64&&pa&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=fi;if(tr(s,i),nr(i),f&512&&(tn||u===null||zi(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":y=g.getElementsByTagName("title")[0],(!y||y[xi]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(f),g.head.insertBefore(y,g.querySelector("head > title"))),Cn(y,f,u),y[Wt]=i,Qt(y),f=y;break e;case"link":var T=wx("link","href",g).get(f+(u.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(I,1);break t}}y=g.createElement(f),Cn(y,f,u),g.head.appendChild(y);break;case"meta":if(T=wx("meta","content",g).get(f+(u.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(I,1);break t}}y=g.createElement(f),Cn(y,f,u),g.head.appendChild(y);break;default:throw Error(r(468,f))}y[Wt]=i,Qt(y),f=y}i.stateNode=f}else Ex(g,i.type,i.stateNode);else i.stateNode=_x(g,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Ex(g,i.type,i.stateNode):_x(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&my(i,i.memoizedProps,u.memoizedProps)}break;case 27:tr(s,i),nr(i),f&512&&(tn||u===null||zi(u,u.return)),u!==null&&f&4&&my(i,i.memoizedProps,u.memoizedProps);break;case 5:if(tr(s,i),nr(i),f&512&&(tn||u===null||zi(u,u.return)),i.flags&32){g=i.stateNode;try{Jn(g,"")}catch(Ae){ct(i,i.return,Ae)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,my(i,g,u!==null?u.memoizedProps:g)),f&1024&&(vy=!0);break;case 6:if(tr(s,i),nr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(Ae){ct(i,i.return,Ae)}}break;case 3:if(Zd=null,g=fi,fi=Qd(s.containerInfo),tr(s,i),fi=g,nr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ou(s.containerInfo)}catch(Ae){ct(i,i.return,Ae)}vy&&(vy=!1,ET(i));break;case 4:f=fi,fi=Qd(i.stateNode.containerInfo),tr(s,i),nr(i),fi=f;break;case 12:tr(s,i),nr(i);break;case 31:tr(s,i),nr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,jd(i,f)));break;case 13:tr(s,i),nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vd=Hn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,jd(i,f)));break;case 22:g=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,Z=pa,ae=tn;if(pa=Z||g,tn=ae||H,tr(s,i),tn=ae,pa=Z,nr(i),f&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(u===null||H||pa||tn||Uo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){H=u=s;try{if(y=H.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=H.stateNode;var le=H.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ae){ct(H,H.return,Ae)}}}else if(s.tag===6){if(u===null){H=s;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(Ae){ct(H,H.return,Ae)}}}else if(s.tag===18){if(u===null){H=s;try{var re=H.stateNode;g?fx(re,!0):fx(H.stateNode,!1)}catch(Ae){ct(H,H.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,jd(i,u))));break;case 19:tr(s,i),nr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,jd(i,f)));break;case 30:break;case 21:break;default:tr(s,i),nr(i)}}function nr(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(dT(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,y=py(i);kd(i,y,g);break;case 5:var T=u.stateNode;u.flags&32&&(Jn(T,""),u.flags&=-33);var I=py(i);kd(i,I,T);break;case 3:case 4:var H=u.stateNode.containerInfo,Z=py(i);gy(i,Z,H);break;default:throw Error(r(161))}}catch(ae){ct(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ET(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ET(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function va(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gT(i,s.alternate,s),s=s.sibling}function Uo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ys(4,s,s.return),Uo(s);break;case 1:zi(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&fT(s,s.return,u),Uo(s);break;case 27:nf(s.stateNode);case 26:case 5:zi(s,s.return),Uo(s);break;case 22:s.memoizedState===null&&Uo(s);break;case 30:Uo(s);break;default:Uo(s)}i=i.sibling}}function ya(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=i,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:ya(g,y,u),Kc(4,y);break;case 1:if(ya(g,y,u),f=y,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){ct(f,f.return,Z)}if(f=y,g=f.updateQueue,g!==null){var I=f.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)JA(H[g],I)}catch(Z){ct(f,f.return,Z)}}u&&T&64&&cT(y),Gc(y,y.return);break;case 27:mT(y);case 26:case 5:ya(g,y,u),u&&f===null&&T&4&&hT(y),Gc(y,y.return);break;case 12:ya(g,y,u);break;case 31:ya(g,y,u),u&&T&4&&bT(g,y);break;case 13:ya(g,y,u),u&&T&4&&_T(g,y);break;case 22:y.memoizedState===null&&ya(g,y,u),Gc(y,y.return);break;case 30:break;default:ya(g,y,u)}s=s.sibling}}function yy(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Nc(u))}function by(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Nc(i))}function hi(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)AT(i,s,u,f),s=s.sibling}function AT(i,s,u,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:hi(i,s,u,f),g&2048&&Kc(9,s);break;case 1:hi(i,s,u,f);break;case 3:hi(i,s,u,f),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Nc(i)));break;case 12:if(g&2048){hi(i,s,u,f),i=s.stateNode;try{var y=s.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){ct(s,s.return,H)}}else hi(i,s,u,f);break;case 31:hi(i,s,u,f);break;case 13:hi(i,s,u,f);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?hi(i,s,u,f):Yc(i,s):y._visibility&2?hi(i,s,u,f):(y._visibility|=2,Ql(i,s,u,f,(s.subtreeFlags&10256)!==0||!1)),g&2048&&yy(T,s);break;case 24:hi(i,s,u,f),g&2048&&by(s.alternate,s);break;default:hi(i,s,u,f)}}function Ql(i,s,u,f,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,T=s,I=u,H=f,Z=T.flags;switch(T.tag){case 0:case 11:case 15:Ql(y,T,I,H,g),Kc(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&2?Ql(y,T,I,H,g):Yc(y,T):(ae._visibility|=2,Ql(y,T,I,H,g)),g&&Z&2048&&yy(T.alternate,T);break;case 24:Ql(y,T,I,H,g),g&&Z&2048&&by(T.alternate,T);break;default:Ql(y,T,I,H,g)}s=s.sibling}}function Yc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,g=f.flags;switch(f.tag){case 22:Yc(u,f),g&2048&&yy(f.alternate,f);break;case 24:Yc(u,f),g&2048&&by(f.alternate,f);break;default:Yc(u,f)}s=s.sibling}}var Wc=8192;function Xl(i,s,u){if(i.subtreeFlags&Wc)for(i=i.child;i!==null;)ST(i,s,u),i=i.sibling}function ST(i,s,u){switch(i.tag){case 26:Xl(i,s,u),i.flags&Wc&&i.memoizedState!==null&&bV(u,fi,i.memoizedState,i.memoizedProps);break;case 5:Xl(i,s,u);break;case 3:case 4:var f=fi;fi=Qd(i.stateNode.containerInfo),Xl(i,s,u),fi=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Wc,Wc=16777216,Xl(i,s,u),Wc=f):Xl(i,s,u));break;default:Xl(i,s,u)}}function TT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Qc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];yn=f,OT(f,i)}TT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xT(i),i=i.sibling}function xT(i){switch(i.tag){case 0:case 11:case 15:Qc(i),i.flags&2048&&ys(9,i,i.return);break;case 3:Qc(i);break;case 12:Qc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ld(i)):Qc(i);break;default:Qc(i)}}function Ld(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];yn=f,OT(f,i)}TT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ys(8,s,s.return),Ld(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Ld(s));break;default:Ld(s)}i=i.sibling}}function OT(i,s){for(;yn!==null;){var u=yn;switch(u.tag){case 0:case 11:case 15:ys(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Nc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,yn=f;else e:for(u=i;yn!==null;){f=yn;var g=f.sibling,y=f.return;if(vT(f),f===u){yn=null;break e}if(g!==null){g.return=y,yn=g;break e}yn=y}}}var M3={getCacheForType:function(i){var s=xn(Zt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return xn(Zt).controller.signal}},k3=typeof WeakMap=="function"?WeakMap:Map,at=0,vt=null,$e=null,He=0,ut=0,vr=null,bs=!1,Zl=!1,_y=!1,ba=0,Lt=0,_s=0,zo=0,wy=0,yr=0,Jl=0,Xc=null,rr=null,Ey=!1,Vd=0,CT=0,Ud=1/0,zd=null,ws=null,un=0,Es=null,eu=null,_a=0,Ay=0,Sy=null,IT=null,Zc=0,Ty=null;function br(){return(at&2)!==0&&He!==0?He&-He:K.T!==null?Ry():Bh()}function PT(){if(yr===0)if((He&536870912)===0||Qe){var i=ho;ho<<=1,(ho&3932160)===0&&(ho=262144),yr=i}else yr=536870912;return i=pr.current,i!==null&&(i.flags|=32),yr}function ir(i,s,u){(i===vt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(tu(i,0),As(i,He,yr,!1)),mo(i,u),((at&2)===0||i!==vt)&&(i===vt&&((at&2)===0&&(zo|=u),Lt===4&&As(i,He,yr,!1)),Bi(i))}function RT(i,s,u){if((at&6)!==0)throw Error(r(327));var f=!u&&(s&127)===0&&(s&i.expiredLanes)===0||ni(i,s),g=f?V3(i,s):Oy(i,s,!0),y=f;do{if(g===0){Zl&&!f&&As(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!j3(u)){g=Oy(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var I=i;g=Xc;var H=I.current.memoizedState.isDehydrated;if(H&&(tu(I,T).flags|=256),T=Oy(I,T,!1),T!==2){if(_y&&!H){I.errorRecoveryDisabledLanes|=y,zo|=y,g=4;break e}y=rr,rr=g,y!==null&&(rr===null?rr=y:rr.push.apply(rr,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){tu(i,0),As(i,s,0,!0);break}e:{switch(f=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:As(f,s,yr,!bs);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Vd+300-Hn(),10<g)){if(As(f,s,yr,!bs),Ai(f,0,!0)!==0)break e;_a=s,f.timeoutHandle=lx(DT.bind(null,f,u,rr,zd,Ey,s,yr,zo,Jl,bs,y,"Throttled",-0,0),g);break e}DT(f,u,rr,zd,Ey,s,yr,zo,Jl,bs,y,null,-0,0)}}break}while(!0);Bi(i)}function DT(i,s,u,f,g,y,T,I,H,Z,ae,le,ee,re){if(i.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},ST(s,y,le);var Ae=(y&62914560)===y?Vd-Hn():(y&4194048)===y?CT-Hn():0;if(Ae=_V(le,Ae),Ae!==null){_a=y,i.cancelPendingCommit=Ae(zT.bind(null,i,s,y,u,f,g,T,I,H,ae,le,null,ee,re)),As(i,y,T,!Z);return}}zT(i,s,y,u,f,g,T,I,H)}function j3(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],y=g.getSnapshot;g=g.value;try{if(!dr(y(),g))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(i,s,u,f){s&=~wy,s&=~zo,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var g=s;0<g;){var y=31-zt(g),T=1<<y;f[y]=-1,g&=~T}u!==0&&po(i,u,s)}function Bd(){return(at&6)===0?(Jc(0),!1):!0}function xy(){if($e!==null){if(ut===0)var i=$e.return;else i=$e,ua=Ro=null,qv(i),Hl=null,kc=0,i=$e;for(;i!==null;)uT(i.alternate,i),i=i.return;$e=null}}function tu(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,nV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),_a=0,xy(),vt=i,$e=u=oa(i.current,null),He=s,ut=0,vr=null,bs=!1,Zl=ni(i,s),_y=!1,Jl=yr=wy=zo=_s=Lt=0,rr=Xc=null,Ey=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var g=31-zt(f),y=1<<g;s|=i[g],f&=~y}return ba=s,ld(),u}function NT(i,s){ze=null,K.H=$c,s===Fl||s===gd?(s=WA(),ut=3):s===Pv?(s=WA(),ut=4):ut=s===iy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,vr=s,$e===null&&(Lt=1,Pd(i,kr(s,i.current)))}function MT(){var i=pr.current;return i===null?!0:(He&4194048)===He?Ur===null:(He&62914560)===He||(He&536870912)!==0?i===Ur:!1}function kT(){var i=K.H;return K.H=$c,i===null?$c:i}function jT(){var i=K.A;return K.A=M3,i}function qd(){Lt=4,bs||(He&4194048)!==He&&pr.current!==null||(Zl=!0),(_s&134217727)===0&&(zo&134217727)===0||vt===null||As(vt,He,yr,!1)}function Oy(i,s,u){var f=at;at|=2;var g=kT(),y=jT();(vt!==i||He!==s)&&(zd=null,tu(i,s)),s=!1;var T=Lt;e:do try{if(ut!==0&&$e!==null){var I=$e,H=vr;switch(ut){case 8:xy(),T=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(s=!0);var Z=ut;if(ut=0,vr=null,nu(i,I,H,Z),u&&Zl){T=0;break e}break;default:Z=ut,ut=0,vr=null,nu(i,I,H,Z)}}L3(),T=Lt;break}catch(ae){NT(i,ae)}while(!0);return s&&i.shellSuspendCounter++,ua=Ro=null,at=f,K.H=g,K.A=y,$e===null&&(vt=null,He=0,ld()),T}function L3(){for(;$e!==null;)LT($e)}function V3(i,s){var u=at;at|=2;var f=kT(),g=jT();vt!==i||He!==s?(zd=null,Ud=Hn()+500,tu(i,s)):Zl=ni(i,s);e:do try{if(ut!==0&&$e!==null){s=$e;var y=vr;t:switch(ut){case 1:ut=0,vr=null,nu(i,s,y,1);break;case 2:case 9:if(GA(y)){ut=0,vr=null,VT(s);break}s=function(){ut!==2&&ut!==9||vt!==i||(ut=7),Bi(i)},y.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:GA(y)?(ut=0,vr=null,VT(s)):(ut=0,vr=null,nu(i,s,y,7));break;case 5:var T=null;switch($e.tag){case 26:T=$e.memoizedState;case 5:case 27:var I=$e;if(T?Ax(T):I.stateNode.complete){ut=0,vr=null;var H=I.sibling;if(H!==null)$e=H;else{var Z=I.return;Z!==null?($e=Z,$d(Z)):$e=null}break t}}ut=0,vr=null,nu(i,s,y,5);break;case 6:ut=0,vr=null,nu(i,s,y,6);break;case 8:xy(),Lt=6;break e;default:throw Error(r(462))}}U3();break}catch(ae){NT(i,ae)}while(!0);return ua=Ro=null,K.H=f,K.A=g,at=u,$e!==null?0:(vt=null,He=0,ld(),Lt)}function U3(){for(;$e!==null&&!rv();)LT($e)}function LT(i){var s=oT(i.alternate,i,ba);i.memoizedProps=i.pendingProps,s===null?$d(i):$e=s}function VT(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=tT(u,s,s.pendingProps,s.type,void 0,He);break;case 11:s=tT(u,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:qv(s);default:uT(u,s),s=$e=jA(s,ba),s=oT(u,s,ba)}i.memoizedProps=i.pendingProps,s===null?$d(i):$e=s}function nu(i,s,u,f){ua=Ro=null,qv(s),Hl=null,kc=0;var g=s.return;try{if(O3(i,g,s,u,He)){Lt=1,Pd(i,kr(u,i.current)),$e=null;return}}catch(y){if(g!==null)throw $e=g,y;Lt=1,Pd(i,kr(u,i.current)),$e=null;return}s.flags&32768?(Qe||f===1?i=!0:Zl||(He&536870912)!==0?i=!1:(bs=i=!0,(f===2||f===9||f===3||f===6)&&(f=pr.current,f!==null&&f.tag===13&&(f.flags|=16384))),UT(s,i)):$d(s)}function $d(i){var s=i;do{if((s.flags&32768)!==0){UT(s,bs);return}i=s.return;var u=P3(s.alternate,s,ba);if(u!==null){$e=u;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=i}while(s!==null);Lt===0&&(Lt=5)}function UT(i,s){do{var u=R3(i.alternate,i);if(u!==null){u.flags&=32767,$e=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){$e=i;return}$e=i=u}while(i!==null);Lt=6,$e=null}function zT(i,s,u,f,g,y,T,I,H){i.cancelPendingCommit=null;do Fd();while(un!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=pv,sv(i,u,y,T,I,H),i===vt&&($e=vt=null,He=0),eu=s,Es=i,_a=u,Ay=y,Sy=g,IT=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$3(Ja,function(){return HT(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,g=W.p,W.p=2,T=at,at|=4;try{D3(i,s,u)}finally{at=T,W.p=g,K.T=f}}un=1,BT(),qT(),$T()}}function BT(){if(un===1){un=0;var i=Es,s=eu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var f=W.p;W.p=2;var g=at;at|=4;try{wT(s,i);var y=Uy,T=OA(i.containerInfo),I=y.focusedElem,H=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&xA(I.ownerDocument.documentElement,I)){if(H!==null&&cv(I)){var Z=H.start,ae=H.end;if(ae===void 0&&(ae=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(ae,I.value.length);else{var le=I.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ae=I.textContent.length,Ie=Math.min(H.start,Ae),pt=H.end===void 0?Ie:Math.min(H.end,Ae);!re.extend&&Ie>pt&&(T=pt,pt=Ie,Ie=T);var Y=TA(I,Ie),G=TA(I,pt);if(Y&&G&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var X=le.createRange();X.setStart(Y.node,Y.offset),re.removeAllRanges(),Ie>pt?(re.addRange(X),re.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),re.addRange(X))}}}}for(le=[],re=I;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<le.length;I++){var se=le[I];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}nm=!!Vy,Uy=Vy=null}finally{at=g,W.p=f,K.T=u}}i.current=s,un=2}}function qT(){if(un===2){un=0;var i=Es,s=eu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var f=W.p;W.p=2;var g=at;at|=4;try{gT(i,s.alternate,s)}finally{at=g,W.p=f,K.T=u}}un=3}}function $T(){if(un===4||un===3){un=0,Mh();var i=Es,s=eu,u=_a,f=IT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,eu=Es=null,FT(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ws=null),ra(u),s=s.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ti,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=K.T,g=W.p,W.p=2,K.T=null;try{for(var y=i.onRecoverableError,T=0;T<f.length;T++){var I=f[T];y(I.value,{componentStack:I.stack})}}finally{K.T=s,W.p=g}}(_a&3)!==0&&Fd(),Bi(i),g=i.pendingLanes,(u&261930)!==0&&(g&42)!==0?i===Ty?Zc++:(Zc=0,Ty=i):Zc=0,Jc(0)}}function FT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Nc(s)))}function Fd(){return BT(),qT(),$T(),HT()}function HT(){if(un!==5)return!1;var i=Es,s=Ay;Ay=0;var u=ra(_a),f=K.T,g=W.p;try{W.p=32>u?32:u,K.T=null,u=Sy,Sy=null;var y=Es,T=_a;if(un=0,eu=Es=null,_a=0,(at&6)!==0)throw Error(r(331));var I=at;if(at|=4,xT(y.current),AT(y,y.current,T,u),at=I,Jc(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ti,y)}catch{}return!0}finally{W.p=g,K.T=f,FT(i,s)}}function KT(i,s,u){s=kr(u,s),s=ry(i.stateNode,s,2),i=ps(i,s,2),i!==null&&(mo(i,2),Bi(i))}function ct(i,s,u){if(i.tag===3)KT(i,i,u);else for(;s!==null;){if(s.tag===3){KT(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))){i=kr(u,i),u=GS(2),f=ps(s,u,2),f!==null&&(YS(u,f,s,i),mo(f,2),Bi(f));break}}s=s.return}}function Cy(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new k3;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(u)||(_y=!0,g.add(u),i=z3.bind(null,i,s,u),s.then(i,i))}function z3(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,vt===i&&(He&u)===u&&(Lt===4||Lt===3&&(He&62914560)===He&&300>Hn()-Vd?(at&2)===0&&tu(i,0):wy|=u,Jl===He&&(Jl=0)),Bi(i)}function GT(i,s){s===0&&(s=zh()),i=Co(i,s),i!==null&&(mo(i,s),Bi(i))}function B3(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),GT(i,u)}function q3(i,s){var u=0;switch(i.tag){case 31:case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),GT(i,u)}function $3(i,s){return ln(i,s)}var Hd=null,ru=null,Iy=!1,Kd=!1,Py=!1,Ss=0;function Bi(i){i!==ru&&i.next===null&&(ru===null?Hd=ru=i:ru=ru.next=i),Kd=!0,Iy||(Iy=!0,H3())}function Jc(i,s){if(!Py&&Kd){Py=!0;do for(var u=!1,f=Hd;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var y=0;else{var T=f.suspendedLanes,I=f.pingedLanes;y=(1<<31-zt(42|i)+1)-1,y&=g&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,XT(f,y))}else y=He,y=Ai(f,f===vt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||ni(f,y)||(u=!0,XT(f,y));f=f.next}while(u);Py=!1}}function F3(){YT()}function YT(){Kd=Iy=!1;var i=0;Ss!==0&&tV()&&(i=Ss);for(var s=Hn(),u=null,f=Hd;f!==null;){var g=f.next,y=WT(f,s);y===0?(f.next=null,u===null?Hd=g:u.next=g,g===null&&(ru=u)):(u=f,(i!==0||(y&3)!==0)&&(Kd=!0)),f=g}un!==0&&un!==5||Jc(i),Ss!==0&&(Ss=0)}function WT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-zt(y),I=1<<T,H=g[T];H===-1?((I&u)===0||(I&f)!==0)&&(g[T]=av(I,s)):H<=s&&(i.expiredLanes|=I),y&=~I}if(s=vt,u=He,u=Ai(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Za(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ni(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Za(f),ra(u)){case 2:case 8:u=uc;break;case 32:u=Ja;break;case 268435456:u=kh;break;default:u=Ja}return f=QT.bind(null,i),u=ln(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Za(f),i.callbackPriority=2,i.callbackNode=null,2}function QT(i,s){if(un!==0&&un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Fd()&&i.callbackNode!==u)return null;var f=He;return f=Ai(i,i===vt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(RT(i,f,s),WT(i,Hn()),i.callbackNode!=null&&i.callbackNode===u?QT.bind(null,i):null)}function XT(i,s){if(Fd())return null;RT(i,s,!0)}function H3(){rV(function(){(at&6)!==0?ln(lc,F3):YT()})}function Ry(){if(Ss===0){var i=ql;i===0&&(i=wi,wi<<=1,(wi&261888)===0&&(wi=256)),Ss=i}return Ss}function ZT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ol(""+i)}function JT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function K3(i,s,u,f,g){if(s==="submit"&&u&&u.stateNode===g){var y=ZT((g[gn]||null).action),T=f.submitter;T&&(s=(s=T[gn]||null)?ZT(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var I=new Mi("action","action",null,f,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ss!==0){var H=T?JT(g,T):new FormData(g);Xv(u,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=T?JT(g,T):new FormData(g),Xv(u,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var Dy=0;Dy<mv.length;Dy++){var Ny=mv[Dy],G3=Ny.toLowerCase(),Y3=Ny[0].toUpperCase()+Ny.slice(1);ci(G3,"on"+Y3)}ci(PA,"onAnimationEnd"),ci(RA,"onAnimationIteration"),ci(DA,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(c3,"onTransitionRun"),ci(f3,"onTransitionStart"),ci(h3,"onTransitionCancel"),ci(NA,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function ex(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var T=f.length-1;0<=T;T--){var I=f[T],H=I.instance,Z=I.currentTarget;if(I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=Z;try{y(g)}catch(ae){od(ae)}g.currentTarget=null,y=H}else for(T=0;T<f.length;T++){if(I=f[T],H=I.instance,Z=I.currentTarget,I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=Z;try{y(g)}catch(ae){od(ae)}g.currentTarget=null,y=H}}}}function Fe(i,s){var u=s[El];u===void 0&&(u=s[El]=new Set);var f=i+"__bubble";u.has(f)||(tx(s,i,2,!1),u.add(f))}function My(i,s,u){var f=0;s&&(f|=4),tx(u,i,f,s)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function ky(i){if(!i[Gd]){i[Gd]=!0,hc.forEach(function(u){u!=="selectionchange"&&(W3.has(u)||My(u,!1,i),My(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gd]||(s[Gd]=!0,My("selectionchange",!1,s))}}function tx(i,s,u,f){switch(Px(s)){case 2:var g=AV;break;case 8:g=SV;break;default:g=Qy}u=g.bind(null,s,u,i),g=void 0,!_o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function jy(i,s,u,f,g){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var I=f.stateNode.containerInfo;if(I===g)break;if(T===4)for(T=f.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;I!==null;){if(T=Oi(I),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){f=y=T;continue e}I=I.parentNode}}f=f.return}as(function(){var Z=y,ae=Rr(u),le=[];e:{var ee=MA.get(i);if(ee!==void 0){var re=Mi,Ae=i;switch(i){case"keypress":if(Eo(u)===0)break e;case"keydown":case"keyup":re=id;break;case"focusin":Ae="focus",re=So;break;case"focusout":Ae="blur",re=So;break;case"beforeblur":case"afterblur":re=So;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=w;break;case PA:case RA:case DA:re=Xh;break;case NA:re=k;break;case"scroll":case"scrollend":re=Sc;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=sa;break;case"toggle":case"beforetoggle":re=Ue}var Ie=(s&4)!==0,pt=!Ie&&(i==="scroll"||i==="scrollend"),Y=Ie?ee!==null?ee+"Capture":null:ee;Ie=[];for(var G=Z,X;G!==null;){var se=G;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||Y===null||(se=si(G,Y),se!=null&&Ie.push(tf(G,se,X))),pt)break;G=G.return}0<Ie.length&&(ee=new re(ee,Ae,null,u,ae),le.push({event:ee,listeners:Ie}))}}if((s&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ee&&u!==wc&&(Ae=u.relatedTarget||u.fromElement)&&(Oi(Ae)||Ae[Ti]))break e;if((re||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ae=u.relatedTarget||u.toElement,re=Z,Ae=Ae?Oi(Ae):null,Ae!==null&&(pt=o(Ae),Ie=Ae.tag,Ae!==pt||Ie!==5&&Ie!==27&&Ie!==6)&&(Ae=null)):(re=null,Ae=Z),re!==Ae)){if(Ie=Tc,se="onMouseLeave",Y="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=sa,se="onPointerLeave",Y="onPointerEnter",G="pointer"),pt=re==null?ee:fr(re),X=Ae==null?ee:fr(Ae),ee=new Ie(se,G+"leave",re,u,ae),ee.target=pt,ee.relatedTarget=X,se=null,Oi(ae)===Z&&(Ie=new Ie(Y,G+"enter",Ae,u,ae),Ie.target=X,Ie.relatedTarget=pt,se=Ie),pt=se,re&&Ae)t:{for(Ie=Q3,Y=re,G=Ae,X=0,se=Y;se;se=Ie(se))X++;se=0;for(var xe=G;xe;xe=Ie(xe))se++;for(;0<X-se;)Y=Ie(Y),X--;for(;0<se-X;)G=Ie(G),se--;for(;X--;){if(Y===G||G!==null&&Y===G.alternate){Ie=Y;break t}Y=Ie(Y),G=Ie(G)}Ie=null}else Ie=null;re!==null&&nx(le,ee,re,Ie,!1),Ae!==null&&pt!==null&&nx(le,pt,Ae,Ie,!0)}}e:{if(ee=Z?fr(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var et=bA;else if(vA(ee))if(_A)et=o3;else{et=a3;var Se=i3}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&xl(Z.elementType)&&(et=bA):et=s3;if(et&&(et=et(i,Z))){yA(le,et,u,ae);break e}Se&&Se(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&yc(ee,"number",ee.value)}switch(Se=Z?fr(Z):window,i){case"focusin":(vA(Se)||Se.contentEditable==="true")&&(Ml=Se,fv=Z,Pc=null);break;case"focusout":Pc=fv=Ml=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,CA(le,u,ae);break;case"selectionchange":if(u3)break;case"keydown":case"keyup":CA(le,u,ae)}var Be;if(it)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Nl?To(i,u)&&(Ke="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ke="onCompositionStart");Ke&&(Li&&u.locale!=="ko"&&(Nl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Nl&&(Be=Ac()):(Ni=ae,Ec="value"in Ni?Ni.value:Ni.textContent,Nl=!0)),Se=Yd(Z,Ke),0<Se.length&&(Ke=new ji(Ke,i,null,u,ae),le.push({event:Ke,listeners:Se}),Be?Ke.data=Be:(Be=Dl(u),Be!==null&&(Ke.data=Be)))),(Be=Nr?e3(i,u):t3(i,u))&&(Ke=Yd(Z,"onBeforeInput"),0<Ke.length&&(Se=new ji("onBeforeInput","beforeinput",null,u,ae),le.push({event:Se,listeners:Ke}),Se.data=Be)),K3(le,i,Z,u,ae)}ex(le,s)})}function tf(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Yd(i,s){for(var u=s+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=si(i,u),g!=null&&f.unshift(tf(i,g,y)),g=si(i,s),g!=null&&f.push(tf(i,g,y))),i.tag===3)return f;i=i.return}return[]}function Q3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nx(i,s,u,f,g){for(var y=s._reactName,T=[];u!==null&&u!==f;){var I=u,H=I.alternate,Z=I.stateNode;if(I=I.tag,H!==null&&H===f)break;I!==5&&I!==26&&I!==27||Z===null||(H=Z,g?(Z=si(u,y),Z!=null&&T.unshift(tf(u,Z,H))):g||(Z=si(u,y),Z!=null&&T.push(tf(u,Z,H)))),u=u.return}T.length!==0&&i.push({event:s,listeners:T})}var X3=/\r\n?/g,Z3=/\u0000|\uFFFD/g;function rx(i){return(typeof i=="string"?i:""+i).replace(X3,`
`).replace(Z3,"")}function ix(i,s){return s=rx(s),rx(i)===s}function mt(i,s,u,f,g,y){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Jn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Jn(i,""+f);break;case"className":hr(i,"class",f);break;case"tabIndex":hr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(i,u,f);break;case"style":_c(i,f,y);break;case"data":if(s!=="object"){hr(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ol(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&mt(i,s,"name",g.name,g,null),mt(i,s,"formEncType",g.formEncType,g,null),mt(i,s,"formMethod",g.formMethod,g,null),mt(i,s,"formTarget",g.formTarget,g,null)):(mt(i,s,"encType",g.encType,g,null),mt(i,s,"method",g.method,g,null),mt(i,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ol(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=ai);break;case"onScroll":f!=null&&Fe("scroll",i);break;case"onScrollEnd":f!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Ol(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Sl(i,"popover",f);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Sl(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Yh.get(u)||u,Sl(i,u,f))}}function Ly(i,s,u,f,g,y){switch(u){case"style":_c(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Jn(i,f):(typeof f=="number"||typeof f=="bigint")&&Jn(i,""+f);break;case"onScroll":f!=null&&Fe("scroll",i);break;case"onScrollEnd":f!=null&&Fe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),s=u.slice(2,g?u.length-7:void 0),y=i[gn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,g);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Sl(i,u,f)}}}function Cn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var f=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var T=u[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,y,T,u,null)}}g&&mt(i,s,"srcSet",u.srcSet,u,null),f&&mt(i,s,"src",u.src,u,null);return;case"input":Fe("invalid",i);var I=y=T=g=null,H=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var ae=u[f];if(ae!=null)switch(f){case"name":g=ae;break;case"type":T=ae;break;case"checked":H=ae;break;case"defaultChecked":Z=ae;break;case"value":y=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:mt(i,s,f,ae,u,null)}}Hh(i,y,I,H,Z,T,g,!1);return;case"select":Fe("invalid",i),f=T=y=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":f=I;default:mt(i,s,g,I,u,null)}s=y,u=T,i.multiple=!!f,s!=null?ts(i,!!f,s,!1):u!=null&&ts(i,!!f,u,!0);return;case"textarea":Fe("invalid",i),y=g=f=null;for(T in u)if(u.hasOwnProperty(T)&&(I=u[T],I!=null))switch(T){case"value":f=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:mt(i,s,T,I,u,null)}ns(i,f,g,y);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:mt(i,s,H,f,u,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(f=0;f<ef.length;f++)Fe(ef[f],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,Z,f,u,null)}return;default:if(xl(s)){for(ae in u)u.hasOwnProperty(ae)&&(f=u[ae],f!==void 0&&Ly(i,s,ae,f,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null&&mt(i,s,I,f,u,null))}function J3(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,I=null,H=null,Z=null,ae=null;for(re in u){var le=u[re];if(u.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=le;default:f.hasOwnProperty(re)||mt(i,s,re,null,f,le)}}for(var ee in f){var re=f[ee];if(le=u[ee],f.hasOwnProperty(ee)&&(re!=null||le!=null))switch(ee){case"type":y=re;break;case"name":g=re;break;case"checked":Z=re;break;case"defaultChecked":ae=re;break;case"value":T=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==le&&mt(i,s,ee,re,f,le)}}Tl(i,T,I,H,Z,ae,y,g);return;case"select":re=T=I=ee=null;for(y in u)if(H=u[y],u.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:f.hasOwnProperty(y)||mt(i,s,y,null,f,H)}for(g in f)if(y=f[g],H=u[g],f.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":ee=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==H&&mt(i,s,g,y,f,H)}s=I,u=T,f=re,ee!=null?ts(i,!!u,ee,!1):!!f!=!!u&&(s!=null?ts(i,!!u,s,!0):ts(i,!!u,u?[]:"",!1));return;case"textarea":re=ee=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:mt(i,s,I,null,f,g)}for(T in f)if(g=f[T],y=u[T],f.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":ee=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&mt(i,s,T,g,f,y)}Kh(i,ee,re);return;case"option":for(var Ae in u)if(ee=u[Ae],u.hasOwnProperty(Ae)&&ee!=null&&!f.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:mt(i,s,Ae,null,f,ee)}for(H in f)if(ee=f[H],re=u[H],f.hasOwnProperty(H)&&ee!==re&&(ee!=null||re!=null))switch(H){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(i,s,H,ee,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in u)ee=u[Ie],u.hasOwnProperty(Ie)&&ee!=null&&!f.hasOwnProperty(Ie)&&mt(i,s,Ie,null,f,ee);for(Z in f)if(ee=f[Z],re=u[Z],f.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:mt(i,s,Z,ee,f,re)}return;default:if(xl(s)){for(var pt in u)ee=u[pt],u.hasOwnProperty(pt)&&ee!==void 0&&!f.hasOwnProperty(pt)&&Ly(i,s,pt,void 0,f,ee);for(ae in f)ee=f[ae],re=u[ae],!f.hasOwnProperty(ae)||ee===re||ee===void 0&&re===void 0||Ly(i,s,ae,ee,f,re);return}}for(var Y in u)ee=u[Y],u.hasOwnProperty(Y)&&ee!=null&&!f.hasOwnProperty(Y)&&mt(i,s,Y,null,f,ee);for(le in f)ee=f[le],re=u[le],!f.hasOwnProperty(le)||ee===re||ee==null&&re==null||mt(i,s,le,ee,f,re)}function ax(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var g=u[f],y=g.transferSize,T=g.initiatorType,I=g.duration;if(y&&I&&ax(T)){for(T=0,I=g.responseEnd,f+=1;f<u.length;f++){var H=u[f],Z=H.startTime;if(Z>I)break;var ae=H.transferSize,le=H.initiatorType;ae&&ax(le)&&(H=H.responseEnd,T+=ae*(H<I?1:(I-Z)/(H-Z)))}if(--f,s+=8*(y+T)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vy=null,Uy=null;function Wd(i){return i.nodeType===9?i:i.ownerDocument}function sx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ox(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var By=null;function tV(){var i=window.event;return i&&i.type==="popstate"?i===By?!1:(By=i,!0):(By=null,!1)}var lx=typeof setTimeout=="function"?setTimeout:void 0,nV=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,rV=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(i){return ux.resolve(null).then(i).catch(iV)}:lx;function iV(i){setTimeout(function(){throw i})}function Ts(i){return i==="head"}function cx(i,s){var u=s,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(f===0){i.removeChild(g),ou(s);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")nf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,nf(u);for(var y=u.firstChild;y;){var T=y.nextSibling,I=y.nodeName;y[xi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=T}}else u==="body"&&nf(i.ownerDocument.body);u=g}while(u);ou(s)}function fx(i,s){var u=i;i=0;do{var f=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=f}while(u)}function qy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qy(u),Al(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function aV(i,s,u,f){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[xi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=zr(i.nextSibling),i===null)break}return null}function sV(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=zr(i.nextSibling),i===null))return null;return i}function hx(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=zr(i.nextSibling),i===null))return null;return i}function $y(i){return i.data==="$?"||i.data==="$~"}function Fy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oV(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function zr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hy=null;function dx(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return zr(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function mx(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function px(i,s,u){switch(s=Wd(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Al(i)}var Br=new Map,gx=new Set;function Qd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var wa=W.d;W.d={f:lV,r:uV,D:cV,C:fV,L:hV,m:dV,X:pV,S:mV,M:gV};function lV(){var i=wa.f(),s=Bd();return i||s}function uV(i){var s=Pr(i);s!==null&&s.tag===5&&s.type==="form"?NS(s):wa.r(i)}var iu=typeof document>"u"?null:document;function vx(i,s,u){var f=iu;if(f&&typeof s=="string"&&s){var g=Zn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),gx.has(g)||(gx.add(g),i={rel:i,crossOrigin:u,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),Cn(s,"link",i),Qt(s),f.head.appendChild(s)))}}function cV(i){wa.D(i),vx("dns-prefetch",i,null)}function fV(i,s){wa.C(i,s),vx("preconnect",i,s)}function hV(i,s,u){wa.L(i,s,u);var f=iu;if(f&&i&&s){var g='link[rel="preload"][as="'+Zn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Zn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Zn(u.imageSizes)+'"]')):g+='[href="'+Zn(i)+'"]';var y=g;switch(s){case"style":y=au(i);break;case"script":y=su(i)}Br.has(y)||(i=v({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Br.set(y,i),f.querySelector(g)!==null||s==="style"&&f.querySelector(rf(y))||s==="script"&&f.querySelector(af(y))||(s=f.createElement("link"),Cn(s,"link",i),Qt(s),f.head.appendChild(s)))}}function dV(i,s){wa.m(i,s);var u=iu;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Zn(f)+'"][href="'+Zn(i)+'"]',y=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=su(i)}if(!Br.has(y)&&(i=v({rel:"modulepreload",href:i},s),Br.set(y,i),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(af(y)))return}f=u.createElement("link"),Cn(f,"link",i),Qt(f),u.head.appendChild(f)}}}function mV(i,s,u){wa.S(i,s,u);var f=iu;if(f&&i){var g=Ci(f).hoistableStyles,y=au(i);s=s||"default";var T=g.get(y);if(!T){var I={loading:0,preload:null};if(T=f.querySelector(rf(y)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Br.get(y))&&Ky(i,u);var H=T=f.createElement("link");Qt(H),Cn(H,"link",i),H._p=new Promise(function(Z,ae){H.onload=Z,H.onerror=ae}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Xd(T,s,f)}T={type:"stylesheet",instance:T,count:1,state:I},g.set(y,T)}}}function pV(i,s){wa.X(i,s);var u=iu;if(u&&i){var f=Ci(u).hoistableScripts,g=su(i),y=f.get(g);y||(y=u.querySelector(af(g)),y||(i=v({src:i,async:!0},s),(s=Br.get(g))&&Gy(i,s),y=u.createElement("script"),Qt(y),Cn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function gV(i,s){wa.M(i,s);var u=iu;if(u&&i){var f=Ci(u).hoistableScripts,g=su(i),y=f.get(g);y||(y=u.querySelector(af(g)),y||(i=v({src:i,async:!0,type:"module"},s),(s=Br.get(g))&&Gy(i,s),y=u.createElement("script"),Qt(y),Cn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function yx(i,s,u,f){var g=(g=Re.current)?Qd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=au(u.href),u=Ci(g).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=au(u.href);var y=Ci(g).hoistableStyles,T=y.get(i);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=g.querySelector(rf(i)))&&!y._p&&(T.instance=y,T.state.loading=5),Br.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Br.set(i,u),y||vV(g,i,u,T.state))),s&&f===null)throw Error(r(528,""));return T}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=su(u),u=Ci(g).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function au(i){return'href="'+Zn(i)+'"'}function rf(i){return'link[rel="stylesheet"]['+i+"]"}function bx(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function vV(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Cn(s,"link",u),Qt(s),i.head.appendChild(s))}function su(i){return'[src="'+Zn(i)+'"]'}function af(i){return"script[async]"+i}function _x(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Zn(u.href)+'"]');if(f)return s.instance=f,Qt(f),f;var g=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Qt(f),Cn(f,"style",g),Xd(f,u.precedence,i),s.instance=f;case"stylesheet":g=au(u.href);var y=i.querySelector(rf(g));if(y)return s.state.loading|=4,s.instance=y,Qt(y),y;f=bx(u),(g=Br.get(g))&&Ky(f,g),y=(i.ownerDocument||i).createElement("link"),Qt(y);var T=y;return T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),Cn(y,"link",f),s.state.loading|=4,Xd(y,u.precedence,i),s.instance=y;case"script":return y=su(u.src),(g=i.querySelector(af(y)))?(s.instance=g,Qt(g),g):(f=u,(g=Br.get(y))&&(f=v({},u),Gy(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),Qt(g),Cn(g,"link",f),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Xd(f,u.precedence,i));return s.instance}function Xd(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,y=g,T=0;T<f.length;T++){var I=f[T];if(I.dataset.precedence===s)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Ky(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Zd=null;function wx(i,s,u){if(Zd===null){var f=new Map,g=Zd=new Map;g.set(u,f)}else g=Zd,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var y=u[g];if(!(y[xi]||y[Wt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=i+T;var I=f.get(T);I?I.push(y):f.set(T,[y])}}return f}function Ex(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function yV(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ax(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bV(i,s,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=au(f.href),y=s.querySelector(rf(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Jd.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=y,Qt(y);return}y=s.ownerDocument||s,f=bx(f),(g=Br.get(g))&&Ky(f,g),y=y.createElement("link"),Qt(y);var T=y;T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),Cn(y,"link",f),u.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Jd.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var Yy=0;function _V(i,s){return i.stylesheets&&i.count===0&&tm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var f=setTimeout(function(){if(i.stylesheets&&tm(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Yy===0&&(Yy=62500*eV());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&tm(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Yy?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var em=null;function tm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,em=new Map,s.forEach(wV,i),em=null,Jd.call(i))}function wV(i,s){if(!(s.state.loading&4)){var u=em.get(i);if(u)var f=u.get(null);else{u=new Map,em.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),f=T)}f&&u.set(null,f)}g=s.instance,T=g.getAttribute("data-precedence"),y=u.get(T)||f,y===f&&u.set(null,g),u.set(T,g),this.count++,f=Jd.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var sf={$$typeof:V,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function EV(i,s,u,f,g,y,T,I,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Sx(i,s,u,f,g,y,T,I,H,Z,ae,le){return i=new EV(i,s,u,T,H,Z,ae,le,I),s=1,y===!0&&(s|=24),y=mr(3,null,null,s),i.current=y,y.stateNode=i,s=Ov(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:s},Rv(y),i}function Tx(i){return i?(i=Ll,i):Ll}function xx(i,s,u,f,g,y){g=Tx(g),f.context===null?f.context=g:f.pendingContext=g,f=ms(s),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=ps(i,f,s),u!==null&&(ir(u,i,s),Lc(u,i,s))}function Ox(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Wy(i,s){Ox(i,s),(i=i.alternate)&&Ox(i,s)}function Cx(i){if(i.tag===13||i.tag===31){var s=Co(i,67108864);s!==null&&ir(s,i,67108864),Wy(i,67108864)}}function Ix(i){if(i.tag===13||i.tag===31){var s=br();s=go(s);var u=Co(i,s);u!==null&&ir(u,i,s),Wy(i,s)}}var nm=!0;function AV(i,s,u,f){var g=K.T;K.T=null;var y=W.p;try{W.p=2,Qy(i,s,u,f)}finally{W.p=y,K.T=g}}function SV(i,s,u,f){var g=K.T;K.T=null;var y=W.p;try{W.p=8,Qy(i,s,u,f)}finally{W.p=y,K.T=g}}function Qy(i,s,u,f){if(nm){var g=Xy(f);if(g===null)jy(i,s,f,rm,u),Rx(i,f);else if(xV(g,i,s,u,f))f.stopPropagation();else if(Rx(i,f),s&4&&-1<TV.indexOf(i)){for(;g!==null;){var y=Pr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ei(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var H=1<<31-zt(T);I.entanglements[1]|=H,T&=~H}Bi(y),(at&6)===0&&(Ud=Hn()+500,Jc(0))}}break;case 31:case 13:I=Co(y,2),I!==null&&ir(I,y,2),Bd(),Wy(y,2)}if(y=Xy(f),y===null&&jy(i,s,f,rm,u),y===g)break;g=y}g!==null&&f.stopPropagation()}else jy(i,s,f,null,u)}}function Xy(i){return i=Rr(i),Zy(i)}var rm=null;function Zy(i){if(rm=null,i=Oi(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return rm=i,null}function Px(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case lc:return 2;case uc:return 8;case Ja:case iv:return 32;case kh:return 268435456;default:return 32}default:return 32}}var Jy=!1,xs=null,Os=null,Cs=null,of=new Map,lf=new Map,Is=[],TV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rx(i,s){switch(i){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":of.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(s.pointerId)}}function uf(i,s,u,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Pr(s),s!==null&&Cx(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function xV(i,s,u,f,g){switch(s){case"focusin":return xs=uf(xs,i,s,u,f,g),!0;case"dragenter":return Os=uf(Os,i,s,u,f,g),!0;case"mouseover":return Cs=uf(Cs,i,s,u,f,g),!0;case"pointerover":var y=g.pointerId;return of.set(y,uf(of.get(y)||null,i,s,u,f,g)),!0;case"gotpointercapture":return y=g.pointerId,lf.set(y,uf(lf.get(y)||null,i,s,u,f,g)),!0}return!1}function Dx(i){var s=Oi(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,ri(i.priority,function(){Ix(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,ri(i.priority,function(){Ix(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function im(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Xy(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);wc=f,u.target.dispatchEvent(f),wc=null}else return s=Pr(u),s!==null&&Cx(s),i.blockedOn=u,!1;s.shift()}return!0}function Nx(i,s,u){im(i)&&u.delete(s)}function OV(){Jy=!1,xs!==null&&im(xs)&&(xs=null),Os!==null&&im(Os)&&(Os=null),Cs!==null&&im(Cs)&&(Cs=null),of.forEach(Nx),lf.forEach(Nx)}function am(i,s){i.blockedOn===s&&(i.blockedOn=null,Jy||(Jy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OV)))}var sm=null;function Mx(i){sm!==i&&(sm=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sm===i&&(sm=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],g=i[s+2];if(typeof f!="function"){if(Zy(f||u)===null)continue;break}var y=Pr(u);y!==null&&(i.splice(s,3),s-=3,Xv(y,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function ou(i){function s(H){return am(H,i)}xs!==null&&am(xs,i),Os!==null&&am(Os,i),Cs!==null&&am(Cs,i),of.forEach(s),lf.forEach(s);for(var u=0;u<Is.length;u++){var f=Is[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Is.length&&(u=Is[0],u.blockedOn===null);)Dx(u),u.blockedOn===null&&Is.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],y=u[f+1],T=g[gn]||null;if(typeof y=="function")T||Mx(u);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[gn]||null)I=T.formAction;else if(Zy(g)!==null)continue}else I=T.action;typeof I=="function"?u[f+1]=I:(u.splice(f,3),f-=3),Mx(u)}}}function kx(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return g=T})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function e0(i){this._internalRoot=i}om.prototype.render=e0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=br();xx(u,f,i,s,null,null)},om.prototype.unmount=e0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xx(i.current,2,null,i,null,null),Bd(),s[Ti]=null}};function om(i){this._internalRoot=i}om.prototype.unstable_scheduleHydration=function(i){if(i){var s=Bh();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Is.length&&s!==0&&s<Is[u].priority;u++);Is.splice(u,0,i),u===0&&Dx(i)}};var jx=e.version;if(jx!=="19.2.0")throw Error(r(527,jx,"19.2.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var CV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{ti=lm.inject(CV),An=lm}catch{}}return ff.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",g=$S,y=FS,T=HS;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Sx(i,1,!1,null,null,u,f,null,g,y,T,kx),i[Ti]=s.current,ky(i),new e0(s)},ff.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,g="",y=$S,T=FS,I=HS,H=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),s=Sx(i,1,!0,s,u??null,f,g,H,y,T,I,kx),s.context=Tx(null),u=s.current,f=br(),f=go(f),g=ms(f),g.callback=null,ps(u,g,f),u=f,s.current.lanes=u,mo(s,u),Bi(s),i[Ti]=s.current,ky(i),new om(s)},ff.version="19.2.0",ff}var Kx;function BV(){if(Kx)return i0.exports;Kx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i0.exports=zV(),i0.exports}var qV=BV();const $V=na(qV),FV=()=>{};var Gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},HV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],h=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},C2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;h||(_=64,l||(b=64)),r.push(n[m],n[v],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||d==null||v==null)throw new KV;const b=o<<2|c>>4;if(r.push(b),d!==64){const _=c<<4&240|d>>2;if(r.push(_),v!==64){const E=d<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GV=function(t){const e=O2(t);return C2.encodeByteArray(e,!0)},Fm=function(t){return GV(t).replace(/\./g,"")},I2=function(t){try{return C2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=()=>YV().__FIREBASE_DEFAULTS__,QV=()=>{if(typeof process>"u"||typeof Gx>"u")return;const t=Gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I2(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return FV()||WV()||QV()||XV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P2=t=>{var e,n;return(n=(e=Gp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZV=t=>{const e=P2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R2=()=>{var t;return(t=Gp())==null?void 0:t.config},D2=t=>{var e;return(e=Gp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fm(JSON.stringify(n)),Fm(JSON.stringify(l)),""].join(".")}const Cf={};function t6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cf))Cf[e]?t.emulator.push(e):t.prod.push(e);return t}function n6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yx=!1;function M2(t,e){if(typeof window>"u"||typeof document>"u"||!zu(window.location.host)||Cf[t]===e||Cf[t]||Yx)return;Cf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=t6().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Yx=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=n6(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),x=document.getElementById(A)||document.createElement("a"),P=n("preprendIcon"),z=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;c(V),m(x,A);const $=d();h(z,P),V.append(z,E,x,$),document.body.appendChild(V)}o?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function i6(){var e;const t=(e=Gp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function o6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l6(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u6(){return!i6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c6(){try{return typeof indexedDB=="object"}catch{return!1}}function f6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="FirebaseError";class $a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h6,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?d6(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new $a(a,c,r)}}function d6(t,e){return t.replace(m6,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const m6=/\{\$([^}]+)}/g;function p6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(Wx(o)&&Wx(l)){if(!Jo(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Wx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _f(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function wf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g6(t,e){const n=new v6(t,e);return n.subscribe.bind(n)}class v6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=l0),a.error===void 0&&(a.error=l0),a.complete===void 0&&(a.complete=l0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class el{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w6(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _6(t){return t===Bo?void 0:t}function w6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const A6={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},S6=Ge.INFO,T6={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},x6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=T6[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tw{constructor(e){this.name=e,this._logLevel=S6,this._logHandler=x6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const O6=(t,e)=>e.some(n=>t instanceof n);let Qx,Xx;function C6(){return Qx||(Qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I6(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k2=new WeakMap,t_=new WeakMap,j2=new WeakMap,u0=new WeakMap,xw=new WeakMap;function P6(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(zs(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&k2.set(n,t)}).catch(()=>{}),xw.set(e,t),e}function R6(t){if(t_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});t_.set(t,e)}let n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D6(t){n_=t(n_)}function N6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c0(this),e,...n);return j2.set(r,e.sort?e.sort():[e]),zs(r)}:I6().includes(t)?function(...e){return t.apply(c0(this),e),zs(k2.get(this))}:function(...e){return zs(t.apply(c0(this),e))}}function M6(t){return typeof t=="function"?N6(t):(t instanceof IDBTransaction&&R6(t),O6(t,C6())?new Proxy(t,n_):t)}function zs(t){if(t instanceof IDBRequest)return P6(t);if(u0.has(t))return u0.get(t);const e=M6(t);return e!==t&&(u0.set(t,e),xw.set(e,t)),e}const c0=t=>xw.get(t);function k6(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=zs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(zs(l.result),h.oldVersion,h.newVersion,zs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const j6=["get","getKey","getAll","getAllKeys","count"],L6=["put","add","delete","clear"],f0=new Map;function Zx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f0.get(e))return f0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=L6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||j6.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&h.done]))[0]};return f0.set(e,o),o}D6(t=>({...t,get:(e,n,r)=>Zx(e,n)||t.get(e,n,r),has:(e,n)=>!!Zx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",Jx="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Tw("@firebase/app"),z6="@firebase/app-compat",B6="@firebase/analytics-compat",q6="@firebase/analytics",$6="@firebase/app-check-compat",F6="@firebase/app-check",H6="@firebase/auth",K6="@firebase/auth-compat",G6="@firebase/database",Y6="@firebase/data-connect",W6="@firebase/database-compat",Q6="@firebase/functions",X6="@firebase/functions-compat",Z6="@firebase/installations",J6="@firebase/installations-compat",eU="@firebase/messaging",tU="@firebase/messaging-compat",nU="@firebase/performance",rU="@firebase/performance-compat",iU="@firebase/remote-config",aU="@firebase/remote-config-compat",sU="@firebase/storage",oU="@firebase/storage-compat",lU="@firebase/firestore",uU="@firebase/ai",cU="@firebase/firestore-compat",fU="firebase",hU="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="[DEFAULT]",dU={[r_]:"fire-core",[z6]:"fire-core-compat",[q6]:"fire-analytics",[B6]:"fire-analytics-compat",[F6]:"fire-app-check",[$6]:"fire-app-check-compat",[H6]:"fire-auth",[K6]:"fire-auth-compat",[G6]:"fire-rtdb",[Y6]:"fire-data-connect",[W6]:"fire-rtdb-compat",[Q6]:"fire-fn",[X6]:"fire-fn-compat",[Z6]:"fire-iid",[J6]:"fire-iid-compat",[eU]:"fire-fcm",[tU]:"fire-fcm-compat",[nU]:"fire-perf",[rU]:"fire-perf-compat",[iU]:"fire-rc",[aU]:"fire-rc-compat",[sU]:"fire-gcs",[oU]:"fire-gcs-compat",[lU]:"fire-fst",[cU]:"fire-fst-compat",[uU]:"fire-vertex","fire-js":"fire-js",[fU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Map,mU=new Map,a_=new Map;function eO(t,e){try{t.container.addComponent(e)}catch(n){Na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Au(t){const e=t.name;if(a_.has(e))return Na.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of Hm.values())eO(n,t);for(const n of mU.values())eO(n,t);return!0}function Ow(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new th("app","Firebase",pU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=hU;function L2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=R2()),!n)throw Bs.create("no-options");const o=Hm.get(a);if(o){if(Jo(n,o.options)&&Jo(r,o.config))return o;throw Bs.create("duplicate-app",{appName:a})}const l=new E6(a);for(const h of a_.values())l.addComponent(h);const c=new gU(n,r,l);return Hm.set(a,c),c}function V2(t=i_){const e=Hm.get(t);if(!e&&t===i_&&R2())return L2();if(!e)throw Bs.create("no-app",{appName:t});return e}function qs(t,e,n){let r=dU[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Na.warn(l.join(" "));return}Au(new el(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="firebase-heartbeat-database",yU=1,kf="firebase-heartbeat-store";let h0=null;function U2(){return h0||(h0=k6(vU,yU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),h0}async function bU(t){try{const n=(await U2()).transaction(kf),r=await n.objectStore(kf).get(z2(t));return await n.done,r}catch(e){if(e instanceof $a)Na.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Na.warn(n.message)}}}async function tO(t,e){try{const r=(await U2()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,z2(t)),await r.done}catch(n){if(n instanceof $a)Na.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Na.warn(r.message)}}}function z2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=1024,wU=30;class EU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>wU){const l=TU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nO(),{heartbeatsToSend:r,unsentEntries:a}=AU(this._heartbeatsCache.heartbeats),o=Fm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Na.warn(n),""}}}function nO(){return new Date().toISOString().substring(0,10)}function AU(t,e=_U){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),rO(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c6()?f6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rO(t){return Fm(JSON.stringify({version:2,heartbeats:t})).length}function TU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){Au(new el("platform-logger",e=>new V6(e),"PRIVATE")),Au(new el("heartbeat",e=>new EU(e),"PRIVATE")),qs(r_,Jx,t),qs(r_,Jx,"esm2020"),qs("fire-js","")}xU("");function B2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OU=B2,q2=new th("auth","Firebase",B2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Tw("@firebase/auth");function CU(t,...e){Km.logLevel<=Ge.WARN&&Km.warn(`Auth (${Bu}): ${t}`,...e)}function Rm(t,...e){Km.logLevel<=Ge.ERROR&&Km.error(`Auth (${Bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw Cw(t,...e)}function Fi(t,...e){return Cw(t,...e)}function $2(t,e,n){const r={...OU(),[e]:n};return new th("auth","Firebase",r).create(e,{appName:t.name})}function Ca(t){return $2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q2.create(t,...e)}function De(t,e,...n){if(!t)throw Cw(e,...n)}function Sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rm(e),new Error(e)}function Ma(t,e){t||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function IU(){return iO()==="http:"||iO()==="https:"}function iO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IU()||s6()||"connection"in navigator)?navigator.onLine:!0}function RU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ma(n>e,"Short delay should be less than long delay!"),this.isMobile=r6()||o6()}get(){return PU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){Ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MU=new rh(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fa(t,e,n,r,a={}){return H2(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=nh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...o};return a6()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&zu(t.emulatorConfig.host)&&(d.credentials="include"),F2.fetch()(await K2(t,t.config.apiHost,n,c),d)})}async function H2(t,e,n){t._canInitEmulator=!1;const r={...DU,...e};try{const a=new jU(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw um(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw um(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw um(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw um(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $2(t,m,d);vi(t,m)}}catch(a){if(a instanceof $a)throw a;vi(t,"network-request-failed",{message:String(a)})}}async function ih(t,e,n,r,a={}){const o=await Fa(t,e,n,r,a);return"mfaPendingCredential"in o&&vi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function K2(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?Iw(t.config,a):`${t.config.apiScheme}://${a}`;return NU.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function kU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),MU.get())})}}function um(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(t,e,r);return a.customData._tokenResponse=n,a}function aO(t){return t!==void 0&&t.enterprise!==void 0}class LU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VU(t,e){return Fa(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function Gm(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zU(t,e=!1){const n=wn(t),r=await n.getIdToken(e),a=Pw(r);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:If(d0(a.auth_time)),issuedAtTime:If(d0(a.iat)),expirationTime:If(d0(a.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function d0(t){return Number(t)*1e3}function Pw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{const a=I2(n);return a?JSON.parse(a):(Rm("Failed to decode base64 JWT payload"),null)}catch(a){return Rm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function sO(t){const e=Pw(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $a&&BU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=If(this.lastLoginAt),this.creationTime=If(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t){var v;const e=t.auth,n=await t.getIdToken(),r=await Su(t,Gm(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=(v=a.providerUserInfo)!=null&&v.length?G2(a.providerUserInfo):[],l=FU(t.providerData,o),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function $U(t){const e=wn(t);await Ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FU(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function G2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e){const n=await H2(t,{},async()=>{const r=nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await K2(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&zu(t.emulatorConfig.host)&&(h.credentials="include"),F2.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KU(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=sO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await HU(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new gu;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(De(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(De(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new qU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new o_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zU(this,e)}reload(){return $U(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Su(this,UU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:A}=n;De(v&&A,e,"internal-error");const x=gu.fromJSON(this.name,A);De(typeof v=="string",e,"internal-error"),Rs(r,e.name),Rs(a,e.name),De(typeof b=="boolean",e,"internal-error"),De(typeof _=="boolean",e,"internal-error"),Rs(o,e.name),Rs(l,e.name),Rs(c,e.name),Rs(h,e.name),Rs(d,e.name),Rs(m,e.name);const P=new pi({uid:v,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:x,createdAt:d,lastLoginAt:m});return E&&Array.isArray(E)&&(P.providerData=E.map(z=>({...z}))),h&&(P._redirectEventId=h),P}static async _fromIdTokenResponse(e,n,r=!1){const a=new gu;a.updateFromServerResponse(n);const o=new pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ym(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];De(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?G2(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),c=new gu;c.updateFromIdToken(r);const h=new pi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Map;function Ta(t){Ma(t instanceof Function,"Expected a class definition");let e=oO.get(t);return e?(Ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y2.type="NONE";const lO=Y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t,e,n){return`firebase:${t}:${e}:${n}`}class vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Dm(this.userKey,a.apiKey,o),this.fullPersistenceKey=Dm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gm(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vu(Ta(lO),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Ta(lO);const l=Dm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let v;if(typeof m=="string"){const b=await Gm(e,{idToken:m}).catch(()=>{});if(!b)break;v=await pi._fromGetAccountInfoResponse(e,b,m)}else v=pi._fromJSON(e,m);d!==o&&(c=v),o=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new vu(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new vu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eD(e))return"Blackberry";if(tD(e))return"Webos";if(Q2(e))return"Safari";if((e.includes("chrome/")||X2(e))&&!e.includes("edge/"))return"Chrome";if(J2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function W2(t=qn()){return/firefox\//i.test(t)}function Q2(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X2(t=qn()){return/crios\//i.test(t)}function Z2(t=qn()){return/iemobile/i.test(t)}function J2(t=qn()){return/android/i.test(t)}function eD(t=qn()){return/blackberry/i.test(t)}function tD(t=qn()){return/webos/i.test(t)}function Rw(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GU(t=qn()){var e;return Rw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YU(){return l6()&&document.documentMode===10}function nD(t=qn()){return Rw(t)||J2(t)||tD(t)||eD(t)||/windows phone/i.test(t)||Z2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e=[]){let n;switch(t){case"Browser":n=uO(qn());break;case"Worker":n=`${uO(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=6;class ZU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cO(this),this.idTokenSubscription=new cO(this),this.beforeStateQueue=new WU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await vu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gm(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Gr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ym(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Ca(this));const n=e?wn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QU(this),n=new ZU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new th("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await vu.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ml(t){return wn(t)}class cO{constructor(e){this.auth=e,this.observer=null,this.addObserver=g6(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e5(t){Yp=t}function iD(t){return Yp.loadJS(t)}function t5(){return Yp.recaptchaEnterpriseScript}function n5(){return Yp.gapiScript}function r5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i5{constructor(){this.enterprise=new a5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class a5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s5="recaptcha-enterprise",aD="NO_RECAPTCHA";class o5{constructor(e){this.type=s5,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{VU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new LU(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function a(o,l,c){const h=window.grecaptcha;aO(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(aD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i5().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&aO(window.grecaptcha))a(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=t5();h.length!==0&&(h+=c),iD(h).then(()=>{a(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function fO(t,e,n,r=!1,a=!1){const o=new o5(t);let l;if(a)l=aD;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function l_(t,e,n,r,a){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fO(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fO(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){const n=Ow(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(Jo(o,e??{}))return a;vi(a,"already-initialized")}return n.initialize({options:e})}function u5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c5(t,e,n){const r=ml(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=sD(e),{host:l,port:c}=f5(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Jo(d,r.config.emulator)&&Jo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,zu(l)?(N2(`${o}//${l}${h}`),M2("Auth",!0)):h5()}function sD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f5(t){const e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:hO(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:hO(l)}}}function hO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,n){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}async function d5(t,e){return Fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){return ih(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function g5(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Dw{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new jf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,n,"signInWithPassword",m5);case"emailLink":return p5(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,r,"signUpPassword",d5);case"emailLink":return g5(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e){return ih(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="http://localhost";class tl extends Dw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new tl(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return yu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yu(e,n)}buildRequest(){const e={requestUri:v5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b5(t){const e=_f(wf(t)).link,n=e?_f(wf(e)).deep_link_id:null,r=_f(wf(t)).deep_link_id;return(r?_f(wf(r)).link:null)||r||n||e||t}class Nw{constructor(e){const n=_f(wf(e)),r=n.apiKey??null,a=n.oobCode??null,o=y5(n.mode??null);De(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=b5(e);try{return new Nw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(e,n){return jf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nw.parseLink(n);return De(r,"argument-error"),jf._fromEmailAndCode(e,r.code,r.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends oD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ah{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tl._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ah{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends ah{constructor(){super("twitter.com")}static credential(e,n){return tl._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){return ih(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await pi._fromIdTokenResponse(e,r,a),l=dO(r);return new nl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=dO(r);return new nl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function dO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends $a{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Wm(e,n,r,a)}}function lD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wm._fromErrorAndOperation(t,o,e,r):o})}async function w5(t,e,n=!1){const r=await Su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const o=await Su(t,lD(r,a,e,t),n);De(o.idToken,r,"internal-error");const l=Pw(o.idToken);De(l,r,"internal-error");const{sub:c}=l;return De(t.uid===c,r,"user-mismatch"),nl._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ca(t));const r="signIn",a=await lD(t,r,e),o=await nl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function A5(t,e){return uD(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S5(t,e,n){if(Gr(t.app))return Promise.reject(Ca(t));const r=ml(t),l=await l_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_5).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cD(t),h}),c=await nl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function T5(t,e,n){return Gr(t.app)?Promise.reject(Ca(t)):A5(wn(t),qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e){return Fa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Su(r,x5(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function C5(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function I5(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function fD(t){return wn(t).signOut()}const Qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qm,"1"),this.storage.removeItem(Qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=1e3,R5=10;class dD extends hD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);YU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,R5):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dD.type="LOCAL";const D5=dD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends hD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mD.type="SESSION";const pD=mD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async d=>d(n.origin,o)),h=await N5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=Mw("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(b.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function k5(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function j5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V5(){return gD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firebaseLocalStorageDb",U5=1,Xm="firebaseLocalStorage",yD="fbase_key";class sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qp(t,e){return t.transaction([Xm],e?"readwrite":"readonly").objectStore(Xm)}function z5(){const t=indexedDB.deleteDatabase(vD);return new sh(t).toPromise()}function u_(){const t=indexedDB.open(vD,U5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xm,{keyPath:yD})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xm)?e(r):(r.close(),await z5(),e(await u_()))})})}async function mO(t,e,n){const r=Qp(t,!0).put({[yD]:e,value:n});return new sh(r).toPromise()}async function B5(t,e){const n=Qp(t,!1).get(e),r=await new sh(n).toPromise();return r===void 0?null:r.value}function pO(t,e){const n=Qp(t,!0).delete(e);return new sh(n).toPromise()}const q5=800,$5=3;class bD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wp._getInstance(V5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await j5(),!this.activeServiceWorker)return;this.sender=new M5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u_();return await mO(e,Qm,"1"),await pO(e,Qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Qp(a,!1).getAll();return new sh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bD.type="LOCAL";const F5=bD;new rh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){return e?Ta(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Dw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K5(t){return uD(t.auth,new kw(t),t.bypassAuthState)}function G5(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),E5(n,new kw(t),t.bypassAuthState)}async function Y5(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),w5(n,new kw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return G5;default:vi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new rh(2e3,1e4);class mu extends _D{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,mu.currentPopupAction&&mu.currentPopupAction.cancel(),mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=Mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W5.get())};e()}}mu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="pendingRedirect",Nm=new Map;class X5 extends _D{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nm.get(this.auth._key());if(!e){try{const r=await Z5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nm.set(this.auth._key(),e)}return this.bypassAuthState||Nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z5(t,e){const n=tz(e),r=ez(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function J5(t,e){Nm.set(t._key(),e)}function ez(t){return Ta(t._redirectPersistence)}function tz(t){return Dm(Q5,t.config.apiKey,t.name)}async function nz(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ca(t));const r=ml(t),a=H5(r,e),l=await new X5(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=600*1e3;class iz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!az(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wD(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(gO(e))}saveEventToCache(e){this.cachedEventUids.add(gO(e)),this.lastProcessedEventTime=Date.now()}}function gO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function az(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lz=/^https?/;async function uz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sz(t);for(const n of e)try{if(cz(n))return}catch{}vi(t,"unauthorized-domain")}function cz(t){const e=s_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lz.test(n))return!1;if(oz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=new rh(3e4,6e4);function vO(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hz(t){return new Promise((e,n)=>{var a,o,l;function r(){vO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vO(),n(Fi(t,"network-request-failed"))},timeout:fz.get()})}if((o=(a=Hi().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Hi().gapi)!=null&&l.load)r();else{const c=r5("iframefcb");return Hi()[c]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},iD(`${n5()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Mm=null,e})}let Mm=null;function dz(t){return Mm=Mm||hz(t),Mm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=new rh(5e3,15e3),pz="__/auth/iframe",gz="emulator/auth/iframe",vz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bz(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iw(e,gz):`https://${t.config.authDomain}/${pz}`,r={apiKey:e.apiKey,appName:t.name,v:Bu},a=yz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nh(r).slice(1)}`}async function _z(t){const e=await dz(t),n=Hi().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:bz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Fi(t,"network-request-failed"),c=Hi().setTimeout(()=>{o(l)},mz.get());function h(){Hi().clearTimeout(c),a(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ez=500,Az=600,Sz="_blank",Tz="http://localhost";class yO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xz(t,e,n,r=Ez,a=Az){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...wz,width:r.toString(),height:a.toString(),top:o,left:l},d=qn().toLowerCase();n&&(c=X2(d)?Sz:n),W2(d)&&(e=e||Tz,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(GU(d)&&c!=="_self")return Oz(e||"",c),new yO(null);const v=window.open(e||"",c,m);De(v,t,"popup-blocked");try{v.focus()}catch{}return new yO(v)}function Oz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="__/auth/handler",Iz="emulator/auth/handler",Pz=encodeURIComponent("fac");async function bO(t,e,n,r,a,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bu,eventId:a};if(e instanceof oD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",p6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof ah){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${Pz}=${encodeURIComponent(h)}`:"";return`${Rz(t)}?${nh(c).slice(1)}${d}`}function Rz({config:t}){return t.emulator?Iw(t,Iz):`https://${t.authDomain}/${Cz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class Dz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pD,this._completeRedirectFn=nz,this._overrideRedirectResult=J5}async _openPopup(e,n,r,a){var l;Ma((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await bO(e,n,r,s_(),a);return xz(e,o,Mw())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await bO(e,n,r,s_(),a);return k5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ma(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _z(e),r=new iz(e);return n.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(m0,{type:m0},a=>{var l;const o=(l=a==null?void 0:a[0])==null?void 0:l[m0];o!==void 0&&n(!!o),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nD()||Q2()||Rw()}}const Nz=Dz;var _O="@firebase/auth",wO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jz(t){Au(new el("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rD(t)},d=new JU(r,a,o,h);return u5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Au(new el("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new Mz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(_O,wO,kz(t)),qs(_O,wO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=300,Vz=D2("authIdTokenMaxAge")||Lz;let EO=null;const Uz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vz)return;const a=n==null?void 0:n.token;EO!==a&&(EO=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zz(t=V2()){const e=Ow(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l5(t,{popupRedirectResolver:Nz,persistence:[F5,D5,pD]}),r=D2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=Uz(o.toString());I5(n,l,()=>l(n.currentUser)),C5(n,c=>l(c))}}const a=P2("auth");return a&&c5(n,`http://${a}`),n}function Bz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Fi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jz("Browser");var AO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,ED;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function N(){}N.prototype=R.prototype,C.F=R.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(B,j,L){for(var M=Array(arguments.length-2),de=2;de<arguments.length;de++)M[de-2]=arguments[de];return R.prototype[j].apply(B,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,N){N||(N=0);const B=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)B[j]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(j=0;j<16;++j)B[j]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=C.g[0],N=C.g[1],j=C.g[2];let L=C.g[3],M;M=R+(L^N&(j^L))+B[0]+3614090360&4294967295,R=N+(M<<7&4294967295|M>>>25),M=L+(j^R&(N^j))+B[1]+3905402710&4294967295,L=R+(M<<12&4294967295|M>>>20),M=j+(N^L&(R^N))+B[2]+606105819&4294967295,j=L+(M<<17&4294967295|M>>>15),M=N+(R^j&(L^R))+B[3]+3250441966&4294967295,N=j+(M<<22&4294967295|M>>>10),M=R+(L^N&(j^L))+B[4]+4118548399&4294967295,R=N+(M<<7&4294967295|M>>>25),M=L+(j^R&(N^j))+B[5]+1200080426&4294967295,L=R+(M<<12&4294967295|M>>>20),M=j+(N^L&(R^N))+B[6]+2821735955&4294967295,j=L+(M<<17&4294967295|M>>>15),M=N+(R^j&(L^R))+B[7]+4249261313&4294967295,N=j+(M<<22&4294967295|M>>>10),M=R+(L^N&(j^L))+B[8]+1770035416&4294967295,R=N+(M<<7&4294967295|M>>>25),M=L+(j^R&(N^j))+B[9]+2336552879&4294967295,L=R+(M<<12&4294967295|M>>>20),M=j+(N^L&(R^N))+B[10]+4294925233&4294967295,j=L+(M<<17&4294967295|M>>>15),M=N+(R^j&(L^R))+B[11]+2304563134&4294967295,N=j+(M<<22&4294967295|M>>>10),M=R+(L^N&(j^L))+B[12]+1804603682&4294967295,R=N+(M<<7&4294967295|M>>>25),M=L+(j^R&(N^j))+B[13]+4254626195&4294967295,L=R+(M<<12&4294967295|M>>>20),M=j+(N^L&(R^N))+B[14]+2792965006&4294967295,j=L+(M<<17&4294967295|M>>>15),M=N+(R^j&(L^R))+B[15]+1236535329&4294967295,N=j+(M<<22&4294967295|M>>>10),M=R+(j^L&(N^j))+B[1]+4129170786&4294967295,R=N+(M<<5&4294967295|M>>>27),M=L+(N^j&(R^N))+B[6]+3225465664&4294967295,L=R+(M<<9&4294967295|M>>>23),M=j+(R^N&(L^R))+B[11]+643717713&4294967295,j=L+(M<<14&4294967295|M>>>18),M=N+(L^R&(j^L))+B[0]+3921069994&4294967295,N=j+(M<<20&4294967295|M>>>12),M=R+(j^L&(N^j))+B[5]+3593408605&4294967295,R=N+(M<<5&4294967295|M>>>27),M=L+(N^j&(R^N))+B[10]+38016083&4294967295,L=R+(M<<9&4294967295|M>>>23),M=j+(R^N&(L^R))+B[15]+3634488961&4294967295,j=L+(M<<14&4294967295|M>>>18),M=N+(L^R&(j^L))+B[4]+3889429448&4294967295,N=j+(M<<20&4294967295|M>>>12),M=R+(j^L&(N^j))+B[9]+568446438&4294967295,R=N+(M<<5&4294967295|M>>>27),M=L+(N^j&(R^N))+B[14]+3275163606&4294967295,L=R+(M<<9&4294967295|M>>>23),M=j+(R^N&(L^R))+B[3]+4107603335&4294967295,j=L+(M<<14&4294967295|M>>>18),M=N+(L^R&(j^L))+B[8]+1163531501&4294967295,N=j+(M<<20&4294967295|M>>>12),M=R+(j^L&(N^j))+B[13]+2850285829&4294967295,R=N+(M<<5&4294967295|M>>>27),M=L+(N^j&(R^N))+B[2]+4243563512&4294967295,L=R+(M<<9&4294967295|M>>>23),M=j+(R^N&(L^R))+B[7]+1735328473&4294967295,j=L+(M<<14&4294967295|M>>>18),M=N+(L^R&(j^L))+B[12]+2368359562&4294967295,N=j+(M<<20&4294967295|M>>>12),M=R+(N^j^L)+B[5]+4294588738&4294967295,R=N+(M<<4&4294967295|M>>>28),M=L+(R^N^j)+B[8]+2272392833&4294967295,L=R+(M<<11&4294967295|M>>>21),M=j+(L^R^N)+B[11]+1839030562&4294967295,j=L+(M<<16&4294967295|M>>>16),M=N+(j^L^R)+B[14]+4259657740&4294967295,N=j+(M<<23&4294967295|M>>>9),M=R+(N^j^L)+B[1]+2763975236&4294967295,R=N+(M<<4&4294967295|M>>>28),M=L+(R^N^j)+B[4]+1272893353&4294967295,L=R+(M<<11&4294967295|M>>>21),M=j+(L^R^N)+B[7]+4139469664&4294967295,j=L+(M<<16&4294967295|M>>>16),M=N+(j^L^R)+B[10]+3200236656&4294967295,N=j+(M<<23&4294967295|M>>>9),M=R+(N^j^L)+B[13]+681279174&4294967295,R=N+(M<<4&4294967295|M>>>28),M=L+(R^N^j)+B[0]+3936430074&4294967295,L=R+(M<<11&4294967295|M>>>21),M=j+(L^R^N)+B[3]+3572445317&4294967295,j=L+(M<<16&4294967295|M>>>16),M=N+(j^L^R)+B[6]+76029189&4294967295,N=j+(M<<23&4294967295|M>>>9),M=R+(N^j^L)+B[9]+3654602809&4294967295,R=N+(M<<4&4294967295|M>>>28),M=L+(R^N^j)+B[12]+3873151461&4294967295,L=R+(M<<11&4294967295|M>>>21),M=j+(L^R^N)+B[15]+530742520&4294967295,j=L+(M<<16&4294967295|M>>>16),M=N+(j^L^R)+B[2]+3299628645&4294967295,N=j+(M<<23&4294967295|M>>>9),M=R+(j^(N|~L))+B[0]+4096336452&4294967295,R=N+(M<<6&4294967295|M>>>26),M=L+(N^(R|~j))+B[7]+1126891415&4294967295,L=R+(M<<10&4294967295|M>>>22),M=j+(R^(L|~N))+B[14]+2878612391&4294967295,j=L+(M<<15&4294967295|M>>>17),M=N+(L^(j|~R))+B[5]+4237533241&4294967295,N=j+(M<<21&4294967295|M>>>11),M=R+(j^(N|~L))+B[12]+1700485571&4294967295,R=N+(M<<6&4294967295|M>>>26),M=L+(N^(R|~j))+B[3]+2399980690&4294967295,L=R+(M<<10&4294967295|M>>>22),M=j+(R^(L|~N))+B[10]+4293915773&4294967295,j=L+(M<<15&4294967295|M>>>17),M=N+(L^(j|~R))+B[1]+2240044497&4294967295,N=j+(M<<21&4294967295|M>>>11),M=R+(j^(N|~L))+B[8]+1873313359&4294967295,R=N+(M<<6&4294967295|M>>>26),M=L+(N^(R|~j))+B[15]+4264355552&4294967295,L=R+(M<<10&4294967295|M>>>22),M=j+(R^(L|~N))+B[6]+2734768916&4294967295,j=L+(M<<15&4294967295|M>>>17),M=N+(L^(j|~R))+B[13]+1309151649&4294967295,N=j+(M<<21&4294967295|M>>>11),M=R+(j^(N|~L))+B[4]+4149444226&4294967295,R=N+(M<<6&4294967295|M>>>26),M=L+(N^(R|~j))+B[11]+3174756917&4294967295,L=R+(M<<10&4294967295|M>>>22),M=j+(R^(L|~N))+B[2]+718787259&4294967295,j=L+(M<<15&4294967295|M>>>17),M=N+(L^(j|~R))+B[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const N=R-this.blockSize,B=this.C;let j=this.h,L=0;for(;L<R;){if(j==0)for(;L<=N;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(B[j++]=C.charCodeAt(L++),j==this.blockSize){a(this,B),j=0;break}}else for(;L<R;)if(B[j++]=C[L++],j==this.blockSize){a(this,B),j=0;break}}this.h=j,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,N=0;N<4;++N)for(let B=0;B<32;B+=8)C[R++]=this.g[N]>>>B&255;return C};function o(C,R){var N=c;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=R(C)}function l(C,R){this.h=R;const N=[];let B=!0;for(let j=C.length-1;j>=0;j--){const L=C[j]|0;B&&L==R||(N[j]=L,B=!1)}this.g=N}var c={};function h(C){return-128<=C&&C<128?o(C,function(R){return new l([R|0],R<0?-1:0)}):new l([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return x(d(-C));const R=[];let N=1;for(let B=0;C>=N;B++)R[B]=C/N|0,N*=4294967296;return new l(R,0)}function m(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return x(m(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(R,8));let B=v;for(let L=0;L<C.length;L+=8){var j=Math.min(8,C.length-L);const M=parseInt(C.substring(L,L+j),R);j<8?(j=d(Math.pow(R,j)),B=B.j(j).add(d(M))):(B=B.j(N),B=B.add(d(M)))}return B}var v=h(0),b=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(A(this))return-x(this).m();let C=0,R=1;for(let N=0;N<this.g.length;N++){const B=this.i(N);C+=(B>=0?B:4294967296+B)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(A(this))return"-"+x(this).toString(C);const R=d(Math.pow(C,6));var N=this;let B="";for(;;){const j=$(N,R).g;N=P(N,j.j(R));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=j,E(N))return L+B;for(;L.length<6;)L="0"+L;B=L+B}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function A(C){return C.h==-1}t.l=function(C){return C=P(this,C),A(C)?-1:E(C)?0:1};function x(C){const R=C.g.length,N=[];for(let B=0;B<R;B++)N[B]=~C.g[B];return new l(N,~C.h).add(b)}t.abs=function(){return A(this)?x(this):this},t.add=function(C){const R=Math.max(this.g.length,C.g.length),N=[];let B=0;for(let j=0;j<=R;j++){let L=B+(this.i(j)&65535)+(C.i(j)&65535),M=(L>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);B=M>>>16,L&=65535,M&=65535,N[j]=M<<16|L}return new l(N,N[N.length-1]&-2147483648?-1:0)};function P(C,R){return C.add(x(R))}t.j=function(C){if(E(this)||E(C))return v;if(A(this))return A(C)?x(this).j(x(C)):x(x(this).j(C));if(A(C))return x(this.j(x(C)));if(this.l(_)<0&&C.l(_)<0)return d(this.m()*C.m());const R=this.g.length+C.g.length,N=[];for(var B=0;B<2*R;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(let j=0;j<C.g.length;j++){const L=this.i(B)>>>16,M=this.i(B)&65535,de=C.i(j)>>>16,be=C.i(j)&65535;N[2*B+2*j]+=M*be,z(N,2*B+2*j),N[2*B+2*j+1]+=L*be,z(N,2*B+2*j+1),N[2*B+2*j+1]+=M*de,z(N,2*B+2*j+1),N[2*B+2*j+2]+=L*de,z(N,2*B+2*j+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new l(N,0)};function z(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function V(C,R){this.g=C,this.h=R}function $(C,R){if(E(R))throw Error("division by zero");if(E(C))return new V(v,v);if(A(C))return R=$(x(C),R),new V(x(R.g),x(R.h));if(A(R))return R=$(C,x(R)),new V(x(R.g),R.h);if(C.g.length>30){if(A(C)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var N=b,B=R;B.l(C)<=0;)N=U(N),B=U(B);var j=F(N,1),L=F(B,1);for(B=F(B,2),N=F(N,2);!E(B);){var M=L.add(B);M.l(C)<=0&&(j=j.add(N),L=M),B=F(B,1),N=F(N,1)}return R=P(C,j.j(R)),new V(j,R)}for(j=v;C.l(R)>=0;){for(N=Math.max(1,Math.floor(C.m()/R.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),L=d(N),M=L.j(R);A(M)||M.l(C)>0;)N-=B,L=d(N),M=L.j(R);E(L)&&(L=b),j=j.add(L),C=P(C,M)}return new V(j,C)}t.B=function(C){return $(this,C).h},t.and=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let B=0;B<R;B++)N[B]=this.i(B)&C.i(B);return new l(N,this.h&C.h)},t.or=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let B=0;B<R;B++)N[B]=this.i(B)|C.i(B);return new l(N,this.h|C.h)},t.xor=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let B=0;B<R;B++)N[B]=this.i(B)^C.i(B);return new l(N,this.h^C.h)};function U(C){const R=C.g.length+1,N=[];for(let B=0;B<R;B++)N[B]=C.i(B)<<1|C.i(B-1)>>>31;return new l(N,C.h)}function F(C,R){const N=R>>5;R%=32;const B=C.g.length-N,j=[];for(let L=0;L<B;L++)j[L]=R>0?C.i(L+N)>>>R|C.i(L+N+1)<<32-R:C.i(L+N);return new l(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ED=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,$s=l}).apply(typeof AO<"u"?AO:typeof self<"u"?self:typeof window<"u"?window:{});var cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AD,Ef,SD,km,c_,TD,xD,OD;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof cm=="object"&&cm];for(var w=0;w<p.length;++w){var O=p[w];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function a(p,w){if(w)e:{var O=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Q=p[k];if(!(Q in O))break e;O=O[Q]}p=p[p.length-1],k=O[p],w=w(k),w!=k&&w!=null&&e(O,p,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(w){var O=[],k;for(k in w)Object.prototype.hasOwnProperty.call(w,k)&&O.push([k,w[k]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function h(p,w,O){return p.call.apply(p.bind,arguments)}function d(p,w,O){return d=h,d.apply(null,arguments)}function m(p,w){var O=Array.prototype.slice.call(arguments,1);return function(){var k=O.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function v(p,w){function O(){}O.prototype=w.prototype,p.Z=w.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(k,Q,ne){for(var ge=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ge[Ue-2]=arguments[Ue];return w.prototype[Q].apply(k,ge)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function _(p){const w=p.length;if(w>0){const O=Array(w);for(let k=0;k<w;k++)O[k]=p[k];return O}return[]}function E(p,w){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var O=typeof Q;if(O=O!="object"?O:Q?Array.isArray(Q)?"array":O:"null",O=="array"||O=="object"&&typeof Q.length=="number"){O=p.length||0;const ne=Q.length||0;p.length=O+ne;for(let ge=0;ge<ne;ge++)p[O+ge]=Q[ge]}else p.push(Q)}}class A{constructor(w,O){this.i=w,this.j=O,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function x(p){l.setTimeout(()=>{throw p},0)}function P(){var p=C;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,O){const k=V.get();k.set(w,O),this.h?this.h.next=k:this.g=k,this.h=k}}var V=new A(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,O){this.h=w,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,C=new z,R=()=>{const p=Promise.resolve(void 0);U=()=>{p.then(N)}};function N(){for(var p;p=P();){try{p.h.call(p.g)}catch(O){x(O)}var w=V;w.j(p),w.h<100&&(w.h++,p.next=w.g,w.g=p)}F=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};l.addEventListener("test",O,w),l.removeEventListener("test",O,w)}catch{}return p})();function M(p){return/^[\s\xa0]*$/.test(p)}function de(p,w){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,w)}v(de,j),de.prototype.init=function(p,w){const O=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget,w||(O=="mouseover"?w=p.fromElement:O=="mouseout"&&(w=p.toElement)),this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),K=0;function W(p,w,O,k,Q){this.listener=p,this.proxy=null,this.src=w,this.type=O,this.capture=!!k,this.ha=Q,this.key=++K,this.da=this.fa=!1}function ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function pe(p,w,O){for(const k in p)w.call(O,p[k],k,p)}function we(p,w){for(const O in p)w.call(void 0,p[O],O,p)}function q(p){const w={};for(const O in p)w[O]=p[O];return w}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(p,w){let O,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(O in k)p[O]=k[O];for(let ne=0;ne<te.length;ne++)O=te[ne],Object.prototype.hasOwnProperty.call(k,O)&&(p[O]=k[O])}}function me(p){this.src=p,this.g={},this.h=0}me.prototype.add=function(p,w,O,k,Q){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const ge=Re(p,w,k,Q);return ge>-1?(w=p[ge],O||(w.fa=!1)):(w=new W(w,this.src,ne,!!k,Q),w.fa=O,p.push(w)),w};function ye(p,w){const O=w.type;if(O in p.g){var k=p.g[O],Q=Array.prototype.indexOf.call(k,w,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(k,Q,1),ne&&(ue(w),p.g[O].length==0&&(delete p.g[O],p.h--))}}function Re(p,w,O,k){for(let Q=0;Q<p.length;++Q){const ne=p[Q];if(!ne.da&&ne.listener==w&&ne.capture==!!O&&ne.ha==k)return Q}return-1}var je="closure_lm_"+(Math.random()*1e6|0),ot={};function ie(p,w,O,k,Q){if(Array.isArray(w)){for(let ne=0;ne<w.length;ne++)ie(p,w[ne],O,k,Q);return null}return O=Xa(O),p&&p[be]?p.J(w,O,c(k)?!!k.capture:!1,Q):Ce(p,w,O,!1,k,Q)}function Ce(p,w,O,k,Q,ne){if(!w)throw Error("Invalid event type");const ge=c(Q)?!!Q.capture:!!Q;let Ue=Ut(p);if(Ue||(p[je]=Ue=new me(p)),O=Ue.add(w,O,k,ge,ne),O.proxy)return O;if(k=Me(),O.proxy=k,k.src=p,k.listener=O,p.addEventListener)L||(Q=ge),Q===void 0&&(Q=!1),p.addEventListener(w.toString(),k,Q);else if(p.attachEvent)p.attachEvent(qe(w.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Me(){function p(O){return w.call(p.src,p.listener,O)}const w=kt;return p}function he(p,w,O,k,Q){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)he(p,w[ne],O,k,Q);else k=c(k)?!!k.capture:!!k,O=Xa(O),p&&p[be]?(p=p.i,ne=String(w).toString(),ne in p.g&&(w=p.g[ne],O=Re(w,O,k,Q),O>-1&&(ue(w[O]),Array.prototype.splice.call(w,O,1),w.length==0&&(delete p.g[ne],p.h--)))):p&&(p=Ut(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Re(w,O,k,Q)),(O=p>-1?w[p]:null)&&Dt(O))}function Dt(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[be])ye(w.i,p);else{var O=p.type,k=p.proxy;w.removeEventListener?w.removeEventListener(O,k,p.capture):w.detachEvent?w.detachEvent(qe(O),k):w.addListener&&w.removeListener&&w.removeListener(k),(O=Ut(w))?(ye(O,p),O.h==0&&(O.src=null,w[je]=null)):ue(p)}}}function qe(p){return p in ot?ot[p]:ot[p]="on"+p}function kt(p,w){if(p.da)p=!0;else{w=new de(w,this);const O=p.listener,k=p.ha||p.src;p.fa&&Dt(p),p=O.call(k,w)}return p}function Ut(p){return p=p[je],p instanceof me?p:null}var cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xa(p){return typeof p=="function"?p:(p[cr]||(p[cr]=function(w){return p.handleEvent(w)}),p[cr])}function Gt(){B.call(this),this.i=new me(this),this.M=this,this.G=null}v(Gt,B),Gt.prototype[be]=!0,Gt.prototype.removeEventListener=function(p,w,O,k){he(this,p,w,O,k)};function ln(p,w){var O,k=p.G;if(k)for(O=[];k;k=k.G)O.push(k);if(p=p.M,k=w.type||w,typeof w=="string")w=new j(w,p);else if(w instanceof j)w.target=w.target||p;else{var Q=w;w=new j(k,p),fe(w,Q)}Q=!0;let ne,ge;if(O)for(ge=O.length-1;ge>=0;ge--)ne=w.g=O[ge],Q=Za(ne,k,!0,w)&&Q;if(ne=w.g=p,Q=Za(ne,k,!0,w)&&Q,Q=Za(ne,k,!1,w)&&Q,O)for(ge=0;ge<O.length;ge++)ne=w.g=O[ge],Q=Za(ne,k,!1,w)&&Q}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var p=this.i;for(const w in p.g){const O=p.g[w];for(let k=0;k<O.length;k++)ue(O[k]);delete p.g[w],p.h--}}this.G=null},Gt.prototype.J=function(p,w,O,k){return this.i.add(String(p),w,!1,O,k)},Gt.prototype.K=function(p,w,O,k){return this.i.add(String(p),w,!0,O,k)};function Za(p,w,O,k){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let ne=0;ne<w.length;++ne){const ge=w[ne];if(ge&&!ge.da&&ge.capture==O){const Ue=ge.listener,Bt=ge.ha||ge.src;ge.fa&&ye(p.i,ge),Q=Ue.call(Bt,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function rv(p,w){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(p,w||0)}function Mh(p){p.g=rv(()=>{p.g=null,p.i&&(p.i=!1,Mh(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Hn extends B{constructor(w,O){super(),this.m=w,this.l=O,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Mh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(p){B.call(this),this.h=p,this.g={}}v(fo,B);var lc=[];function uc(p){pe(p.g,function(w,O){this.g.hasOwnProperty(O)&&Dt(w)},p),p.g={}}fo.prototype.N=function(){fo.Z.N.call(this),uc(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ja=l.JSON.stringify,iv=l.JSON.parse,kh=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function jh(){}function Lh(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function An(){j.call(this,"d")}v(An,j);function Ir(){j.call(this,"c")}v(Ir,j);var zt={},Vh=null;function wl(){return Vh=Vh||new Gt}zt.Ia="serverreachability";function Uh(p){j.call(this,zt.Ia,p)}v(Uh,j);function wi(p){const w=wl();ln(w,new Uh(w))}zt.STAT_EVENT="statevent";function ho(p,w){j.call(this,zt.STAT_EVENT,p),this.stat=w}v(ho,j);function Yt(p){const w=wl();ln(w,new ho(w,p))}zt.Ja="timingevent";function Ei(p,w){j.call(this,zt.Ja,p),this.size=w}v(Ei,j);function Ai(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},w)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function av(p,w,O,k,Q,ne){p.info(function(){if(p.g)if(ne){var ge="",Ue=ne.split("&");for(let it=0;it<Ue.length;it++){var Bt=Ue[it].split("=");if(Bt.length>1){const Tt=Bt[0];Bt=Bt[1];const Nr=Tt.split("_");ge=Nr.length>=2&&Nr[1]=="type"?ge+(Tt+"="+Bt+"&"):ge+(Tt+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+w+`
`+O+`
`+ge})}function zh(p,w,O,k,Q,ne,ge){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+w+`
`+O+`
`+ne+" "+ge})}function Si(p,w,O,k){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+sv(p,O)+(k?" "+k:"")})}function mo(p,w){p.info(function(){return"TIMEOUT: "+w})}ni.prototype.info=function(){};function sv(p,w){if(!p.g)return w;if(!w)return null;try{const ne=JSON.parse(w);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var O=ne[p];if(!(O.length<2)){var k=O[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<k.length;ge++)k[ge]=""}}}}return Ja(ne)}catch{return w}}var po={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fc;function go(){}v(go,jh),go.prototype.g=function(){return new XMLHttpRequest},fc=new go;function ra(p){return encodeURIComponent(String(p))}function Bh(p){var w=1;p=p.split(":");const O=[];for(;w>0&&p.length;)O.push(p.shift()),w--;return p.length&&O.push(p.join(":")),O}function ri(p,w,O,k){this.j=p,this.i=w,this.l=O,this.S=k||1,this.V=new fo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Wt={},gn={};function Ti(p,w,O){p.M=1,p.A=vo(Xt(w)),p.u=O,p.R=!0,El(p,null)}function El(p,w){p.F=Date.now(),xi(p),p.B=Xt(p.A);var O=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),xl(O.i,"t",k),p.C=0,O=p.j.L,p.h=new ii,p.g=nd(p.j,O?w:null,!p.u),p.P>0&&(p.O=new Hn(d(p.Y,p,p.g),p.P)),w=p.V,O=p.g,k=p.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(lc[0]=Q.toString()),Q=lc);for(let ne=0;ne<Q.length;ne++){const ge=ie(O,Q[ne],k||w.handleEvent,!1,w.h||w);if(!ge)break;w.g[ge.key]=ge}w=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,w)):(p.v="GET",p.g.ea(p.B,p.v,null,w)),wi(),av(p.i,p.v,p.B,p.l,p.S,p.u)}ri.prototype.ba=function(p){p=p.target;const w=this.O;w&&oi(p)==3?w.j():this.Y(p)},ri.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=oi(this.g),Bt=this.g.ya(),it=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Sn(this.g)))){this.K||Ue!=4||Bt==7||(Bt==8||it<=0?wi(3):wi(2)),Oi(this);var w=this.g.ca();this.X=w;var O=ov(this);if(this.o=w==200,zh(this.i,this.v,this.B,this.l,this.S,Ue,w),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(k)){var ne=k;break t}}ne=null}if(p=ne)Si(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,p);else{this.o=!1,this.m=3,Yt(12),fr(this),Pr(this);break e}}if(this.R){p=!0;let Tt;for(;!this.K&&this.C<O.length;)if(Tt=$h(this,O),Tt==gn){Ue==4&&(this.m=4,Yt(14),p=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Wt){this.m=4,Yt(15),Si(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else Si(this.i,this.l,Tt,null),Ci(this,Tt);if(qh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||O.length!=0||this.h.h||(this.m=1,Yt(16),p=!1),this.o=this.o&&p,!p)Si(this.i,this.l,O,"[Invalid Chunked Response]"),fr(this),Pr(this);else if(O.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),xc(ge),ge.P=!0,Yt(11))}}else Si(this.i,this.l,O,null),Ci(this,O);Ue==4&&fr(this),this.o&&!this.K&&(Ue==4?Zh(this.j,this):(this.o=!1,xi(this)))}else aa(this.g),w==400&&O.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),fr(this),Pr(this)}}}catch{}finally{}};function ov(p){if(!qh(p))return p.g.la();const w=Sn(p.g);if(w==="")return"";let O="";const k=w.length,Q=oi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return fr(p),Pr(p),"";p.h.i=new l.TextDecoder}for(let ne=0;ne<k;ne++)p.h.h=!0,O+=p.h.i.decode(w[ne],{stream:!(Q&&ne==k-1)});return w.length=0,p.h.g+=O,p.C=0,p.h.g}function qh(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function $h(p,w){var O=p.C,k=w.indexOf(`
`,O);return k==-1?gn:(O=Number(w.substring(O,k)),isNaN(O)?Wt:(k+=1,k+O>w.length?gn:(w=w.slice(k,k+O),p.C=k+O,w)))}ri.prototype.cancel=function(){this.K=!0,fr(this)};function xi(p){p.T=Date.now()+p.H,Al(p,p.H)}function Al(p,w){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ai(d(p.aa,p),w)}function Oi(p){p.D&&(l.clearTimeout(p.D),p.D=null)}ri.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(mo(this.i,this.B),this.M!=2&&(wi(),Yt(17)),fr(this),this.m=2,Pr(this)):Al(this,this.T-p)};function Pr(p){p.j.I==0||p.K||Zh(p.j,p)}function fr(p){Oi(p);var w=p.O;w&&typeof w.dispose=="function"&&w.dispose(),p.O=null,uc(p.V),p.g&&(w=p.g,p.g=null,w.abort(),w.dispose())}function Ci(p,w){try{var O=p.j;if(O.I!=0&&(O.g==p||Pi(O.h,p))){if(!p.L&&Pi(O.h,p)&&O.I==3){try{var k=O.Ba.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)Rl(O),os(O);else break e;So(O),Yt(18)}}else O.xa=Q[1],0<O.xa-O.K&&Q[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ai(d(O.Va,O),6e3));Ii(O.h)<=1&&O.ta&&(O.ta=void 0)}else ji(O,11)}else if((p.L||O.g==p)&&Rl(O),!M(w))for(Q=O.Ba.g.parse(w),w=0;w<Q.length;w++){let it=Q[w];const Tt=it[0];if(!(Tt<=O.K))if(O.K=Tt,it=it[1],O.I==2)if(it[0]=="c"){O.M=it[1],O.ba=it[2];const Nr=it[3];Nr!=null&&(O.ka=Nr,O.j.info("VER="+O.ka));const Li=it[4];Li!=null&&(O.za=Li,O.j.info("SVER="+O.za));const li=it[5];li!=null&&typeof li=="number"&&li>0&&(k=1.5*li,O.O=k,O.j.info("backChannelRequestTimeoutMs_="+k)),k=O;const ui=p.g;if(ui){const To=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(To){var ne=k.h;ne.g||To.indexOf("spdy")==-1&&To.indexOf("quic")==-1&&To.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(mc(ne,ne.h),ne.h=null))}if(k.G){const Dl=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(k.wa=Dl,lt(k.J,k.G,Dl))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),k=O;var ge=p;if(k.na=td(k,k.L?k.ba:null,k.W),ge.L){pc(k.h,ge);var Ue=ge,Bt=k.O;Bt&&(Ue.H=Bt),Ue.D&&(Oi(Ue),xi(Ue)),k.g=ge}else Qh(k);O.i.length>0&&ki(O)}else it[0]!="stop"&&it[0]!="close"||ji(O,7);else O.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ji(O,7):Sc(O):it[0]!="noop"&&O.l&&O.l.qa(it),O.A=0)}}wi(4)}catch{}}var Qt=class{constructor(p,w){this.g=p,this.map=w}};function hc(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ii(p){return p.h?1:p.g?p.g.size:0}function Pi(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function mc(p,w){p.g?p.g.add(w):p.h=w}function pc(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}hc.prototype.cancel=function(){if(this.i=gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function gc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const O of p.g.values())w=w.concat(O.G);return w}return _(p.i)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(p,w){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const k=p[O].indexOf("=");let Q,ne=null;k>=0?(Q=p[O].substring(0,k),ne=p[O].substring(k+1)):Q=p[O],w(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function hr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;p instanceof hr?(this.l=p.l,vn(this,p.j),this.o=p.o,this.g=p.g,es(this,p.u),this.h=p.h,vc(this,Yh(p.i)),this.m=p.m):p&&(w=String(p).match(Fh))?(this.l=!1,vn(this,w[1]||"",!0),this.o=Ri(w[2]||""),this.g=Ri(w[3]||"",!0),es(this,w[4]),this.h=Ri(w[5]||"",!0),vc(this,w[6]||"",!0),this.m=Ri(w[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}hr.prototype.toString=function(){const p=[];var w=this.j;w&&p.push(yo(w,Tl,!0),":");var O=this.g;return(O||w=="file")&&(p.push("//"),(w=this.o)&&p.push(yo(w,Tl,!0),"@"),p.push(ra(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(yo(O,O.charAt(0)=="/"?yc:Hh,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",yo(O,Kh)),p.join("")},hr.prototype.resolve=function(p){const w=Xt(this);let O=!!p.j;O?vn(w,p.j):O=!!p.o,O?w.o=p.o:O=!!p.g,O?w.g=p.g:O=p.u!=null;var k=p.h;if(O)es(w,p.u);else if(O=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(k=w.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ge=0;ge<Q.length;){const Ue=Q[ge++];Ue=="."?k&&ge==Q.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),k&&ge==Q.length&&ne.push("")):(ne.push(Ue),k=!0)}k=ne.join("/")}else k=Q}return O?w.h=k:O=p.i.toString()!=="",O?vc(w,Yh(p.i)):O=!!p.m,O&&(w.m=p.m),w};function Xt(p){return new hr(p)}function vn(p,w,O){p.j=O?Ri(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function es(p,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);p.u=w}else p.u=null}function vc(p,w,O){w instanceof ns?(p.i=w,Ol(p.i,p.l)):(O||(w=yo(w,ts)),p.i=new ns(w,p.l))}function lt(p,w,O){p.i.set(w,O)}function vo(p){return lt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ri(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function yo(p,w,O){return typeof p=="string"?(p=encodeURI(p).replace(w,Zn),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Zn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Tl=/[#\/\?@]/g,Hh=/[#\?:]/g,yc=/[#\?]/g,ts=/[#\?@]/g,Kh=/#/g;function ns(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Jn(p){p.g||(p.g=new Map,p.h=0,p.i&&Sl(p.i,function(w,O){p.add(decodeURIComponent(w.replace(/\+/g," ")),O)}))}t=ns.prototype,t.add=function(p,w){Jn(this),this.i=null,p=rs(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(w),this.h+=1,this};function Gh(p,w){Jn(p),w=rs(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function bc(p,w){return Jn(p),w=rs(p,w),p.g.has(w)}t.forEach=function(p,w){Jn(this),this.g.forEach(function(O,k){O.forEach(function(Q){p.call(w,Q,k,this)},this)},this)};function _c(p,w){Jn(p);let O=[];if(typeof w=="string")bc(p,w)&&(O=O.concat(p.g.get(rs(p,w))));else for(p=Array.from(p.g.values()),w=0;w<p.length;w++)O=O.concat(p[w]);return O}t.set=function(p,w){return Jn(this),this.i=null,p=rs(this,p),bc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=_c(this,p),p.length>0?String(p[0]):w):w};function xl(p,w,O){Gh(p,w),O.length>0&&(p.i=null,p.g.set(rs(p,w),_(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(let k=0;k<w.length;k++){var O=w[k];const Q=ra(O);O=_c(this,O);for(let ne=0;ne<O.length;ne++){let ge=Q;O[ne]!==""&&(ge+="="+ra(O[ne])),p.push(ge)}}return this.i=p.join("&")};function Yh(p){const w=new ns;return w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),w}function rs(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Ol(p,w){w&&!p.j&&(Jn(p),p.i=null,p.g.forEach(function(O,k){const Q=k.toLowerCase();k!=Q&&(Gh(this,k),xl(this,Q,O))},p)),p.j=w}function ai(p,w){const O=new ni;if(l.Image){const k=new Image;k.onload=m(Rr,O,"TestLoadImage: loaded",!0,w,k),k.onerror=m(Rr,O,"TestLoadImage: error",!1,w,k),k.onabort=m(Rr,O,"TestLoadImage: abort",!1,w,k),k.ontimeout=m(Rr,O,"TestLoadImage: timeout",!1,w,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else w(!1)}function wc(p,w){const O=new ni,k=new AbortController,Q=setTimeout(()=>{k.abort(),Rr(O,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:k.signal}).then(ne=>{clearTimeout(Q),ne.ok?Rr(O,"TestPingServer: ok",!0,w):Rr(O,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Rr(O,"TestPingServer: error",!1,w)})}function Rr(p,w,O,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(O)}catch{}}function is(){this.g=new kh}function Di(p){this.i=p.Sb||null,this.h=p.ab||!1}v(Di,jh),Di.prototype.g=function(){return new bo(this.i,this.h)};function bo(p,w){Gt.call(this),this.H=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(bo,Gt),t=bo.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=w,this.readyState=1,si(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(w.body=p),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?as(this):si(this),this.readyState==3&&Cl(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,as(this))},t.Na=function(p){this.g&&(this.response=p,as(this))},t.ga=function(){this.g&&as(this)};function as(p){p.readyState=4,p.l=null,p.j=null,p.B=null,si(p)}t.setRequestHeader=function(p,w){this.A.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var O=w.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=w.next();return p.join(`\r
`)};function si(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Dr(p){let w="";return pe(p,function(O,k){w+=k,w+=":",w+=O,w+=`\r
`}),w}function _o(p,w,O){e:{for(k in O){var k=!1;break e}k=!0}k||(O=Dr(O),typeof p=="string"?O!=null&&ra(O):lt(p,w,O))}function ht(p){Gt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ht,Gt);var Ni=/^https?$/i,Ec=["POST","PUT"];t=ht.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,w,O,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fc.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ne){wo(this,ne);return}if(p=O||"",O=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)O.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())O.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(Ec,w,void 0)>=0)||k||Q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of O)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){wo(this,ne)}};function wo(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.o=5,Ac(p),ia(p)}function Ac(p){p.A||(p.A=!0,ln(p,"complete"),ln(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ln(this,"complete"),ln(this,"abort"),ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ia(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Eo(this):this.Xa())},t.Xa=function(){Eo(this)};function Eo(p){if(p.h&&typeof o<"u"){if(p.v&&oi(p)==4)setTimeout(p.Ca.bind(p),0);else if(ln(p,"readystatechange"),oi(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var O;if(!(O=w)){var k;if(k=ne===0){let ge=String(p.D).match(Fh)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),k=!Ni.test(ge?ge.toLowerCase():"")}O=k}if(O)ln(p,"complete"),ln(p,"success");else{p.o=6;try{var Q=oi(p)>2?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.ca()+"]",Ac(p)}}finally{ia(p)}}}}function ia(p,w){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,w||ln(p,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function oi(p){return p.g?p.g.readyState:0}t.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),iv(w)}};function Sn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(p){const w={};p=(p.g&&oi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(M(p[k]))continue;var O=Bh(p[k]);const Q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=w[Q]||[];w[Q]=ne,ne.push(O)}we(w,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(p,w,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||w}function ss(p){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,p),this.Za=Mi("retryDelaySeedMs",1e4,p),this.Ta=Mi("forwardChannelMaxRetries",2,p),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new hc(p&&p.concurrentRequestLimit),this.Ba=new is,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ss.prototype,t.ka=8,t.I=1,t.connect=function(p,w,O,k){Yt(0),this.W=p,this.H=w||{},O&&k!==void 0&&(this.H.OSID=O,this.H.OAID=k),this.F=this.X,this.J=td(this,null,this.W),ki(this)};function Sc(p){if(Il(p),p.I==3){var w=p.V++,O=Xt(p.J);if(lt(O,"SID",p.M),lt(O,"RID",w),lt(O,"TYPE","terminate"),Ao(p,O),w=new ri(p,p.j,w),w.M=2,w.A=vo(Xt(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=w.A,O=!0),O||(w.g=nd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),xi(w)}ed(p)}function os(p){p.g&&(xc(p),p.g.cancel(),p.g=null)}function Il(p){os(p),p.v&&(l.clearTimeout(p.v),p.v=null),Rl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function ki(p){if(!dc(p.h)&&!p.m){p.m=!0;var w=p.Ea;U||R(),F||(U(),F=!0),C.add(w,p),p.D=0}}function Pl(p,w){return Ii(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=w.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ai(d(p.Ea,p,w),Jh(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Q=new ri(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=q(ne),fe(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var w=0,O=0;O<this.i.length;O++){t:{var k=this.i[O];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,w>4096){w=O;break e}if(w===4096||O===this.i.length-1){w=O+1;break e}}w=1e3}else w=1e3;w=Wh(this,Q,w),O=Xt(this.J),lt(O,"RID",p),lt(O,"CVER",22),this.G&&lt(O,"X-HTTP-Session-Id",this.G),Ao(this,O),ne&&(this.R?w="headers="+ra(Dr(ne))+"&"+w:this.u&&_o(O,this.u,ne)),mc(this.h,Q),this.Ra&&lt(O,"TYPE","init"),this.S?(lt(O,"$req",w),lt(O,"SID","null"),Q.U=!0,Ti(Q,O,null)):Ti(Q,O,w),this.I=2}}else this.I==3&&(p?Tc(this,p):this.i.length==0||dc(this.h)||Tc(this))};function Tc(p,w){var O;w?O=w.l:O=p.V++;const k=Xt(p.J);lt(k,"SID",p.M),lt(k,"RID",O),lt(k,"AID",p.K),Ao(p,k),p.u&&p.o&&_o(k,p.u,p.o),O=new ri(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),w&&(p.i=w.G.concat(p.i)),w=Wh(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),mc(p.h,O),Ti(O,k,w)}function Ao(p,w){p.H&&pe(p.H,function(O,k){lt(w,k,O)}),p.l&&pe({},function(O,k){lt(w,k,O)})}function Wh(p,w,O){O=Math.min(p.i.length,O);const k=p.l?d(p.l.Ka,p.l,p):null;e:{var Q=p.i;let Ue=-1;for(;;){const Bt=["count="+O];Ue==-1?O>0?(Ue=Q[0].g,Bt.push("ofs="+Ue)):Ue=0:Bt.push("ofs="+Ue);let it=!0;for(let Tt=0;Tt<O;Tt++){var ne=Q[Tt].g;const Nr=Q[Tt].map;if(ne-=Ue,ne<0)Ue=Math.max(0,Q[Tt].g-100),it=!1;else try{ne="req"+ne+"_"||"";try{var ge=Nr instanceof Map?Nr:Object.entries(Nr);for(const[Li,li]of ge){let ui=li;c(li)&&(ui=Ja(li)),Bt.push(ne+Li+"="+encodeURIComponent(ui))}}catch(Li){throw Bt.push(ne+"type="+encodeURIComponent("_badmap")),Li}}catch{k&&k(Nr)}}if(it){ge=Bt.join("&");break e}}ge=void 0}return p=p.i.splice(0,O),w.G=p,ge}function Qh(p){if(!p.g&&!p.v){p.Y=1;var w=p.Da;U||R(),F||(U(),F=!0),C.add(w,p),p.A=0}}function So(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ai(d(p.Da,p),Jh(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ai(d(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),os(this),Xh(this))};function xc(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Xh(p){p.g=new ri(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var w=Xt(p.na);lt(w,"RID","rpc"),lt(w,"SID",p.M),lt(w,"AID",p.K),lt(w,"CI",p.F?"0":"1"),!p.F&&p.ia&&lt(w,"TO",p.ia),lt(w,"TYPE","xmlhttp"),Ao(p,w),p.u&&p.o&&_o(w,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=vo(Xt(w)),O.u=null,O.R=!0,El(O,p)}t.Va=function(){this.C!=null&&(this.C=null,os(this),So(this),Yt(19))};function Rl(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Zh(p,w){var O=null;if(p.g==w){Rl(p),xc(p),p.g=null;var k=2}else if(Pi(p.h,w))O=w.G,pc(p.h,w),k=1;else return;if(p.I!=0){if(w.o)if(k==1){O=w.u?w.u.length:0,w=Date.now()-w.F;var Q=p.D;k=wl(),ln(k,new Ei(k,O)),ki(p)}else Qh(p);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(k==1&&Pl(p,w)||k==2&&So(p)))switch(O&&O.length>0&&(w=p.h,w.i=w.i.concat(O)),Q){case 1:ji(p,5);break;case 4:ji(p,10);break;case 3:ji(p,6);break;default:ji(p,2)}}}function Jh(p,w){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*w}function ji(p,w){if(p.j.info("Error code "+w),w==2){var O=d(p.bb,p),k=p.Ua;const Q=!k;k=new hr(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||vn(k,"https"),vo(k),Q?ai(k.toString(),O):wc(k.toString(),O)}else Yt(2);p.I=0,p.l&&p.l.pa(w),ed(p),Il(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function ed(p){if(p.I=0,p.ja=[],p.l){const w=gc(p.h);(w.length!=0||p.i.length!=0)&&(E(p.ja,w),E(p.ja,p.i),p.h.i.length=0,_(p.i),p.i.length=0),p.l.oa()}}function td(p,w,O){var k=O instanceof hr?Xt(O):new hr(O);if(k.g!="")w&&(k.g=w+"."+k.g),es(k,k.u);else{var Q=l.location;k=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new hr(null);k&&vn(ne,k),w&&(ne.g=w),Q&&es(ne,Q),O&&(ne.h=O),k=ne}return O=p.G,w=p.wa,O&&w&&lt(k,O,w),lt(k,"VER",p.ka),Ao(p,k),k}function nd(p,w,O){if(w&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Aa&&!p.ma?new ht(new Di({ab:O})):new ht(p.ma),w.Fa(p.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rd(){}t=rd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ls(){}ls.prototype.g=function(p,w){return new Kn(p,w)};function Kn(p,w){Gt.call(this),this.g=new ss(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(p?p["X-WebChannel-Client-Profile"]=w.sa:p={"X-WebChannel-Client-Profile":w.sa}),this.g.U=p,(p=w&&w.Qb)&&!M(p)&&(this.g.u=p),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.G=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new sa(this)}v(Kn,Gt),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){Sc(this.g)},Kn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=Ja(p),p=O);w.i.push(new Qt(w.Ya++,p)),w.I==3&&ki(w)},Kn.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,Kn.Z.N.call(this)};function id(p){An.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const O in w){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}v(id,An);function ad(){Ir.call(this),this.status=1}v(ad,Ir);function sa(p){this.g=p}v(sa,rd),sa.prototype.ra=function(){ln(this.g,"a")},sa.prototype.qa=function(p){ln(this.g,new id(p))},sa.prototype.pa=function(p){ln(this.g,new ad)},sa.prototype.oa=function(){ln(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,OD=function(){return new ls},xD=function(){return wl()},TD=zt,c_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,km=po,cc.COMPLETE="complete",SD=cc,Lh.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,Ef=Lh,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,AD=ht}).apply(typeof cm<"u"?cm:typeof self<"u"?self:typeof window<"u"?window:{});const SO="@firebase/firestore",TO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Tw("@firebase/firestore");function cu(){return rl.logLevel}function _e(t,...e){if(rl.logLevel<=Ge.DEBUG){const n=e.map(jw);rl.debug(`Firestore (${$u}): ${t}`,...n)}}function ka(t,...e){if(rl.logLevel<=Ge.ERROR){const n=e.map(jw);rl.error(`Firestore (${$u}): ${t}`,...n)}}function Tu(t,...e){if(rl.logLevel<=Ge.WARN){const n=e.map(jw);rl.warn(`Firestore (${$u}): ${t}`,...n)}}function jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CD(t,r,n)}function CD(t,e,n){let r=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ka(r),new Error(r)}function st(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||CD(e,a,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends $a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class $z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Fz{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ia,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},c=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ia)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new ID(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class Hz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Hz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Yz(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function f_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return p0(a)===p0(o)?Ye(a,o):p0(a)?1:-1}return Ye(t.length,e.length)}const Wz=55296,Qz=57343;function p0(t){const e=t.charCodeAt(0);return e>=Wz&&e<=Qz}function xu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__name__";class qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=qi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const r=qi.isNumericId(e),a=qi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?qi.extractNumericId(e).compare(qi.extractNumericId(n)):f_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class _t extends qi{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const Xz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends qi{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return Xz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OO}static keyField(){return new Dn([OO])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(_t.fromString(e))}static fromName(e){return new Oe(_t.fromString(e).popFirst(5))}static empty(){return new Oe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zz(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CO(t){if(!Oe.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IO(t){if(Oe.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function oh(t,e){if(!RD(t))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=-62135596800,RO=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RO);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PO)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RO}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oh(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:an("string",Ze._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ze(0,0))}static max(){return new ke(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=-1;function Jz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Ks(a,Oe.empty(),e)}function e9(t){return new Ks(t.readTime,t.key,Lf)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(ke.min(),Oe.empty(),Lf)}static max(){return new Ks(ke.max(),Oe.empty(),Lf)}}function t9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==n9)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(h=>r(h)))})),l=!0,o===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((a=>a?ce.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((m=>{l[d]=m,++c,c===o&&r(l)}),(m=>a(m)))}}))}static doWhile(e,n){return new ce(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function i9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=-1;function Jp(t){return t==null}function Zm(t){return t===0&&1/t==-1/0}function a9(t){return typeof t=="number"&&Number.isInteger(t)&&!Zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="";function s9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DO(e)),e=o9(t.get(n),e);return DO(e)}function o9(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case DD:n+="";break;default:n+=o}}return n}function DO(t){return t+DD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fm(this.root,e,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fm(this.root,e,this.comparator,!0)}}class fm{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=a??Pn.EMPTY,this.right=o??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MO(this.data.getIterator())}getIteratorFrom(e){return new MO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class MO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new fn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MD("Invalid base64 string: "+o):o}})(e);return new Mn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const l9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=l9.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="server_timestamp",jD="__type__",LD="__previous_value__",VD="__local_write_time__";function Uw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jD])==null?void 0:r.stringValue)===kD}function eg(t){const e=t.mapValue.fields[LD];return Uw(e)?eg(e):e}function Vf(t){const e=Gs(t.mapValue.fields[VD].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,a,o,l,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Jm="(default)";class Uf{constructor(e,n){this.projectId=e,this.database=n||Jm}static empty(){return new Uf("","")}get isDefaultDatabase(){return this.database===Jm}isEqual(e){return e instanceof Uf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__type__",c9="__max__",hm={mapValue:{}},zD="__vector__",ep="value";function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uw(t)?4:h9(t)?9007199254740991:f9(t)?10:11:Ne(28295,{value:t})}function Ji(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vf(t).isEqual(Vf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Gs(a.timestampValue),c=Gs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Ys(a.bytesValue).isEqual(Ys(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Ht(a.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ht(a.integerValue)===Ht(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=Ht(a.doubleValue),c=Ht(o.doubleValue);return l===c?Zm(l)===Zm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return xu(t.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(NO(l)!==NO(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ji(l[h],c[h])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function zf(t,e){return(t.values||[]).find((n=>Ji(n,e)))!==void 0}function Ou(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Ht(o.integerValue||o.doubleValue),h=Ht(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return kO(t.timestampValue,e.timestampValue);case 4:return kO(Vf(t),Vf(e));case 5:return f_(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Ys(o),h=Ys(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=Ye(c[d],h[d]);if(m!==0)return m}return Ye(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Ye(Ht(o.latitude),Ht(l.latitude));return c!==0?c:Ye(Ht(o.longitude),Ht(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jO(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var b,_,E,A;const c=o.fields||{},h=l.fields||{},d=(b=c[ep])==null?void 0:b.arrayValue,m=(_=h[ep])==null?void 0:_.arrayValue,v=Ye(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((A=m==null?void 0:m.values)==null?void 0:A.length)||0);return v!==0?v:jO(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===hm.mapValue&&l===hm.mapValue)return 0;if(o===hm.mapValue)return 1;if(l===hm.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const b=f_(h[v],m[v]);if(b!==0)return b;const _=Ou(c[h[v]],d[m[v]]);if(_!==0)return _}return Ye(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function kO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Gs(t),r=Gs(e),a=Ye(n.seconds,r.seconds);return a!==0?a:Ye(n.nanos,r.nanos)}function jO(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ou(n[a],r[a]);if(o)return o}return Ye(n.length,r.length)}function Cu(t){return h_(t)}function h_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=h_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${h_(n.fields[l])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function jm(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(t);return e?16+jm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+jm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return io(r.fields,((o,l)=>{a+=o.length+jm(l)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function LO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d_(t){return!!t&&"integerValue"in t}function zw(t){return!!t&&"arrayValue"in t}function VO(t){return!!t&&"nullValue"in t}function UO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function f9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UD])==null?void 0:r.stringValue)===zD}function Pf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pf(t.arrayValue.values[n]);return e}return{...t}}function h9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(n)}setAll(e){let n=Dn.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=Pf(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Lm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){io(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new or(Pf(this.value))}}function BD(t){const e=[];return io(t.fields,((n,r)=>{const a=new Dn([n]);if(Lm(r)){const o=BD(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new zn(e,0,ke.min(),ke.min(),ke.min(),or.empty(),0)}static newFoundDocument(e,n,r,a){return new zn(e,1,n,ke.min(),r,a,0)}static newNoDocument(e,n){return new zn(e,2,n,ke.min(),ke.min(),or.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,ke.min(),ke.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.position=e,this.inclusive=n}}function zO(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=Oe.comparator(Oe.fromName(l.referenceValue),n.key):r=Ou(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function d9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{}class rn extends qD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p9(e,n,r):n==="array-contains"?new y9(e,r):n==="in"?new b9(e,r):n==="not-in"?new _9(e,r):n==="array-contains-any"?new w9(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g9(e,r):new v9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ou(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends qD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return $D(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $D(t){return t.op==="and"}function FD(t){return m9(t)&&$D(t)}function m9(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function m_(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Cu(t.value);if(FD(t))return t.filters.map((e=>m_(e))).join(",");{const e=t.filters.map((n=>m_(n))).join(",");return`${t.op}(${e})`}}function HD(t,e){return t instanceof rn?(function(r,a){return a instanceof rn&&r.op===a.op&&r.field.isEqual(a.field)&&Ji(r.value,a.value)})(t,e):t instanceof yi?(function(r,a){return a instanceof yi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&HD(l,a.filters[c])),!0):!1})(t,e):void Ne(19439)}function KD(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Cu(n.value)}`})(t):t instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(KD).join(" ,")+"}"})(t):"Filter"}class p9 extends rn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class g9 extends rn{constructor(e,n){super(e,"in",n),this.keys=GD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v9 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=GD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class y9 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zw(n)&&zf(n.arrayValue,this.value)}}class b9 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zf(this.value.arrayValue,n)}}class _9 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zf(this.value.arrayValue,n)}}class w9 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function qO(t,e=null,n=[],r=[],a=null,o=null,l=null){return new E9(t,e,n,r,a,o,l)}function Bw(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>m_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Cu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Cu(r))).join(",")),e.Te=n}return e.Te}function qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BO(t.startAt,e.startAt)&&BO(t.endAt,e.endAt)}function p_(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A9(t,e,n,r,a,o,l,c){return new Ku(t,e,n,r,a,o,l,c)}function $w(t){return new Ku(t)}function $O(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YD(t){return t.collectionGroup!==null}function Rf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new fn(Dn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bf(o,r))})),n.has(Dn.keyField().canonicalString())||e.Ie.push(new Bf(Dn.keyField(),r))}return e.Ie}function Ki(t){const e=Ve(t);return e.Ee||(e.Ee=S9(e,Rf(t))),e.Ee}function S9(t,e){if(t.limitType==="F")return qO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Bf(a.field,o)}));const n=t.endAt?new tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tp(t.startAt.position,t.startAt.inclusive):null;return qO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g_(t,e){const n=t.filters.concat([e]);return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v_(t,e,n){return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tg(t,e){return qw(Ki(t),Ki(e))&&t.limitType===e.limitType}function WD(t){return`${Bw(Ki(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>KD(a))).join(", ")}]`),Jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Cu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Cu(a))).join(",")),`Target(${r})`})(Ki(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Rf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,h){const d=zO(l,c,h);return l.inclusive?d<=0:d<0})(r.startAt,Rf(r),a)||r.endAt&&!(function(l,c,h){const d=zO(l,c,h);return l.inclusive?d>=0:d>0})(r.endAt,Rf(r),a))})(t,e)}function T9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QD(t){return(e,n)=>{let r=!1;for(const a of Rf(t)){const o=x9(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function x9(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?Ou(h,d):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return ND(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Nt(Oe.comparator);function ja(){return O9}const XD=new Nt(Oe.comparator);function Af(...t){let e=XD;for(const n of t)e=e.insert(n.key,n);return e}function ZD(t){let e=XD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ho(){return Df()}function JD(){return Df()}function Df(){return new pl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const C9=new Nt(Oe.comparator),I9=new fn(Oe.comparator);function We(...t){let e=I9;for(const n of t)e=e.add(n);return e}const P9=new fn(Ye);function R9(){return P9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zm(e)?"-0":e}}function eN(t){return{integerValue:""+t}}function D9(t,e){return a9(e)?eN(e):Fw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function N9(t,e,n){return t instanceof np?(function(a,o){const l={fields:{[jD]:{stringValue:kD},[VD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Uw(o)&&(o=eg(o)),o&&(l.fields[LD]=o),{mapValue:l}})(n,e):t instanceof qf?nN(t,e):t instanceof $f?rN(t,e):(function(a,o){const l=tN(a,o),c=FO(l)+FO(a.Ae);return d_(l)&&d_(a.Ae)?eN(c):Fw(a.serializer,c)})(t,e)}function M9(t,e,n){return t instanceof qf?nN(t,e):t instanceof $f?rN(t,e):n}function tN(t,e){return t instanceof rp?(function(r){return d_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class np extends rg{}class qf extends rg{constructor(e){super(),this.elements=e}}function nN(t,e){const n=iN(e);for(const r of t.elements)n.some((a=>Ji(a,r)))||n.push(r);return{arrayValue:{values:n}}}class $f extends rg{constructor(e){super(),this.elements=e}}function rN(t,e){let n=iN(e);for(const r of t.elements)n=n.filter((a=>!Ji(a,r)));return{arrayValue:{values:n}}}class rp extends rg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FO(t){return Ht(t.integerValue||t.doubleValue)}function iN(t){return zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k9(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof qf&&a instanceof qf||r instanceof $f&&a instanceof $f?xu(r.elements,a.elements,Ji):r instanceof rp&&a instanceof rp?Ji(r.Ae,a.Ae):r instanceof np&&a instanceof np})(t.transform,e.transform)}class j9{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ig{}function aN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oN(t.key,gi.none()):new lh(t.key,t.data,gi.none());{const n=t.data,r=or.empty();let a=new fn(Dn.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new ao(t.key,r,new Tr(a.toArray()),gi.none())}}function L9(t,e,n){t instanceof lh?(function(a,o,l){const c=a.value.clone(),h=KO(a.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ao?(function(a,o,l){if(!Vm(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=KO(a.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(sN(a)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Nf(t,e,n,r){return t instanceof lh?(function(o,l,c,h){if(!Vm(o.precondition,l))return c;const d=o.value.clone(),m=GO(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof ao?(function(o,l,c,h){if(!Vm(o.precondition,l))return c;const d=GO(o.fieldTransforms,h,l),m=l.data;return m.setAll(sN(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,l,c){return Vm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function V9(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=tN(r.transform,a||null);o!=null&&(n===null&&(n=or.empty()),n.set(r.field,o))}return n||null}function HO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xu(r,a,((o,l)=>k9(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lh extends ig{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ao extends ig{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KO(t,e,n){const r=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,M9(l,c,n[a]))}return r}function GO(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,N9(o,l,e))}return r}class oN extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U9 extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&L9(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JD();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const h=aN(l,c);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,((n,r)=>HO(n,r)))&&xu(this.baseMutations,e.baseMutations,((n,r)=>HO(n,r)))}}class Hw{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return C9})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Hw(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Xe;function $9(t){switch(t){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function lN(t){if(t===void 0)return ka("GRPC error has no .code"),oe.UNKNOWN;switch(t){case nn.OK:return oe.OK;case nn.CANCELLED:return oe.CANCELLED;case nn.UNKNOWN:return oe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return oe.INTERNAL;case nn.UNAVAILABLE:return oe.UNAVAILABLE;case nn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case nn.NOT_FOUND:return oe.NOT_FOUND;case nn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case nn.ABORTED:return oe.ABORTED;case nn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case nn.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:t})}}(Xe=nn||(nn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new $s([4294967295,4294967295],0);function YO(t){const e=F9().encode(t),n=new ED;return n.update(e),new Uint8Array(n.digest())}function WO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $s([n,r],0),new $s([a,o],0)]}class Kw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sf(`Invalid padding: ${n}`);if(r<0)throw new Sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$s.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply($s.fromNumber(r)));return a.compare(H9)===1&&(a=new $s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YO(e),[r,a]=WO(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Kw(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=YO(e),[r,a]=WO(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ag(ke.min(),a,new Nt(Ye),ja(),We())}}class uh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uh(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class uN{constructor(e,n){this.targetId=e,this.Ce=n}}class cN{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class QO{constructor(){this.ve=0,this.Fe=XO(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ne(38017,{changeType:o})}})),new uh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K9{constructor(e){this.Ge=e,this.ze=new Map,this.je=ja(),this.Je=dm(),this.He=dm(),this.Ye=new Nt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(p_(o))if(r===0){const l=new Oe(o.path);this.et(n,l,zn.newNoDocument(l,ke.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=Ys(r).toUint8Array()}catch(h){if(h instanceof MD)return Tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Kw(l,a,o)}catch(h){return Tu(h instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&p_(c.target)){const h=new Oe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,zn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=We();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new ag(e,n,this.Ye,this.je,r);return this.je=ja(),this.Je=dm(),this.He=dm(),this.Ye=new Nt(Ye),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dm(){return new Nt(Oe.comparator)}function XO(){return new Nt(Oe.comparator)}const G9={asc:"ASCENDING",desc:"DESCENDING"},Y9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W9={and:"AND",or:"OR"};class Q9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||Jp(e)?e:{value:e}}function ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X9(t,e){return ip(t,e.toTimestamp())}function Gi(t){return st(!!t,49232),ke.fromTimestamp((function(n){const r=Gs(n);return new Ze(r.seconds,r.nanos)})(t))}function Gw(t,e){return b_(t,e).canonicalString()}function b_(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function hN(t){const e=_t.fromString(t);return st(vN(e),10190,{key:e.toString()}),e}function __(t,e){return Gw(t.databaseId,e.path)}function g0(t,e){const n=hN(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(mN(n))}function dN(t,e){return Gw(t.databaseId,e)}function Z9(t){const e=hN(t);return e.length===4?_t.emptyPath():mN(e)}function w_(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mN(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZO(t,e,n){return{name:__(t,e),fields:n.value.mapValue.fields}}function J9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(st(m===void 0||typeof m=="string",58123),Mn.fromBase64String(m||"")):(st(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Mn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?oe.UNKNOWN:lN(d.code);return new ve(m,d.message||"")})(l);n=new cN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=g0(t,r.document.name),o=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):ke.min(),c=new or({mapValue:{fields:r.document.fields}}),h=zn.newFoundDocument(a,o,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Um(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=g0(t,r.document),o=r.readTime?Gi(r.readTime):ke.min(),l=zn.newNoDocument(a,o),c=r.removedTargetIds||[];n=new Um([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=g0(t,r.document),o=r.removedTargetIds||[];n=new Um([],o,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new q9(a,o),c=r.targetId;n=new uN(c,l)}}return n}function eB(t,e){let n;if(e instanceof lh)n={update:ZO(t,e.key,e.value)};else if(e instanceof oN)n={delete:__(t,e.key)};else if(e instanceof ao)n={update:ZO(t,e.key,e.data),updateMask:uB(e.fieldMask)};else{if(!(e instanceof U9))return Ne(16599,{Vt:e.type});n={verify:__(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof np)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $f)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rp)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ne(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:X9(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne(27497)})(t,e.precondition)),n}function tB(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?Gi(a.updateTime):Gi(o);return l.isEqual(ke.min())&&(l=Gi(o)),new j9(l,a.transformResults||[])})(n,e)))):[]}function nB(t,e){return{documents:[dN(t,e.path)]}}function rB(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dN(t,a);const o=(function(d){if(d.length!==0)return gN(yi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:hu(b.field),direction:sB(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=y_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function iB(t){let e=Z9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){st(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(v){const b=pN(v);return b instanceof yi&&FD(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((b=>(function(E){return new Bf(du(E.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let b;return b=typeof v=="object"?v.value:v,Jp(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(v){const b=!!v.before,_=v.values||[];return new tp(_,b)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const b=!v.before,_=v.values||[];return new tp(_,b)})(n.endAt)),A9(e,a,l,o,c,"F",h,d)}function aB(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=du(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=du(n.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=du(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=du(n.unaryFilter.field);return rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(du(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((r=>pN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function sB(t){return G9[t]}function oB(t){return Y9[t]}function lB(t){return W9[t]}function hu(t){return{fieldPath:t.canonicalString()}}function du(t){return Dn.fromServerFormat(t.fieldPath)}function gN(t){return t instanceof rn?(function(n){if(n.op==="=="){if(UO(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NAN"}};if(VO(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UO(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NAN"}};if(VO(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(n.field),op:oB(n.op),value:n.value}}})(t):t instanceof yi?(function(n){const r=n.getFilters().map((a=>gN(a)));return r.length===1?r[0]:{compositeFilter:{op:lB(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function uB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,a,o=ke.min(),l=ke.min(),c=Mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.yt=e}}function fB(t){const e=iB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.Cn=new dB}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Ks.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class dB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new fn(_t.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new fn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yN=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(yN,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Iu(0)}static cr(){return new Iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="LruGarbageCollector",mB=1048576;function tC([t,e],[n,r]){const a=Ye(t,n);return a===0?Ye(e,r):a}class pB{constructor(e){this.Ir=e,this.buffer=new fn(tC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(eC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hu(n)?_e(eC,"Ignoring IndexedDB error during garbage collection: ",n):await Fu(n)}await this.Vr(3e5)}))}}class vB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Zp.ce);const r=new pB(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(JO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(d=Date.now(),cu()<=Ge.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function yB(t,e){return new vB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.changes=new pl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Nf(r.mutation,a,Tr.empty(),Ze.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const a=Ho();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=Af();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=ja();const l=Df(),c=(function(){return Df()})();return n.forEach(((h,d)=>{const m=r.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof ao)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Nf(m.mutation,d,m.mutation.getFieldMask(),Ze.now())):l.set(d.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new _B(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Df();let a=new Nt(((l,c)=>l-c)),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Tr.empty();m=c.applyToLocalView(d,m),r.set(h,m);const v=(a.get(c.batchId)||We()).add(h);a=a.insert(c.batchId,v)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,v=JD();m.forEach((b=>{if(!o.has(b)){const _=aN(n.get(b),r.get(b));_!==null&&v.set(b,_),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,v))}return ce.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):ce.resolve(Ho());let c=Lf,h=o;return l.next((d=>ce.forEach(d,((m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?ce.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{h=h.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,We()))).next((m=>({batchId:c,changes:ZD(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((r=>{let a=Af();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=Af();return this.indexManager.getCollectionParents(e,o).next((c=>ce.forEach(c,(h=>{const d=(function(v,b){return new Ku(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((m=>{m.forEach(((v,b)=>{l=l.insert(v,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,zn.newInvalidDocument(m)))}));let c=Af();return l.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&Nf(m.mutation,d,Tr.empty(),Ze.now()),ng(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:fB(a.bundledQuery),readTime:Gi(a.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.overlays=new Nt(Oe.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return ce.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const a=Ho(),o=n.length+1,l=new Oe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Nt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=Ho(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Ho(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=a)););return ce.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new B9(n,r));let o=this.qr.get(n);o===void 0&&(o=We(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Qr=new fn(bn.$r),this.Ur=new fn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Oe(new _t([])),r=new bn(n,e),a=new bn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new _t([])),r=new bn(n,e),a=new bn(n,e+1);let o=We();return this.Ur.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(bn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new z9(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Zr=this.Zr.add(new bn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Vw:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),a=new bn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(l=>{const c=this.Xr(l.Yr);o.push(c)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Ye);return n.forEach((a=>{const o=new bn(a,0),l=new bn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Oe.isDocumentKey(o)||(o=o.child(""));const l=new bn(new Oe(o),0);let c=new fn(Ye);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Yr)),!0)}),l),ce.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(a=>{const o=new bn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new bn(n,0),a=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=ja();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():zn.newInvalidDocument(a))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=ja();const l=n.path,c=new Oe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||t9(e9(m),r)<=0||(a.has(m.key)||ng(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ne(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OB(this)}getSize(e){return ce.resolve(this.size)}}class OB extends bB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.persistence=e,this.si=new pl((n=>Bw(n)),qw),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Yw,this.targetCount=0,this.ai=Iu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Iu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),ce.waitFor(o).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zp(0),this.li=!1,this.li=!0,this.hi=new SB,this.referenceDelegate=e(this),this.Pi=new CB(this),this.indexManager=new hB,this.remoteDocumentCache=(function(a){return new xB(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cB(n),this.Ii=new EB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const a=new IB(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class IB extends r9{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Ri=new Yw,this.Vi=null}static mi(e){return new Ww(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const a=Oe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ap{constructor(e,n){this.persistence=e,this.pi=new pl((r=>s9(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=yB(this,n)}static mi(e,n){return new ap(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?ce.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jm(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=We(),a=We();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Qw(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return u6()?8:i9(qn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new PB;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(cu()<=Ge.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(cu()<=Ge.DEBUG&&_e("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(cu()<=Ge.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):ce.resolve())}ys(e,n){if($O(n))return ce.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=v_(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=We(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,v_(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,a){return $O(n)||a.isEqual(ke.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,a)?ce.resolve(null):(cu()<=Ge.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fu(n)),this.vs(e,l,n,Jz(a,Lf)).next((c=>c)))}))}Ds(e,n){let r=new fn(QD(e));return n.forEach(((a,o)=>{ng(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return cu()<=Ge.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",fu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="LocalStore",DB=3e8;class NB{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Nt(Ye),this.xs=new pl((o=>Bw(o)),qw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MB(t,e,n,r){return new NB(t,e,n,r)}async function _N(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=We();for(const d of a){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function kB(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const v=d.batch,b=v.keys();let _=ce.resolve();return b.forEach((E=>{_=_.next((()=>m.getEntry(h,E))).next((A=>{const x=d.docVersions.get(E);st(x!==null,48541),A.version.compareTo(x)<0&&(v.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),m.addEntry(A)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=We();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function wN(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function jB(t,e){const n=Ve(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach(((m,v)=>{const b=a.get(v);if(!b)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,v))));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Mn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(v,_),(function(A,x,P){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=DB?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let h=ja(),d=We();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(LB(o,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return ce.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function LB(t,e,n){let r=We(),a=We();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=ja();return n.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):_e(Xw,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:a}}))}function VB(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function UB(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,ce.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Us(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function E_(t,e,n){const r=Ve(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Hu(l))throw l;_e(Xw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function nC(t,e,n){const r=Ve(t);let a=ke.min(),o=We();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const v=Ve(h),b=v.xs.get(m);return b!==void 0?ce.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,m)})(r,l,Ki(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:ke.min(),n?o:We()))).next((c=>(zB(r,T9(e),c),{documents:c,Qs:o})))))}function zB(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class rC{constructor(){this.activeTargetIds=R9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BB{constructor(){this.Mo=new rC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="ConnectivityMonitor";class aC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(iC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(iC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm=null;function A_(){return mm===null?mm=(function(){return 268435456+Math.round(2147483648*Math.random())})():mm++,"0x"+mm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="RestConnection",$B={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Jm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const l=A_(),c=this.zo(e,n.toUriEncodedString());_e(v0,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:d}=new URL(c),m=zu(d);return this.Jo(e,c,h,r,m).then((v=>(_e(v0,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Tu(v0,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}Ho(e,n,r,a,o,l){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$u})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=$B[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class KB extends FB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const l=A_();return new Promise(((c,h)=>{const d=new AD;d.setWithCredentials(!0),d.listenOnce(SD.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case km.NO_ERROR:const v=d.getResponseJson();_e(Ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case km.TIMEOUT:_e(Ln,`RPC '${e}' ${l} timed out`),h(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:const b=d.getStatus();if(_e(Ln,`RPC '${e}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=(function(P){const z=P.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(z)>=0?z:oe.UNKNOWN})(E.status);h(new ve(A,E.message))}else h(new ve(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Ln,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);_e(Ln,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=A_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=OD(),c=xD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");_e(Ln,`Creating RPC '${e}' stream ${a}: ${m}`,h);const v=l.createWebChannel(m,h);this.I_(v);let b=!1,_=!1;const E=new HB({Yo:x=>{_?_e(Ln,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(b||(_e(Ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),_e(Ln,`RPC '${e}' stream ${a} sending:`,x),v.send(x))},Zo:()=>v.close()}),A=(x,P,z)=>{x.listen(P,(V=>{try{z(V)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(v,Ef.EventType.OPEN,(()=>{_||(_e(Ln,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),A(v,Ef.EventType.CLOSE,(()=>{_||(_=!0,_e(Ln,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(v))})),A(v,Ef.EventType.ERROR,(x=>{_||(_=!0,Tu(Ln,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),E.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),A(v,Ef.EventType.MESSAGE,(x=>{var P;if(!_){const z=x.data[0];st(!!z,16349);const V=z,$=(V==null?void 0:V.error)||((P=V[0])==null?void 0:P.error);if($){_e(Ln,`RPC '${e}' stream ${a} received error:`,$);const U=$.status;let F=(function(N){const B=nn[N];if(B!==void 0)return lN(B)})(U),C=$.message;F===void 0&&(F=oe.INTERNAL,C="Unknown error status: "+U+" with message "+$.message),_=!0,E.a_(new ve(F,C)),v.close()}else _e(Ln,`RPC '${e}' stream ${a} received:`,z),E.u_(z)}})),A(c,TD.STAT_EVENT,(x=>{x.stat===c_.PROXY?_e(Ln,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===c_.NOPROXY&&_e(Ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return new Q9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="PersistentStream";class AN{constructor(e,n,r,a,o,l,c,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ka(n.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(sC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(sC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GB extends AN{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Gi(l.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=w_(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=p_(h)?{documents:nB(o,h)}:{query:rB(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=fN(o,l.resumeToken);const d=y_(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=ip(o,l.snapshotVersion.toTimestamp());const d=y_(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=aB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=w_(this.serializer),n.removeTarget=e,this.q_(n)}}class YB extends AN{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tB(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=w_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>eB(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{}class QB extends WB{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,b_(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,b_(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ka(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class ZB{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{gl(this)&&(_e(il,"Restarting streams for network reachability change."),await(async function(h){const d=Ve(h);d.Ea.add(4),await ch(d),d.Ra.set("Unknown"),d.Ea.delete(4),await og(d)})(this))}))})),this.Ra=new XB(r,a)}}async function og(t){if(gl(t))for(const e of t.da)await e(!0)}async function ch(t){for(const e of t.da)await e(!1)}function SN(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tE(n)?eE(n):Gu(n).O_()&&Jw(n,e))}function Zw(t,e){const n=Ve(t),r=Gu(n);n.Ia.delete(e),r.O_()&&TN(n,e),n.Ia.size===0&&(r.O_()?r.L_():gl(n)&&n.Ra.set("Unknown"))}function Jw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(t).Y_(e)}function TN(t,e){t.Va.Ue(e),Gu(t).Z_(e)}function eE(t){t.Va=new K9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gu(t).start(),t.Ra.ua()}function tE(t){return gl(t)&&!Gu(t).x_()&&t.Ia.size>0}function gl(t){return Ve(t).Ea.size===0}function xN(t){t.Va=void 0}async function JB(t){t.Ra.set("Online")}async function eq(t){t.Ia.forEach(((e,n)=>{Jw(t,e)}))}async function tq(t,e){xN(t),tE(t)?(t.Ra.ha(e),eE(t)):t.Ra.set("Unknown")}async function nq(t,e,n){if(t.Ra.set("Online"),e instanceof cN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(r){_e(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof Um?t.Va.Ze(e):e instanceof uN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await wN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Mn.EMPTY_BYTE_STRING,m.snapshotVersion)),TN(o,h);const v=new Us(m.target,h,d,m.sequenceNumber);Jw(o,v)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){_e(il,"Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Hu(e))throw e;t.Ea.add(1),await ch(t),t.Ra.set("Offline"),n||(n=()=>wN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await og(t)}))}function ON(t,e){return e().catch((n=>sp(t,n,e)))}async function lg(t){const e=Ve(t),n=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vw;for(;rq(e);)try{const a=await VB(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,iq(e,a)}catch(a){await sp(e,a)}CN(e)&&IN(e)}function rq(t){return gl(t)&&t.Ta.length<10}function iq(t,e){t.Ta.push(e);const n=Qs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function CN(t){return gl(t)&&!Qs(t).x_()&&t.Ta.length>0}function IN(t){Qs(t).start()}async function aq(t){Qs(t).ra()}async function sq(t){const e=Qs(t);for(const n of t.Ta)e.ea(n.mutations)}async function oq(t,e,n){const r=t.Ta.shift(),a=Hw.from(r,e,n);await ON(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lg(t)}async function lq(t,e){e&&Qs(t).X_&&await(async function(r,a){if((function(l){return $9(l)&&l!==oe.ABORTED})(a.code)){const o=r.Ta.shift();Qs(r).B_(),await ON(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await lg(r)}})(t,e),CN(t)&&IN(t)}async function oC(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),_e(il,"RemoteStore received new credentials");const r=gl(n);n.Ea.add(3),await ch(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await og(n)}async function uq(t,e){const n=Ve(t);e?(n.Ea.delete(2),await og(n)):e||(n.Ea.add(2),await ch(n),n.Ra.set("Unknown"))}function Gu(t){return t.ma||(t.ma=(function(n,r,a){const o=Ve(n);return o.sa(),new GB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:JB.bind(null,t),t_:eq.bind(null,t),r_:tq.bind(null,t),H_:nq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),tE(t)?eE(t):t.Ra.set("Unknown")):(await t.ma.stop(),xN(t))}))),t.ma}function Qs(t){return t.fa||(t.fa=(function(n,r,a){const o=Ve(n);return o.sa(),new YB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aq.bind(null,t),r_:lq.bind(null,t),ta:sq.bind(null,t),na:oq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await lg(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new nE(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rE(t,e){if(ka("AsyncQueue",`${e}: ${t}`),Hu(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{static emptySet(e){return new bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Af(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.ga=new Nt(Oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pu{constructor(e,n,r,a,o,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Pu(e,n,bu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fq{constructor(){this.queries=uC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ve(n),o=a.queries;a.queries=uC(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function uC(){return new pl((t=>WD(t)),tg)}async function PN(t,e){const n=Ve(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new cq,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=rE(l,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&iE(n)}async function RN(t,e){const n=Ve(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hq(t,e){const n=Ve(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(a)&&(r=!0);l.wa=a}}r&&iE(n)}function dq(t,e,n){const r=Ve(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function iE(t){t.Ca.forEach((e=>{e.next()}))}var S_,cC;(cC=S_||(S_={})).Ma="default",cC.Cache="cache";class DN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==S_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.key=e}}class MN{constructor(e){this.key=e}}class mq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=QD(e),this.tu=new bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lC,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,v)=>{const b=a.get(m),_=ng(this.query,v)?v:null,E=!!b&&this.mutatedKeys.has(b.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;b&&_?b.data.isEqual(_.data)?E!==A&&(r.track({type:3,doc:_}),x=!0):this.su(b,_)||(r.track({type:2,doc:_}),x=!0,(h&&this.eu(_,h)>0||d&&this.eu(_,d)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),x=!0):b&&!_&&(r.track({type:1,doc:b}),x=!0,(h||d)&&(c=!0)),x&&(_?(l=l.add(_),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,v)=>(function(_,E){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:x})}};return A(_)-A(E)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Pu(this.query,e.tu,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new MN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new NN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aE="SyncEngine";class pq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gq{constructor(e){this.key=e,this.hu=!1}}class vq{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pl((c=>WD(c)),tg),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Oe.comparator),this.Au=new Map,this.Ru=new Yw,this.Vu={},this.mu=new Map,this.fu=Iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yq(t,e,n=!0){const r=zN(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await kN(r,e,n,!0),a}async function bq(t,e){const n=zN(t);await kN(n,e,!0,!1)}async function kN(t,e,n,r){const a=await UB(t.localStore,Ki(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await _q(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&SN(t.remoteStore,a),c}async function _q(t,e,n,r,a){t.pu=(v,b,_)=>(async function(A,x,P,z){let V=x.view.ru(P);V.Cs&&(V=await nC(A.localStore,x.query,!1).then((({documents:C})=>x.view.ru(C,V))));const $=z&&z.targetChanges.get(x.targetId),U=z&&z.targetMismatches.get(x.targetId)!=null,F=x.view.applyChanges(V,A.isPrimaryClient,$,U);return hC(A,x.targetId,F.au),F.snapshot})(t,v,b,_);const o=await nC(t.localStore,e,!0),l=new mq(e,o.Qs),c=l.ru(o.documents),h=uh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=l.applyChanges(c,t.isPrimaryClient,h);hC(t,n,d.au);const m=new pq(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function wq(t,e,n){const r=Ve(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!tg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await E_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Zw(r.remoteStore,a.targetId),T_(r,a.targetId)})).catch(Fu)):(T_(r,a.targetId),await E_(r.localStore,a.targetId,!0))}async function Eq(t,e){const n=Ve(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zw(n.remoteStore,r.targetId))}async function Aq(t,e,n){const r=Pq(t);try{const a=await(function(l,c){const h=Ve(l),d=Ze.now(),m=c.reduce(((_,E)=>_.add(E.key)),We());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=ja(),A=We();return h.Ns.getEntries(_,m).next((x=>{E=x,E.forEach(((P,z)=>{z.isValidDocument()||(A=A.add(P))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,E))).next((x=>{v=x;const P=[];for(const z of c){const V=V9(z,v.get(z.key).overlayedDocument);V!=null&&P.push(new ao(z.key,V,BD(V.value.mapValue),gi.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,P,c)})).next((x=>{b=x;const P=x.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(_,x.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:ZD(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Nt(Ye)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(r,a.batchId,n),await fh(r,a.changes),await lg(r.remoteStore)}catch(a){const o=rE(a,"Failed to persist write");n.reject(o)}}async function jN(t,e){const n=Ve(t);try{const r=await jB(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?st(l.hu,14607):a.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await fh(n,r,e)}catch(r){await Fu(r)}}function fC(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const h=Ve(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,v)=>{for(const b of v.Sa)b.va(c)&&(d=!0)})),d&&iE(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Sq(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new Nt(Oe.comparator);l=l.insert(o,zn.newNoDocument(o,ke.min()));const c=We().add(o),h=new ag(ke.min(),new Map,new Nt(Ye),l,c);await jN(r,h),r.du=r.du.remove(o),r.Au.delete(e),sE(r)}else await E_(r.localStore,e,!1).then((()=>T_(r,e,n))).catch(Fu)}async function Tq(t,e){const n=Ve(t),r=e.batch.batchId;try{const a=await kB(n.localStore,e);VN(n,r,null),LN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fh(n,a)}catch(a){await Fu(a)}}async function xq(t,e,n){const r=Ve(t);try{const a=await(function(l,c){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((v=>(st(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(d,v)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);VN(r,e,n),LN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fh(r,a)}catch(a){await Fu(a)}}function LN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function VN(t,e,n){const r=Ve(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function T_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||UN(t,r)}))}function UN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sE(t))}function hC(t,e,n){for(const r of n)r instanceof NN?(t.Ru.addReference(r.key,e),Oq(t,r)):r instanceof MN?(_e(aE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UN(t,r.key)):Ne(19791,{wu:r})}function Oq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(aE,"New document in limbo: "+n),t.Eu.add(r),sE(t))}function sE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new gq(n)),t.du=t.du.insert(n,r),SN(t.remoteStore,new Us(Ki($w(n.path)),r,"TargetPurposeLimboResolution",Zp.ce))}}async function fh(t,e,n){const r=Ve(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(d){a.push(d);const v=Qw.As(h.targetId,d);o.push(v)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(h,d){const m=Ve(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(d,(b=>ce.forEach(b.Es,(_=>m.persistence.referenceDelegate.addReference(v,b.targetId,_))).next((()=>ce.forEach(b.ds,(_=>m.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))))))}catch(v){if(!Hu(v))throw v;_e(Xw,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const _=m.Ms.get(b),E=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(b,A)}}})(r.localStore,o))}async function Cq(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){_e(aE,"User change. New user:",e.toKey());const r=await _N(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new ve(oe.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fh(n,r.Ls)}}function Iq(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let a=We();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function zN(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sq.bind(null,e),e.Pu.H_=hq.bind(null,e.eventManager),e.Pu.yu=dq.bind(null,e.eventManager),e}function Pq(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xq.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MB(this.persistence,new RB,e.initialUser,this.serializer)}Cu(e){return new bN(Ww.mi,this.serializer)}Du(e){return new BB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class Rq extends op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new bN((r=>ap.mi(r,n)),this.serializer)}}class x_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cq.bind(null,this.syncEngine),await uq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fq})()}createDatastore(e){const n=sg(e.databaseInfo.databaseId),r=(function(o){return new KB(o)})(e.databaseInfo);return(function(o,l,c,h){return new QB(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new ZB(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>fC(this.syncEngine,n,0)),(function(){return aC.v()?new aC:new qB})())}createSyncEngine(e,n){return(function(a,o,l,c,h,d,m){const v=new vq(a,o,l,c,h,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const o=Ve(a);_e(il,"RemoteStore shutting down."),o.Ea.add(5),await ch(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}x_.provider={build:()=>new x_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class Dq{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Un.UNAUTHENTICATED,this.clientId=Lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{_e(Xs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e(Xs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function b0(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await _N(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nq(t);_e(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>oC(e.remoteStore,a))),t._onlineComponents=e}async function Nq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Xs,"Using user provided OfflineComponentProvider");try{await b0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tu("Error using user provided cache. Falling back to memory cache: "+n),await b0(t,new op)}}else _e(Xs,"Using default OfflineComponentProvider"),await b0(t,new Rq(void 0));return t._offlineComponents}async function qN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Xs,"Using user provided OnlineComponentProvider"),await dC(t,t._uninitializedComponentsProvider._online)):(_e(Xs,"Using default OnlineComponentProvider"),await dC(t,new x_))),t._onlineComponents}function Mq(t){return qN(t).then((e=>e.syncEngine))}async function $N(t){const e=await qN(t),n=e.eventManager;return n.onListen=yq.bind(null,e.syncEngine),n.onUnlisten=wq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Eq.bind(null,e.syncEngine),n}function kq(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new BN({next:b=>{m.Nu(),l.enqueueAndForget((()=>RN(o,v)));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?d.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),v=new DN($w(c.path),m,{includeMetadataChanges:!0,qa:!0});return PN(o,v)})(await $N(t),t.asyncQueue,e,n,r))),r.promise}function jq(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new BN({next:b=>{m.Nu(),l.enqueueAndForget((()=>RN(o,v))),b.fromCache&&h.source==="server"?d.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),v=new DN(c,m,{includeMetadataChanges:!0,qa:!0});return PN(o,v)})(await $N(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firestore.googleapis.com",pC=!0;class gC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HN,this.ssl=pC}else this.host=e.host,this.ssl=e.ssl??pC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mB)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qz;switch(r.type){case"firstParty":return new Kz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mC.get(n);r&&(_e("ComponentProvider","Removing Datastore"),mC.delete(n),r.terminate())})(this),Promise.resolve()}}function Lq(t,e,n,r={}){var d;t=Zi(t,ug);const a=zu(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(N2(`https://${c}`),M2("Firestore",!0)),o.host!==HN&&o.host!==c&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:a,emulatorOptions:r};if(!Jo(h,l)&&(t._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Un.MOCK_USER;else{m=e6(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Un(b)}t._authCredentials=new $z(new ID(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oh(n,Kt._jsonSchema))return new Kt(e,r||null,new Oe(_t.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:an("string",Kt._jsonSchemaVersion),referencePath:an("string")};class Fs extends vl{constructor(e,n,r){super(e,n,$w(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Oe(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function Yu(t,e,...n){if(t=wn(t),PD("collection","path",e),t instanceof ug){const r=_t.fromString(e,...n);return IO(r),new Fs(t,null,r)}{if(!(t instanceof Kt||t instanceof Fs))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return IO(r),new Fs(t.firestore,null,r)}}function yl(t,e,...n){if(t=wn(t),arguments.length===1&&(e=Lw.newId()),PD("doc","path",e),t instanceof ug){const r=_t.fromString(e,...n);return CO(r),new Kt(t,null,new Oe(r))}{if(!(t instanceof Kt||t instanceof Fs))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return CO(r),new Kt(t.firestore,t instanceof Fs?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="AsyncQueue";class yC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EN(this,"async_queue_retry"),this._c=()=>{const r=y0();r&&_e(vC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=y0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=y0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hu(e))throw e;_e(vC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ka("INTERNAL UNHANDLED ERROR: ",bC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=nE.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:bC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wu extends ug{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new yC,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yC(e),this._firestoreClient=void 0,await e}}}function Vq(t,e){const n=typeof t=="object"?t:V2(),r=typeof t=="string"?t:Jm,a=Ow(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=ZV("firestore");o&&Lq(a,...o)}return a}function oE(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uq(t),t._firestoreClient}function Uq(t){var r,a,o;const e=t._freezeSettings(),n=(function(c,h,d,m){return new u9(c,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,FN(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Dq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(Mn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oh(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:an("string",Yr._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(oh(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:an("string",Yi._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oh(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:an("string",Wi._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=/^__.*__$/;class Bq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new lh(e,this.data,n,this.fieldTransforms)}}class KN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class uE{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GN(this.Ac)&&zq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sg(e)}Cc(e,n,r,a=!1){return new uE({Ac:e,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(t){const e=t._freezeSettings(),n=sg(t._databaseId);return new qq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YN(t,e,n,r,a,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);cE("Data must be an object, but it was:",l,r);const c=WN(r,l);let h,d;if(o.merge)h=new Tr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const b=O_(e,v,n);if(!l.contains(b))throw new ve(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XN(m,b)||m.push(b)}h=new Tr(m),d=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,d=l.fieldTransforms;return new Bq(new or(c),h,d)}class hg extends lE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hg}}function $q(t,e,n,r){const a=t.Cc(1,e,n);cE("Data must be an object, but it was:",a,r);const o=[],l=or.empty();io(r,((h,d)=>{const m=fE(e,h,n);d=wn(d);const v=a.yc(m);if(d instanceof hg)o.push(m);else{const b=hh(d,v);b!=null&&(o.push(m),l.set(m,b))}}));const c=new Tr(o);return new KN(l,c,a.fieldTransforms)}function Fq(t,e,n,r,a,o){const l=t.Cc(1,e,n),c=[O_(e,r,n)],h=[a];if(o.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)c.push(O_(e,o[b])),h.push(o[b+1]);const d=[],m=or.empty();for(let b=c.length-1;b>=0;--b)if(!XN(d,c[b])){const _=c[b];let E=h[b];E=wn(E);const A=l.yc(_);if(E instanceof hg)d.push(_);else{const x=hh(E,A);x!=null&&(d.push(_),m.set(_,x))}}const v=new Tr(d);return new KN(m,v,l.fieldTransforms)}function Hq(t,e,n,r=!1){return hh(n,t.Cc(r?4:3,e))}function hh(t,e){if(QN(t=wn(t)))return cE("Unsupported field value:",e,t),WN(t,e);if(t instanceof lE)return(function(r,a){if(!GN(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let h=hh(c,a.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D9(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:ip(a.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ip(a.serializer,o)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:fN(a.serializer,r._byteString)};if(r instanceof Kt){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gw(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Wi)return(function(l,c){return{mapValue:{fields:{[UD]:{stringValue:zD},[ep]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Fw(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Xp(r)}`)})(t,e)}function WN(t,e){const n={};return ND(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((r,a)=>{const o=hh(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function QN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Yi||t instanceof Yr||t instanceof Kt||t instanceof lE||t instanceof Wi)}function cE(t,e,n){if(!QN(n)||!RD(n)){const r=Xp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function O_(t,e,n){if((e=wn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return fE(t,e);throw lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kq=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(Kq)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lp(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new ve(oe.INVALID_ARGUMENT,c+t+h)}function XN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gq extends ZN{data(){return super.data()}}function dg(t,e){return typeof e=="string"?fE(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hE{}class JN extends hE{}function eM(t,e,...n){let r=[];e instanceof hE&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof dE)).length,c=o.filter((h=>h instanceof mg)).length;if(l>1||l>0&&c>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class mg extends JN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=this._parse(e);return tM(e._query,n),new vl(e.firestore,e.converter,g_(e._query,n))}_parse(e){const n=fg(e.firestore);return(function(o,l,c,h,d,m,v){let b;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){wC(v,m);const E=[];for(const A of v)E.push(_C(h,o,A));b={arrayValue:{values:E}}}else b=_C(h,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||wC(v,m),b=Hq(c,l,v,m==="in"||m==="not-in");return rn.create(d,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wq(t,e,n){const r=e,a=dg("where",t);return mg._create(a,r,n)}class dE extends hE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let l=a;const c=o.getFlattenedFilters();for(const h of c)tM(l,h),l=g_(l,h)})(e._query,n),new vl(e.firestore,e.converter,g_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mE extends JN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mE(e,n)}_apply(e){const n=(function(a,o,l){if(a.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bf(o,l)})(e._query,this._field,this._direction);return new vl(e.firestore,e.converter,(function(a,o){const l=a.explicitOrderBy.concat([o]);return new Ku(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Qq(t,e="asc"){const n=e,r=dg("orderBy",t);return mE._create(r,n)}function _C(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YD(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Oe.isDocumentKey(r))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LO(t,new Oe(r))}if(n instanceof Kt)return LO(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function wC(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tM(t,e){const n=(function(a,o){for(const l of a)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Xq{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,a,o;const n=(o=(a=(r=e.fields)==null?void 0:r[ep].arrayValue)==null?void 0:a.values)==null?void 0:o.map((l=>Ht(l.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Yi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);st(vN(r),9688,{name:e});const a=new Uf(r.get(1),r.get(3)),o=new Oe(r.popFirst(5));return a.isEqual(n)||ka(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yo extends ZN{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yo._jsonSchema={type:an("string",Yo._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class zm extends Yo{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Tf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zm(this._firestore,this._userDataWriter,r.key,r,new Tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const h=new zm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Tf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new zm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Tf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Zq(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_u._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){t=Zi(t,Kt);const e=Zi(t.firestore,Wu);return kq(oE(e),t._key).then((n=>e8(e,t,n)))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:an("string",_u._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class rM extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function pg(t){t=Zi(t,vl);const e=Zi(t.firestore,Wu),n=oE(e),r=new rM(e);return Yq(t._query),jq(n,t._query).then((a=>new _u(e,r,t,a)))}function Jq(t,e,n){t=Zi(t,Kt);const r=Zi(t.firestore,Wu),a=nM(t.converter,e);return gE(r,[YN(fg(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,gi.none())])}function gg(t,e,n,...r){t=Zi(t,Kt);const a=Zi(t.firestore,Wu),o=fg(a);let l;return l=typeof(e=wn(e))=="string"||e instanceof cg?Fq(o,"updateDoc",t._key,e,n,r):$q(o,"updateDoc",t._key,e),gE(a,[l.toMutation(t._key,gi.exists(!0))])}function iM(t,e){const n=Zi(t.firestore,Wu),r=yl(t),a=nM(t.converter,e);return gE(n,[YN(fg(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function gE(t,e){return(function(r,a){const o=new Ia;return r.asyncQueue.enqueueAndForget((async()=>Aq(await Mq(r),a,o))),o.promise})(oE(t),e)}function e8(t,e,n){const r=n.docs.get(e._key),a=new rM(t);return new Yo(t,a,e._key,r,new Tf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){$u=a})(Bu),Au(new el("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Wu(new Fz(r.getProvider("auth-internal")),new Gz(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(d.options.projectId,m)})(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),qs(SO,TO,e),qs(SO,TO,"esm2020")})();var t8="firebase",n8="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(t8,n8,"app");const r8={apiKey:"AIzaSyCJ4Qz6Is96-tIW8xFv6WREOa8u-zly4_w",authDomain:"gestao-estoque-f4b01.firebaseapp.com",projectId:"gestao-estoque-f4b01",storageBucket:"gestao-estoque-f4b01.firebasestorage.app",messagingSenderId:"956505697119",appId:"1:956505697119:web:7ae04b3a7eae2d157e64ea"},aM=L2(r8),La=zz(aM),Jr=Vq(aM);var Qi=(t=>(t.Manager="GESTOR",t.Collaborator="COLABORADOR",t))(Qi||{}),Pa=(t=>(t.In="ENTRADA",t.Out="SADA",t))(Pa||{});const Qu="items",sM="movements",vg="users";async function i8(t,e){try{const n=t.includes("@")?t:`${t}@gestao-estoque.local`,r=await T5(La,n,e),a=await pE(yl(Jr,vg,r.user.uid));if(a.exists()){const l=a.data();if(l.active===!1)throw await fD(La),new Error("Usurio desativado. Entre em contato com o administrador.");return{id:a.id,name:l.name,username:l.username,role:l.role,active:l.active??!0}}const o=t.toLowerCase()==="gestor"||n.toLowerCase().includes("gestor");return{id:r.user.uid,name:o?"Admin Gestor":"Colaborador",username:t,role:o?Qi.Manager:Qi.Collaborator,active:!0}}catch(n){throw console.error("Login error:",n),n.message.includes("desativado")?n:new Error("Usurio ou senha invlidos")}}async function a8(){await fD(La)}async function s8(){try{return(await pg(Yu(Jr,vg))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching users:",t),[]}}async function o8(t){try{if(!t.username||!t.password||!t.name)throw new Error("Nome, usurio e senha so obrigatrios");const e=t.username.includes("@")?t.username:`${t.username}@gestao-estoque.local`,n=await S5(La,e,t.password);await O5(n.user,{displayName:t.name});const r={name:t.name,username:t.username,role:t.role||Qi.Collaborator,active:!0,createdAt:Ze.now(),updatedAt:Ze.now()};return await Jq(yl(Jr,vg,n.user.uid),r),{id:n.user.uid,...r}}catch(e){throw console.error("Error adding user:",e),e.code==="auth/email-already-in-use"?new Error("Este usurio j existe"):new Error("Erro ao criar usurio: "+e.message)}}async function l8(t,e){try{const n=yl(Jr,vg,t);await gg(n,{...e,updatedAt:Ze.now()})}catch(n){throw console.error("Error updating user:",n),new Error("Erro ao atualizar usurio")}}async function u8(t,e){try{await l8(t,{active:e})}catch(n){throw console.error("Error toggling user status:",n),new Error("Erro ao alterar status do usurio")}}async function oM(){return(await pg(Yu(Jr,Qu))).docs.map(e=>{const n=e.data();return{id:e.id,...n,quantity:Number(n.quantity)||0,minQuantity:Number(n.minQuantity)||0}})}async function c8(t){var r;const e={name:t.name||"Novo Insumo",barcode:t.barcode||String(Date.now()).slice(-13),description:t.description||"",unitOfMeasure:t.unitOfMeasure||"Unidade",quantity:t.quantity??0,minQuantity:t.minQuantity??0,supplier:t.supplier||"",location:t.location||"",createdAt:Ze.now(),updatedAt:Ze.now()},n=await iM(Yu(Jr,Qu),e);return e.quantity>0&&await vE({itemId:n.id,itemName:e.name,userId:((r=La.currentUser)==null?void 0:r.uid)||"system",userName:"Sistema",type:Pa.In,quantity:e.quantity,timestamp:new Date}),{id:n.id,...e}}async function f8(t){const e=yl(Jr,Qu,t.id.toString()),n={name:t.name,barcode:t.barcode,description:t.description,unitOfMeasure:t.unitOfMeasure,quantity:t.quantity,minQuantity:t.minQuantity,supplier:t.supplier,location:t.location,updatedAt:Ze.now()};return await gg(e,n),t}async function h8(t,e){var l,c,h;const n=yl(Jr,Qu,t.toString()),r=await pE(n);if(!r.exists())throw new Error("Item no encontrado");const a=r.data(),o=a.quantity+e;await gg(n,{quantity:o,updatedAt:Ze.now()}),await vE({itemId:t.toString(),itemName:a.name,userId:((l=La.currentUser)==null?void 0:l.uid)||"system",userName:((h=(c=La.currentUser)==null?void 0:c.email)==null?void 0:h.split("@")[0])||"Sistema",type:Pa.In,quantity:e,timestamp:new Date})}async function lM(){const t=eM(Yu(Jr,sM),Qq("timestamp","desc"));return(await pg(t)).docs.map(n=>{var a;const r=n.data();return{id:n.id,...r,timestamp:((a=r.timestamp)==null?void 0:a.toDate())||new Date}})}async function vE(t){await iM(Yu(Jr,sM),{...t,timestamp:Ze.fromDate(t.timestamp||new Date)})}async function EC(t){const e=eM(Yu(Jr,Qu),Wq("barcode","==",t)),n=await pg(e);if(n.empty)throw new Error("Item no encontrado");const r=n.docs[0],a=r.data();return{id:r.id,...a,quantity:Number(a.quantity)||0,minQuantity:Number(a.minQuantity)||0}}async function d8(t,e){var h,d,m;const n=yl(Jr,Qu,t.toString()),r=await pE(n);if(!r.exists())throw new Error("Item no encontrado");const a=r.data(),o={...a,quantity:Number(a.quantity)||0,minQuantity:Number(a.minQuantity)||0},l=Number(e)||0;if(o.quantity<l)throw new Error("Quantidade insuficiente");const c=o.quantity-l;await gg(n,{quantity:c,updatedAt:Ze.now()}),await vE({itemId:t.toString(),itemName:o.name,userId:((h=La.currentUser)==null?void 0:h.uid)||"collaborator",userName:((m=(d=La.currentUser)==null?void 0:d.email)==null?void 0:m.split("@")[0])||"Colaborador",type:Pa.Out,quantity:e,timestamp:new Date})}const uM=S.createContext(void 0),m8=({children:t})=>{const[e,n]=S.useState(()=>{const o=localStorage.getItem("user");return o?JSON.parse(o):null}),r=S.useCallback(async(o,l)=>{try{const c=await i8(o,l);n(c),localStorage.setItem("user",JSON.stringify(c))}catch(c){throw console.error("Login failed:",c),c}},[]),a=S.useCallback(async()=>{try{await a8(),n(null),localStorage.removeItem("user")}catch(o){console.error("Logout failed:",o),n(null),localStorage.removeItem("user")}},[]);return D.jsx(uM.Provider,{value:{user:e,login:r,logout:a},children:t})},dh=()=>{const t=S.useContext(uM);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},p8=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),D.jsx("polyline",{points:"16 17 21 12 16 7"}),D.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),g8=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("circle",{cx:"12",cy:"12",r:"10"}),D.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),D.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),v8=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),D.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),D.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),D.jsx("line",{x1:"17",y1:"11",x2:"23",y2:"11"})]}),y8=({title:t,...e})=>D.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t&&D.jsx("title",{children:t}),D.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),D.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),D.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),b8=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M3 5v14"}),D.jsx("path",{d:"M8 5v14"}),D.jsx("path",{d:"M12 5v14"}),D.jsx("path",{d:"M17 5v14"}),D.jsx("path",{d:"M21 5v14"})]}),cM=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),D.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),_8=t=>D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),D.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),AC=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[a,o]=S.useState(null),[l,c]=S.useState(!1),{login:h}=dh(),d=async m=>{m.preventDefault(),o(null),c(!0);try{await h(t,n)}catch{o("Usurio ou senha invlidos.")}finally{c(!1)}};return D.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:D.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-lg",children:[D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"flex justify-center items-center mb-4",children:D.jsx(b8,{className:"h-12 w-12 text-indigo-600"})}),D.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Gesto de Insumos"}),D.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Faa login para acessar o sistema"})]}),D.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[D.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"username",className:"sr-only",children:"Usurio"}),D.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Usurio",value:t,onChange:m=>e(m.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password-input",className:"sr-only",children:"Senha"}),D.jsx("input",{id:"password-input",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Senha",value:n,onChange:m=>r(m.target.value)})]})]}),a&&D.jsx("p",{className:"text-sm text-red-600 text-center",children:a}),D.jsx("div",{children:D.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300",children:l?"Entrando...":"Entrar"})})]})]})})},fM=({title:t,userName:e})=>{const{logout:n}=dh();return D.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t}),D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsxs("span",{className:"text-gray-600 hidden sm:block",children:["Ol, ",e]}),D.jsxs("button",{onClick:n,className:"flex items-center space-x-2 text-red-500 hover:text-red-700 transition-colors",children:[D.jsx(p8,{className:"w-5 h-5"}),D.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})},w8=({item:t,onAddStock:e,onEdit:n})=>{const r=t.quantity<=t.minQuantity;return D.jsxs("tr",{className:`border-b ${r?"bg-yellow-50":"bg-white"}`,children:[D.jsx("td",{className:"p-3 text-sm text-gray-700",children:t.name}),D.jsx("td",{className:"p-3 text-sm text-gray-500",children:t.barcode}),D.jsx("td",{className:"p-3 text-sm text-gray-700 font-medium",children:D.jsxs("div",{className:"flex items-center",children:[t.quantity," ",t.unitOfMeasure,r&&D.jsx(y8,{className:"w-4 h-4 text-yellow-500 ml-2",title:"Estoque baixo"})]})}),D.jsx("td",{className:"p-3 text-sm text-gray-500",children:t.location}),D.jsxs("td",{className:"p-3 text-sm text-gray-500 space-x-2 whitespace-nowrap",children:[D.jsx("button",{onClick:()=>e(t),className:"text-green-600 hover:text-green-800 font-semibold",children:"Adicionar Estoque"}),D.jsx("button",{onClick:()=>n(t),className:"text-indigo-600 hover:text-indigo-800 font-semibold",children:"Editar"})]})]})},E8=({item:t,onClose:e,onSave:n})=>{const[r,a]=S.useState(t?{...t,quantity:t.quantity??"",minQuantity:t.minQuantity??""}:{quantity:"",minQuantity:""}),[o,l]=S.useState(!1),[c,h]=S.useState(null),[d,m]=S.useState(!1),[v,b]=S.useState(!1),[_,E]=S.useState(!1),[A,x]=S.useState(1),[P,z]=S.useState(null),V=S.useRef(null),$=S.useRef(null),[U,F]=S.useState(!1),[C,R]=S.useState(!1),N="qr-reader-item-form",B=K=>{const{name:W,value:ue}=K.target;if(W==="quantity"||W==="minQuantity"){a(pe=>({...pe,[W]:ue}));return}a(pe=>({...pe,[W]:ue}))},j=K=>{K.preventDefault();const W={...r};typeof W.quantity=="string"&&(W.quantity=W.quantity===""?0:Number(W.quantity)),typeof W.minQuantity=="string"&&(W.minQuantity=W.minQuantity===""?0:Number(W.minQuantity)),n(W)},L=S.useCallback(()=>{if(V.current){try{V.current.stop().catch(()=>{})}catch{}V.current=null}if($.current){try{const K=$.current;if((K.getCapabilities&&K.getCapabilities()||{}).torch)try{K.applyConstraints({advanced:[{torch:!1}]})}catch{}try{K.stop()}catch{}}catch{}$.current=null,F(!1)}try{const K=document.getElementById(N),W=K==null?void 0:K.querySelector("video"),ue=K==null?void 0:K.querySelector("canvas"),pe=W||ue||K;pe&&(pe.style.transform="",pe.style.transformOrigin="")}catch{}l(!1)},[]);S.useEffect(()=>()=>L(),[L]);const M=async()=>{const K=$.current;if(!(!K||!(K.getCapabilities&&K.getCapabilities()||{}).torch))try{await K.applyConstraints({advanced:[{torch:!U}]}),F(ue=>!ue)}catch(ue){console.warn("Erro ao alternar torch",ue)}},de=S.useCallback(()=>{const K=document.getElementById(N);if(!K){z("Reader element not found");return}const W=K.querySelector("video"),ue=document.createElement("canvas");if(W&&W.readyState>=2){ue.width=W.videoWidth||1280,ue.height=W.videoHeight||720;const we=ue.getContext("2d");if(we){we.drawImage(W,0,0,ue.width,ue.height);const q=ue.toDataURL("image/png");window.open(q,"_blank"),z(`Capturado ${ue.width}x${ue.height} s ${new Date().toLocaleTimeString()}`);return}}const pe=K.querySelector("canvas");if(pe)try{const we=pe.toDataURL("image/png");window.open(we,"_blank"),z(`Capturado canvas ${pe.width}x${pe.height} s ${new Date().toLocaleTimeString()}`);return}catch{z("Erro ao capturar canvas");return}z("Nenhum vdeo/canvas disponvel no leitor")},[N]),be=S.useCallback(()=>{o||!window.Html5Qrcode||(h(null),l(!0),setTimeout(async()=>{if(!document.getElementById(N)){h("Erro ao inicializar scanner."),l(!1);return}const W=new window.Html5Qrcode(N);V.current=W;const ue={fps:12,qrbox:{width:360,height:160},aspectRatio:1.777778,formatsToSupport:[0,1,2,3,7,8,11,12,13]},pe={fps:12,qrbox:{width:480,height:140},aspectRatio:1.777778,formatsToSupport:[0,1,2,3,7,8,11,12,13]};(async()=>{try{if(window.Html5Qrcode.getCameras){const q=await window.Html5Qrcode.getCameras(),te=q.find(ot=>/back|rear|traseira|traseiro|environment/i.test(ot.label||"")),fe=q.find(ot=>/front|user|integrated|webcam|logitech|camera|usb/i.test(ot.label||"")),me=te||fe||q[0],ye=me?me.id:void 0,Re=me&&me.label||"",je=/front|user|integrated|webcam|logitech|camera|usb/i.test(Re);if(ye){const ot=je?pe:ue;E(je),await W.start(ye,ot,ie=>{console.debug("[html5-qrcode] decoded:",ie),navigator.vibrate&&navigator.vibrate(200),m(!0),a(Ce=>({...Ce,barcode:ie})),b(!0),setTimeout(()=>{L(),m(!1),l(!1),setTimeout(()=>b(!1),2e3)},1e3)},ie=>{console.debug("[html5-qrcode] frame decode failed:",ie)});try{const Ce=(await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:ye},width:{ideal:1280},height:{ideal:720}}})).getVideoTracks()[0];$.current=Ce;const Me=Ce.getCapabilities&&Ce.getCapabilities()||{};R(!!Me.torch);try{const he=[];if(Me.focusMode&&Array.isArray(Me.focusMode)&&Me.focusMode.includes("continuous")&&he.push({focusMode:"continuous"}),Me.zoom&&typeof Me.zoom=="object"){const Dt=Me.zoom.min||1,qe=Me.zoom.max||1,kt=Dt;he.push({zoom:kt}),x(kt)}he.length&&Ce.applyConstraints({advanced:he}).catch(()=>{})}catch{}}catch{R(!1)}return}}}catch(q){console.warn("Falha ao obter lista de cmeras / fallback",q)}try{await W.start({facingMode:"environment"},ue,q=>{console.debug("[html5-qrcode] decoded:",q),navigator.vibrate&&navigator.vibrate(200),m(!0),a(te=>({...te,barcode:q})),b(!0),setTimeout(()=>{L(),m(!1),l(!1),setTimeout(()=>b(!1),2e3)},1e3)},q=>{console.debug("[html5-qrcode] frame decode failed:",q)});try{const te=(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getVideoTracks()[0];$.current=te;const fe=te.getCapabilities&&te.getCapabilities()||{};R(!!fe.torch);try{const me=[];if(fe.focusMode&&Array.isArray(fe.focusMode)&&fe.focusMode.includes("continuous")&&me.push({focusMode:"continuous"}),fe.zoom&&typeof fe.zoom=="object"){const ye=fe.zoom.min||1,Re=fe.zoom.max||1,je=ye;me.push({zoom:je}),x(je)}me.length&&te.applyConstraints({advanced:me}).catch(()=>{})}catch{}}catch{R(!1)}}catch(q){console.error("No foi possvel iniciar scanner",q),h("Erro ao acessar a cmera. Verifique as permisses."),l(!1)}})().catch(q=>{console.error("Erro ao iniciar scanner",q),h("Erro ao iniciar scanner."),l(!1)})},100))},[o,L]);return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:t!=null&&t.id?"Editar Item":"Cadastrar Insumo"}),o?D.jsx("div",{className:"mb-4",children:D.jsxs("div",{className:"rounded-lg overflow-hidden",children:[D.jsxs("div",{className:`w-full bg-gray-800 ${_?"h-64":"aspect-square"} relative z-0`,children:[D.jsx("div",{id:N,className:"w-full h-full overflow-hidden flex items-center justify-center"}),d&&D.jsxs("div",{className:"absolute inset-0 bg-green-500 bg-opacity-95 flex flex-col items-center justify-center text-white z-10 animate-pulse",children:[D.jsx("svg",{className:"w-24 h-24 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),D.jsx("p",{className:"text-2xl font-bold mb-2",children:" Cdigo Encontrado!"}),D.jsx("p",{className:"text-lg",children:"Preenchendo formulrio..."})]})]}),D.jsxs("div",{className:"bg-white border-t px-3 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 z-20",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:de,className:"bg-blue-600 text-white px-3 py-2 rounded-md font-semibold",children:"Tirar Foto"}),_&&D.jsxs("div",{className:"flex items-center space-x-2 px-2",children:[D.jsx("label",{className:"text-sm",children:"Zoom"}),D.jsx("input",{type:"range",min:1,max:4,step:.1,value:A,onChange:K=>{const W=Number(K.target.value);x(W);const ue=$.current;if(ue)if((ue.getCapabilities&&ue.getCapabilities()||{}).zoom)try{ue.applyConstraints({advanced:[{zoom:W}]})}catch{}else{const we=document.getElementById(N),q=we==null?void 0:we.querySelector("video"),te=we==null?void 0:we.querySelector("canvas"),fe=q||te||we;fe&&(fe.style.transform=`scale(${W})`,fe.style.transformOrigin="center center",fe.style.transition="transform 0.08s linear")}},className:"w-36"})]}),C&&D.jsx("button",{onClick:M,className:"bg-yellow-400 text-black px-3 py-2 rounded-md font-semibold",children:U?"Lanterna On":"Lanterna"})]}),D.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[P&&D.jsx("div",{className:"text-xs text-gray-600 mr-2",children:P}),D.jsx("button",{onClick:L,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold",children:"Cancelar Scanner"})]})]}),c&&D.jsx("p",{className:"mt-2 text-red-600 text-sm",children:c})]})}):D.jsxs("form",{onSubmit:j,className:"space-y-4",children:[D.jsx("input",{name:"name",value:r.name||"",onChange:B,placeholder:"Nome do Insumo",className:"w-full p-2 border rounded",required:!0}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Cdigo de Barras"}),D.jsxs("div",{className:"flex space-x-2",children:[D.jsx("input",{name:"barcode",value:r.barcode||"",onChange:B,placeholder:"Digite ou escaneie",className:`flex-1 p-2 border rounded transition-all duration-300 ${v?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300"}`,required:!0}),D.jsx("button",{type:"button",onClick:be,className:"flex items-center justify-center px-3 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors",title:"Escanear cdigo de barras",children:D.jsx(cM,{className:"w-5 h-5"})})]})]}),D.jsx("input",{name:"description",value:r.description||"",onChange:B,placeholder:"Descrio",className:"w-full p-2 border rounded"}),D.jsxs("select",{name:"unitOfMeasure",value:r.unitOfMeasure||"Unidade",onChange:B,className:"w-full p-2 border rounded",children:[D.jsx("option",{children:"Unidade"}),D.jsx("option",{children:"Folha"}),D.jsx("option",{children:"Kg"}),D.jsx("option",{children:"Litro"})]}),D.jsxs("div",{className:"flex space-x-4",children:[D.jsxs("div",{className:"w-1/2",children:[D.jsx("label",{htmlFor:"quantity",className:"text-sm font-medium text-gray-700 block mb-1",children:"Quant. Atual"}),D.jsx("input",{id:"quantity",type:"number",name:"quantity",value:typeof r.quantity=="number"?r.quantity:r.quantity||"",onChange:B,placeholder:"Quant. Atual",className:"w-full p-2 border rounded",required:!0})]}),D.jsxs("div",{className:"w-1/2",children:[D.jsx("label",{htmlFor:"minQuantity",className:"text-sm font-medium text-gray-700 block mb-1",children:"Quant. Mnima"}),D.jsx("input",{id:"minQuantity",type:"number",name:"minQuantity",value:typeof r.minQuantity=="number"?r.minQuantity:r.minQuantity||"",onChange:B,placeholder:"Quant. Mnima",className:"w-full p-2 border rounded",required:!0})]})]}),D.jsx("input",{name:"supplier",value:r.supplier||"",onChange:B,placeholder:"Fornecedor (Opcional)",className:"w-full p-2 border rounded"}),D.jsx("input",{name:"location",value:r.location||"",onChange:B,placeholder:"Localizao",className:"w-full p-2 border rounded",required:!0}),D.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[D.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"}),D.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Salvar"})]})]})]})})},A8=({item:t,onClose:e,onAdd:n})=>{const[r,a]=S.useState(1),o=l=>{l.preventDefault(),n(t.id,r)};return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-sm",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Adicionar Estoque"}),D.jsxs("p",{className:"mb-4 text-gray-600",children:["Item: ",D.jsx("span",{className:"font-semibold",children:t.name})]}),D.jsxs("form",{onSubmit:o,className:"space-y-4",children:[D.jsx("input",{type:"number",value:r,onChange:l=>a(Number(l.target.value)),min:"1",className:"w-full p-2 border rounded",required:!0}),D.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[D.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"}),D.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Adicionar"})]})]})]})})},SC=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[a,o]=S.useState(!0),[l,c]=S.useState(!1),[h,d]=S.useState(!1),[m,v]=S.useState(null),[b,_]=S.useState(null),E=S.useCallback(async()=>{o(!0);const U=await oM();e(U),o(!1)},[]);S.useEffect(()=>{E()},[E]);const A=async U=>{U.id?await f8(U):await c8(U),c(!1),v(null),E()},x=async(U,F)=>{await h8(U,F),d(!1),_(null),E()},P=U=>{v(U),c(!0)},z=()=>{v({}),c(!0)},V=U=>{_(U),d(!0)},$=t.filter(U=>{if(!n)return!0;const F=n.trim().toLowerCase();return(U.name||"").toLowerCase().includes(F)||(U.barcode||"").toLowerCase().includes(F)||(U.location||"").toLowerCase().includes(F)}).slice().sort((U,F)=>{const C=(Number(U.quantity)||0)<=(Number(U.minQuantity)||0)?0:1,R=(Number(F.quantity)||0)<=(Number(F.minQuantity)||0)?0:1;return C!==R?C-R:(U.name||"").localeCompare(F.name||"")});return D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gerenciamento de Insumos"}),D.jsxs("button",{onClick:z,className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[D.jsx(g8,{className:"w-5 h-5"}),D.jsx("span",{children:"Adicionar Insumo"})]})]}),D.jsx("div",{className:"mb-4",children:D.jsx("input",{type:"search",value:n,onChange:U=>r(U.target.value),placeholder:"Procurar insumo por nome, cdigo ou localizao...",className:"w-full p-2 border rounded"})}),a?D.jsx("p",{children:"Carregando..."}):D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:D.jsxs("tr",{children:[D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Nome"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Cd. Barras"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Estoque"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Localizao"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Aes"})]})}),D.jsx("tbody",{children:$.map(U=>D.jsx(w8,{item:U,onAddStock:V,onEdit:P},U.id))})]})}),l&&D.jsx(E8,{item:m,onClose:()=>c(!1),onSave:A}),h&&b&&D.jsx(A8,{item:b,onClose:()=>d(!1),onAdd:x})]})},S8=({onClose:t,onSave:e})=>{const[n,r]=S.useState({role:Qi.Collaborator}),a=l=>{const{name:c,value:h}=l.target;r(d=>({...d,[c]:h}))},o=l=>{l.preventDefault(),e(n)};return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Adicionar Novo Usurio"}),D.jsxs("form",{onSubmit:o,className:"space-y-4",children:[D.jsx("input",{name:"name",value:n.name||"",onChange:a,placeholder:"Nome Completo",className:"w-full p-2 border rounded",required:!0}),D.jsx("input",{name:"username",value:n.username||"",onChange:a,placeholder:"Nome de Usurio",className:"w-full p-2 border rounded",required:!0}),D.jsx("input",{name:"password",type:"password",value:n.password||"",onChange:a,placeholder:"Senha",className:"w-full p-2 border rounded",required:!0}),D.jsxs("select",{name:"role",value:n.role,onChange:a,className:"w-full p-2 border rounded",children:[D.jsx("option",{value:Qi.Collaborator,children:"Colaborador"}),D.jsx("option",{value:Qi.Manager,children:"Gestor"})]}),D.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[D.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"}),D.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Salvar"})]})]})]})})},T8=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[a,o]=S.useState(!1),[l,c]=S.useState(null),[h,d]=S.useState(null),m=S.useCallback(async()=>{r(!0),c(null);try{const _=await s8();e(_)}catch(_){c("Erro ao carregar usurios: "+_.message)}finally{r(!1)}},[]);S.useEffect(()=>{m()},[m]);const v=async _=>{c(null),d(null);try{await o8(_),o(!1),d("Usurio criado com sucesso!"),setTimeout(()=>d(null),3e3),m()}catch(E){c(E.message),setTimeout(()=>c(null),5e3)}},b=async(_,E)=>{c(null),d(null);try{await u8(_,!E),d(`Usurio ${E?"desativado":"ativado"} com sucesso!`),setTimeout(()=>d(null),3e3),m()}catch(A){c("Erro ao alterar status: "+A.message),setTimeout(()=>c(null),5e3)}};return D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gerenciamento de Usurios"}),D.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[D.jsx(v8,{className:"w-5 h-5"}),D.jsx("span",{children:"Adicionar Usurio"})]})]}),h&&D.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:h}),l&&D.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),n?D.jsx("div",{className:"text-center py-8",children:D.jsx("p",{className:"text-gray-600",children:"Carregando usurios..."})}):t.length===0?D.jsxs("div",{className:"text-center py-8",children:[D.jsx("p",{className:"text-gray-600",children:"Nenhum usurio cadastrado."}),D.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Clique em "Adicionar Usurio" para criar o primeiro acesso.'})]}):D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:D.jsxs("tr",{children:[D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Nome"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Usurio"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Perfil"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Status"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Aes"})]})}),D.jsx("tbody",{children:t.map(_=>D.jsxs("tr",{className:`border-b ${_.active===!1?"bg-gray-100 opacity-60":"bg-white"}`,children:[D.jsx("td",{className:"p-3 text-sm text-gray-700",children:_.name}),D.jsx("td",{className:"p-3 text-sm text-gray-500",children:_.username}),D.jsx("td",{className:"p-3 text-sm text-gray-700",children:D.jsx("span",{className:`p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg ${_.role===Qi.Manager?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"}`,children:_.role})}),D.jsx("td",{className:"p-3 text-sm",children:D.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${_.active!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.active!==!1?"Ativo":"Desativado"})}),D.jsx("td",{className:"p-3 text-sm",children:D.jsx("button",{onClick:()=>b(_.id,_.active!==!1),className:`px-3 py-1 text-xs font-semibold rounded transition-colors ${_.active!==!1?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:_.active!==!1?"Desativar":"Ativar"})})]},_.id))})]})}),a&&D.jsx(S8,{onClose:()=>o(!1),onSave:v})]})},x8=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[a,o]=S.useState(!0),l=S.useCallback(async()=>{o(!0);const h=await lM();e(h),o(!1)},[]);S.useEffect(()=>{l()},[l]);const c=t.filter(h=>{if(!n)return!0;const d=n.trim().toLowerCase(),m=new Date(h.timestamp).toLocaleString("pt-BR").toLowerCase();return(h.itemName||"").toLowerCase().includes(d)||(h.userName||"").toLowerCase().includes(d)||(h.type||"").toString().toLowerCase().includes(d)||m.includes(d)});return D.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Histrico de Movimentaes"}),a?D.jsx("p",{children:"Carregando histrico..."}):D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mb-4",children:D.jsx("input",{type:"search",value:n,onChange:h=>r(h.target.value),placeholder:"Procurar por item, usurio, tipo ou data...",className:"w-full p-2 border rounded"})}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:D.jsxs("tr",{children:[D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Data"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Item"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Tipo"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Quantidade"}),D.jsx("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Usurio"})]})}),D.jsx("tbody",{children:c.map(h=>D.jsxs("tr",{className:"bg-white border-b",children:[D.jsx("td",{className:"p-3 text-sm text-gray-500",children:new Date(h.timestamp).toLocaleString("pt-BR")}),D.jsx("td",{className:"p-3 text-sm text-gray-700",children:h.itemName}),D.jsx("td",{className:"p-3 text-sm",children:D.jsx("span",{className:`p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg ${h.type===Pa.In?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:h.type})}),D.jsxs("td",{className:"p-3 text-sm text-gray-700 font-bold",children:[h.type===Pa.In?"+":"-",h.quantity]}),D.jsx("td",{className:"p-3 text-sm text-gray-500",children:h.userName})]},h.id))})]})})]})]})};function hM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=hM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=hM(t))&&(r&&(r+=" "),r+=e);return r}var O8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yE(t){if(typeof t!="string")return!1;var e=O8;return e.includes(t)}var C8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dM(t){if(typeof t!="string")return!1;var e=C8;return e.includes(t)}function mM(t){return typeof t=="string"&&t.startsWith("data-")}function Qr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return dM(r)||mM(r)});return Object.fromEntries(e)}function al(t){if(t==null)return null;if(S.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Qr(e)}return typeof t=="object"&&!Array.isArray(t)?Qr(t):null}function Xn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return dM(r)||mM(r)||yE(r)});return Object.fromEntries(e)}function I8(t){return t==null?null:S.isValidElement(t)?Xn(t.props):typeof t=="object"&&!Array.isArray(t)?Xn(t):null}var P8=["children","width","height","viewBox","className","style","title","desc"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function R8(t,e){if(t==null)return{};var n,r,a=D8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function D8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bE=S.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:h,desc:d}=t,m=R8(t,P8),v=o||{width:r,height:a,x:0,y:0},b=nt("recharts-surface",l);return S.createElement("svg",C_({},Xn(m),{className:b,width:r,height:a,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),S.createElement("title",null,h),S.createElement("desc",null,d),n)}),N8=["children","className"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(null,arguments)}function M8(t,e){if(t==null)return{};var n,r,a=k8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function k8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kn=S.forwardRef((t,e)=>{var{children:n,className:r}=t,a=M8(t,N8),o=nt("recharts-layer",r);return S.createElement("g",I_({className:o},Xn(a),{ref:e}),n)}),pM=x2(),gM=S.createContext(null),j8=()=>S.useContext(gM);function bt(t){return function(){return t}}const vM=Math.cos,up=Math.sin,_i=Math.sqrt,cp=Math.PI,yg=2*cp,P_=Math.PI,R_=2*P_,qo=1e-6,L8=R_-qo;function yM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function V8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yM;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class U8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yM:V8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,h=r-e,d=a-n,m=l-e,v=c-n,b=m*m+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>qo)if(!(Math.abs(v*h-d*m)>qo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=a-c,A=h*h+d*d,x=_*_+E*E,P=Math.sqrt(A),z=Math.sqrt(b),V=o*Math.tan((P_-Math.acos((A+b-x)/(2*P*z)))/2),$=V/z,U=V/P;Math.abs($-1)>qo&&this._append`L${e+$*m},${n+$*v}`,this._append`A${o},${o},0,0,${+(v*_>m*E)},${this._x1=e+U*h},${this._y1=n+U*d}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),h=r*Math.sin(a),d=e+c,m=n+h,v=1^l,b=l?a-o:o-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>qo||Math.abs(this._y1-m)>qo)&&this._append`L${d},${m}`,r&&(b<0&&(b=b%R_+R_),b>L8?this._append`A${r},${r},0,1,${v},${e-c},${n-h}A${r},${r},0,1,${v},${this._x1=d},${this._y1=m}`:b>qo&&this._append`A${r},${r},0,${+(b>=P_)},${v},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function _E(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new U8(e)}function wE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bM(t){this._context=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bg(t){return new bM(t)}function _M(t){return t[0]}function wM(t){return t[1]}function EM(t,e){var n=bt(!0),r=null,a=bg,o=null,l=_E(c);t=typeof t=="function"?t:t===void 0?_M:bt(t),e=typeof e=="function"?e:e===void 0?wM:bt(e);function c(h){var d,m=(h=wE(h)).length,v,b=!1,_;for(r==null&&(o=a(_=l())),d=0;d<=m;++d)!(d<m&&n(v=h[d],d,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(v,d,h),+e(v,d,h));if(_)return o=null,_+""||null}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:bt(+h),c):t},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:bt(+h),c):e},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:bt(!!h),c):n},c.curve=function(h){return arguments.length?(a=h,r!=null&&(o=a(r)),c):a},c.context=function(h){return arguments.length?(h==null?r=o=null:o=a(r=h),c):r},c}function pm(t,e,n){var r=null,a=bt(!0),o=null,l=bg,c=null,h=_E(d);t=typeof t=="function"?t:t===void 0?_M:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wM:bt(+n);function d(v){var b,_,E,A=(v=wE(v)).length,x,P=!1,z,V=new Array(A),$=new Array(A);for(o==null&&(c=l(z=h())),b=0;b<=A;++b){if(!(b<A&&a(x=v[b],b,v))===P)if(P=!P)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=b-1;E>=_;--E)c.point(V[E],$[E]);c.lineEnd(),c.areaEnd()}P&&(V[b]=+t(x,b,v),$[b]=+e(x,b,v),c.point(r?+r(x,b,v):V[b],n?+n(x,b,v):$[b]))}if(z)return c=null,z+""||null}function m(){return EM().defined(a).curve(l).context(o)}return d.x=function(v){return arguments.length?(t=typeof v=="function"?v:bt(+v),r=null,d):t},d.x0=function(v){return arguments.length?(t=typeof v=="function"?v:bt(+v),d):t},d.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:bt(+v),d):r},d.y=function(v){return arguments.length?(e=typeof v=="function"?v:bt(+v),n=null,d):e},d.y0=function(v){return arguments.length?(e=typeof v=="function"?v:bt(+v),d):e},d.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:bt(+v),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(v){return arguments.length?(a=typeof v=="function"?v:bt(!!v),d):a},d.curve=function(v){return arguments.length?(l=v,o!=null&&(c=l(o)),d):l},d.context=function(v){return arguments.length?(v==null?o=c=null:c=l(o=v),d):o},d}class AM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function z8(t){return new AM(t,!0)}function B8(t){return new AM(t,!1)}const EE={draw(t,e){const n=_i(e/cp);t.moveTo(n,0),t.arc(0,0,n,0,yg)}},q8={draw(t,e){const n=_i(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SM=_i(1/3),$8=SM*2,F8={draw(t,e){const n=_i(e/$8),r=n*SM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},H8={draw(t,e){const n=_i(e),r=-n/2;t.rect(r,r,n,n)}},K8=.8908130915292852,TM=up(cp/10)/up(7*cp/10),G8=up(yg/10)*TM,Y8=-vM(yg/10)*TM,W8={draw(t,e){const n=_i(e*K8),r=G8*n,a=Y8*n;t.moveTo(0,-n),t.lineTo(r,a);for(let o=1;o<5;++o){const l=yg*o/5,c=vM(l),h=up(l);t.lineTo(h*n,-c*n),t.lineTo(c*r-h*a,h*r+c*a)}t.closePath()}},_0=_i(3),Q8={draw(t,e){const n=-_i(e/(_0*3));t.moveTo(0,n*2),t.lineTo(-_0*n,-n),t.lineTo(_0*n,-n),t.closePath()}},qr=-.5,$r=_i(3)/2,D_=1/_i(12),X8=(D_/2+1)*3,Z8={draw(t,e){const n=_i(e/X8),r=n/2,a=n*D_,o=r,l=n*D_+n,c=-o,h=l;t.moveTo(r,a),t.lineTo(o,l),t.lineTo(c,h),t.lineTo(qr*r-$r*a,$r*r+qr*a),t.lineTo(qr*o-$r*l,$r*o+qr*l),t.lineTo(qr*c-$r*h,$r*c+qr*h),t.lineTo(qr*r+$r*a,qr*a-$r*r),t.lineTo(qr*o+$r*l,qr*l-$r*o),t.lineTo(qr*c+$r*h,qr*h-$r*c),t.closePath()}};function J8(t,e){let n=null,r=_E(a);t=typeof t=="function"?t:bt(t||EE),e=typeof e=="function"?e:bt(e===void 0?64:+e);function a(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),a):e},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function fp(){}function hp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e7(t){return new xM(t)}function OM(t){this._context=t}OM.prototype={areaStart:fp,areaEnd:fp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t7(t){return new OM(t)}function CM(t){this._context=t}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n7(t){return new CM(t)}function IM(t){this._context=t}IM.prototype={areaStart:fp,areaEnd:fp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r7(t){return new IM(t)}function TC(t){return t<0?-1:1}function xC(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(TC(o)+TC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function OC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w0(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function dp(t){this._context=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w0(this,this._t0,OC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w0(this,OC(this,n=xC(this,t,e)),n);break;default:w0(this,this._t0,n=xC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function PM(t){this._context=new RM(t)}(PM.prototype=Object.create(dp.prototype)).point=function(t,e){dp.prototype.point.call(this,e,t)};function RM(t){this._context=t}RM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function i7(t){return new dp(t)}function a7(t){return new PM(t)}function DM(t){this._context=t}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=CC(t),a=CC(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CC(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function s7(t){return new DM(t)}function _g(t,e){this._context=t,this._t=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o7(t){return new _g(t,.5)}function l7(t){return new _g(t,0)}function u7(t){return new _g(t,1)}function Ru(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function N_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c7(t,e){return t[e]}function f7(t){const e=[];return e.key=t,e}function h7(){var t=bt([]),e=N_,n=Ru,r=c7;function a(o){var l=Array.from(t.apply(this,arguments),f7),c,h=l.length,d=-1,m;for(const v of o)for(c=0,++d;c<h;++c)(l[c][d]=[0,+r(v,l[c].key,d,o)]).data=v;for(c=0,m=wE(e(l));c<h;++c)l[m[c]].index=c;return n(l,m),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?N_:typeof o=="function"?o:bt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Ru,a):n},a}function d7(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Ru(t,e)}}function m7(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ru(t,e)}}function p7(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,h=0,d=0;c<l;++c){for(var m=t[e[c]],v=m[r][1]||0,b=m[r-1][1]||0,_=(v-b)/2,E=0;E<c;++E){var A=t[e[E]],x=A[r][1]||0,P=A[r-1][1]||0;_+=x-P}h+=v,d+=_*v}a[r-1][1]+=a[r-1][0]=n,h&&(n-=d/h)}a[r-1][1]+=a[r-1][0]=n,Ru(t,e)}}var E0={},A0={},IC;function g7(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(A0)),A0}var S0={},PC;function NM(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(S0)),S0}var T0={},RC;function AE(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(T0)),T0}var x0={},O0={},DC;function v7(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(O0)),O0}var NC;function SE(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v7(),n=AE();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const o=[],l=a.length;if(l===0)return o;let c=0,h="",d="",m=!1;for(a.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const v=a[c];d?v==="\\"&&c+1<l?(c++,h+=a[c]):v===d?d="":h+=v:m?v==='"'||v==="'"?d=v:v==="]"?(m=!1,o.push(h),h=""):h+=v:v==="["?(m=!0,h&&(o.push(h),h="")):v==="."?h&&(o.push(h),h=""):h+=v,c++}return h&&o.push(h),o}t.toPath=r})(x0)),x0}var MC;function TE(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g7(),n=NM(),r=AE(),a=SE();function o(c,h,d){if(c==null)return d;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?n.isDeepKey(h)?o(c,a.toPath(h),d):d:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?d:m}default:{if(Array.isArray(h))return l(c,h,d);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?d:m}}}function l(c,h,d){if(h.length===0)return d;let m=c;for(let v=0;v<h.length;v++){if(m==null||e.isUnsafeProperty(h[v]))return d;m=m[h[v]]}return m===void 0?d:m}t.get=o})(E0)),E0}var C0,kC;function y7(){return kC||(kC=1,C0=TE().get),C0}var b7=y7();const sl=na(b7);var Nn=t=>t===0?0:t>0?1:-1,bi=t=>typeof t=="number"&&t!=+t,Va=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!bi(t),ea=t=>Pe(t)||typeof t=="string",_7=0,Ff=t=>{var e=++_7;return"".concat(t||"").concat(e)},Bn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var o;if(Va(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return bi(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},MM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Vt(t,e,n){return Pe(t)&&Pe(e)?t+n*(e-t):e}function kM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):sl(r,e))===n)}var It=t=>t===null||typeof t>"u",mh=t=>It(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),w7=["type","size","sizeType"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(null,arguments)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){E7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E7(t,e,n){return(e=A7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=S7(t,"string");return typeof e=="symbol"?e:e+""}function S7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T7(t,e){if(t==null)return{};var n,r,a=x7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function x7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jM={symbolCircle:EE,symbolCross:q8,symbolDiamond:F8,symbolSquare:H8,symbolStar:W8,symbolTriangle:Q8,symbolWye:Z8},O7=Math.PI/180,C7=t=>{var e="symbol".concat(mh(t));return jM[e]||EE},I7=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*O7;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},P7=(t,e)=>{jM["symbol".concat(mh(t))]=e},xE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=T7(t,w7),o=LC(LC({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=C7(l),_=J8().type(b).size(I7(n,r,l)),E=_();if(E!==null)return E},{className:h,cx:d,cy:m}=o,v=Xn(o);return d===+d&&m===+m&&n===+n?S.createElement("path",M_({},v,{className:nt("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(m,")"),d:c()})):null};xE.registerSymbol=P7;var OE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{yE(a)&&(r[a]=(o=>n[a](n,o)))}),r},R7=(t,e,n)=>r=>(t(e,n,r),null),ph=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];yE(a)&&typeof o=="function"&&(r||(r={}),r[a]=R7(o,e,n))}),r};function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(null,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){CE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CE(t,e,n){return(e=N7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N7(t){var e=M7(t,"string");return typeof e=="symbol"?e:e+""}function M7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fr=32;class IE extends S.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=Fr/2,o=Fr/6,l=Fr/3,c=e.inactive?r:e.color,h=n??e.type;if(h==="none")return null;if(h==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:Fr,y2:a,className:"recharts-legend-icon"});if(h==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Fr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(h==="rect")return S.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var d=D7({},e);return delete d.legendIcon,S.cloneElement(e.legendIcon,d)}return S.createElement(xE,{fill:c,cx:a,cy:a,size:Fr,sizeType:"diameter",type:h})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:Fr,height:Fr},h={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,v)=>{var b=m.formatter||a,_=nt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:m.inactive});if(m.type==="none")return null;var E=m.inactive?o:m.color,A=b?b(m.value,m,v):m.value;return S.createElement("li",k_({className:_,style:h,key:"legend-item-".concat(v)},ph(this.props,m,v)),S.createElement(bE,{width:n,height:n,viewBox:c,style:d,"aria-label":"".concat(A," legend icon")},this.renderIcon(m,l)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},A))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}CE(IE,"displayName","Legend");CE(IE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var I0={},P0={},UC;function k7(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(P0)),P0}var R0={},zC;function LM(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(R0)),R0}var D0={},N0={},M0={},BC;function j7(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(M0)),M0}var qC;function PE(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(N0)),N0}var k0={},$C;function L7(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(k0)),k0}var FC;function V7(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PE(),n=L7();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(D0)),D0}var j0={},L0={},HC;function U7(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE();function n(r){return function(a){return e.get(a,r)}}t.property=n})(L0)),L0}var V0={},U0={},z0={},B0={},KC;function VM(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(B0)),B0}var q0={},GC;function UM(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(q0)),q0}var $0={},YC;function zM(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})($0)),$0}var WC;function z7(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=VM(),r=UM(),a=zM();function o(v,b,_){return typeof _!="function"?e.isMatch(v,b):l(v,b,function E(A,x,P,z,V,$){const U=_(A,x,P,z,V,$);return U!==void 0?!!U:l(A,x,E,$)},new Map)}function l(v,b,_,E){if(b===v)return!0;switch(typeof b){case"object":return c(v,b,_,E);case"function":return Object.keys(b).length>0?l(v,{...b},_,E):a.eq(v,b);default:return n.isObject(v)?typeof b=="string"?b==="":!0:a.eq(v,b)}}function c(v,b,_,E){if(b==null)return!0;if(Array.isArray(b))return d(v,b,_,E);if(b instanceof Map)return h(v,b,_,E);if(b instanceof Set)return m(v,b,_,E);const A=Object.keys(b);if(v==null)return A.length===0;if(A.length===0)return!0;if(E&&E.has(b))return E.get(b)===v;E&&E.set(b,v);try{for(let x=0;x<A.length;x++){const P=A[x];if(!r.isPrimitive(v)&&!(P in v)||b[P]===void 0&&v[P]!==void 0||b[P]===null&&v[P]!==null||!_(v[P],b[P],P,v,b,E))return!1}return!0}finally{E&&E.delete(b)}}function h(v,b,_,E){if(b.size===0)return!0;if(!(v instanceof Map))return!1;for(const[A,x]of b.entries()){const P=v.get(A);if(_(P,x,A,v,b,E)===!1)return!1}return!0}function d(v,b,_,E){if(b.length===0)return!0;if(!Array.isArray(v))return!1;const A=new Set;for(let x=0;x<b.length;x++){const P=b[x];let z=!1;for(let V=0;V<v.length;V++){if(A.has(V))continue;const $=v[V];let U=!1;if(_($,P,x,v,b,E)&&(U=!0),U){A.add(V),z=!0;break}}if(!z)return!1}return!0}function m(v,b,_,E){return b.size===0?!0:v instanceof Set?d([...v],[...b],_,E):!1}t.isMatchWith=o,t.isSetMatch=m})(z0)),z0}var QC;function RE(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z7();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(U0)),U0}var F0={},H0={},K0={},XC;function B7(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(K0)),K0}var G0={},ZC;function BM(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(G0)),G0}var Y0={},JC;function qM(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",h="[object Map]",d="[object Set]",m="[object Array]",v="[object Function]",b="[object ArrayBuffer]",_="[object Object]",E="[object Error]",A="[object DataView]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",z="[object Uint16Array]",V="[object Uint32Array]",$="[object BigUint64Array]",U="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",R="[object BigInt64Array]",N="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=$,t.booleanTag=a,t.dataViewTag=A,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=N,t.float64ArrayTag=B,t.functionTag=v,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=U,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=z,t.uint32ArrayTag=V,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=P})(Y0)),Y0}var W0={},eI;function q7(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(W0)),W0}var tI;function $M(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B7(),n=BM(),r=qM(),a=UM(),o=q7();function l(m,v){return c(m,void 0,m,new Map,v)}function c(m,v,b,_=new Map,E=void 0){const A=E==null?void 0:E(m,v,b,_);if(A!==void 0)return A;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const x=new Array(m.length);_.set(m,x);for(let P=0;P<m.length;P++)x[P]=c(m[P],P,b,_,E);return Object.hasOwn(m,"index")&&(x.index=m.index),Object.hasOwn(m,"input")&&(x.input=m.input),x}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const x=new RegExp(m.source,m.flags);return x.lastIndex=m.lastIndex,x}if(m instanceof Map){const x=new Map;_.set(m,x);for(const[P,z]of m)x.set(P,c(z,P,b,_,E));return x}if(m instanceof Set){const x=new Set;_.set(m,x);for(const P of m)x.add(c(P,void 0,b,_,E));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const x=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,x);for(let P=0;P<m.length;P++)x[P]=c(m[P],P,b,_,E);return x}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const x=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,x),h(x,m,b,_,E),x}if(typeof File<"u"&&m instanceof File){const x=new File([m],m.name,{type:m.type});return _.set(m,x),h(x,m,b,_,E),x}if(typeof Blob<"u"&&m instanceof Blob){const x=new Blob([m],{type:m.type});return _.set(m,x),h(x,m,b,_,E),x}if(m instanceof Error){const x=new m.constructor;return _.set(m,x),x.message=m.message,x.name=m.name,x.stack=m.stack,x.cause=m.cause,h(x,m,b,_,E),x}if(m instanceof Boolean){const x=new Boolean(m.valueOf());return _.set(m,x),h(x,m,b,_,E),x}if(m instanceof Number){const x=new Number(m.valueOf());return _.set(m,x),h(x,m,b,_,E),x}if(m instanceof String){const x=new String(m.valueOf());return _.set(m,x),h(x,m,b,_,E),x}if(typeof m=="object"&&d(m)){const x=Object.create(Object.getPrototypeOf(m));return _.set(m,x),h(x,m,b,_,E),x}return m}function h(m,v,b=m,_,E){const A=[...Object.keys(v),...e.getSymbols(v)];for(let x=0;x<A.length;x++){const P=A[x],z=Object.getOwnPropertyDescriptor(m,P);(z==null||z.writable)&&(m[P]=c(v[P],P,b,_,E))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=h})(H0)),H0}var nI;function $7(){return nI||(nI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$M();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(F0)),F0}var rI;function F7(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=$7();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(V0)),V0}var Q0={},X0={},Z0={},iI;function H7(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$M(),n=qM();function r(a,o){return e.cloneDeepWith(a,(l,c,h,d)=>{const m=o==null?void 0:o(l,c,h,d);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(v,a),v}case n.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r})(Z0)),Z0}var aI;function K7(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H7();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(X0)),X0}var J0={},eb={},sI;function FM(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(eb)),eb}var tb={},oI;function G7(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(tb)),tb}var lI;function Y7(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=FM(),r=G7(),a=SE();function o(l,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?h=a.toPath(c):h=[c],h.length===0)return!1;let d=l;for(let m=0;m<h.length;m++){const v=h[m];if((d==null||!Object.hasOwn(d,v))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(v)&&v<d.length))return!1;d=d[v]}return!0}t.has=o})(J0)),J0}var uI;function W7(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=AE(),r=K7(),a=TE(),o=Y7();function l(c,h){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(d){const m=a.get(d,c);return m===void 0?o.has(d,c):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=l})(Q0)),Q0}var cI;function Q7(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM(),n=U7(),r=F7(),a=W7();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(j0)),j0}var fI;function X7(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k7(),n=LM(),r=V7(),a=Q7();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(c)):[]}t.uniqBy=o})(I0)),I0}var nb,hI;function Z7(){return hI||(hI=1,nb=X7().uniqBy),nb}var J7=Z7();const dI=na(J7);function HM(t,e,n){return e===!0?dI(t,n):typeof e=="function"?dI(t,e):t}var rb={exports:{}},ib={},ab={exports:{}},sb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function e$(){if(mI)return sb;mI=1;var t=Uu();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(v,b){var _=b(),E=r({inst:{value:_,getSnapshot:b}}),A=E[0].inst,x=E[1];return o(function(){A.value=_,A.getSnapshot=b,h(A)&&x({inst:A})},[v,_,b]),a(function(){return h(A)&&x({inst:A}),v(function(){h(A)&&x({inst:A})})},[v]),l(_),_}function h(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function d(v,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return sb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,sb}var pI;function t$(){return pI||(pI=1,ab.exports=e$()),ab.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function n$(){if(gI)return ib;gI=1;var t=Uu(),e=t$();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return ib.useSyncExternalStoreWithSelector=function(d,m,v,b,_){var E=o(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=c(function(){function P(F){if(!z){if(z=!0,V=F,F=b(F),_!==void 0&&A.hasValue){var C=A.value;if(_(C,F))return $=C}return $=F}if(C=$,r(V,F))return C;var R=b(F);return _!==void 0&&_(C,R)?(V=F,C):(V=F,$=R)}var z=!1,V,$,U=v===void 0?null:v;return[function(){return P(m())},U===null?void 0:function(){return P(U())}]},[m,v,b,_]);var x=a(d,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=x},[x]),h(x),x},ib}var vI;function r$(){return vI||(vI=1,rb.exports=n$()),rb.exports}var i$=r$(),DE=S.createContext(null),a$=t=>t,Pt=()=>{var t=S.useContext(DE);return t?t.store.dispatch:a$},Bm=()=>{},s$=()=>Bm,o$=(t,e)=>t===e;function Te(t){var e=S.useContext(DE);return i$.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:s$,e?e.store.getState:Bm,e?e.store.getState:Bm,e?t:Bm,o$)}function l$(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function u$(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function c$(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var yI=t=>Array.isArray(t)?t:[t];function f$(t){const e=Array.isArray(t[0])?t[0]:t;return c$(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function h$(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var d$=class{constructor(t){this.value=t}deref(){return this.value}},m$=typeof WeakRef<"u"?WeakRef:d$,p$=0,bI=1;function gm(){return{s:p$,v:void 0,o:null,p:null}}function KM(t,e={}){let n=gm();const{resultEqualityCheck:r}=e;let a,o=0;function l(){var v;let c=n;const{length:h}=arguments;for(let b=0,_=h;b<_;b++){const E=arguments[b];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const x=A.get(E);x===void 0?(c=gm(),A.set(E,c)):c=x}else{let A=c.p;A===null&&(c.p=A=new Map);const x=A.get(E);x===void 0?(c=gm(),A.set(E,c)):c=x}}const d=c;let m;if(c.s===bI)m=c.v;else if(m=t.apply(null,arguments),o++,r){const b=((v=a==null?void 0:a.deref)==null?void 0:v.call(a))??a;b!=null&&r(b,m)&&(m=b,o!==0&&o--),a=typeof m=="object"&&m!==null||typeof m=="function"?new m$(m):m}return d.s=bI,d.v=m,m}return l.clearCache=()=>{n=gm(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function g$(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,h={},d=a.pop();typeof d=="object"&&(h=d,d=a.pop()),l$(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...h},{memoize:v,memoizeOptions:b=[],argsMemoize:_=KM,argsMemoizeOptions:E=[]}=m,A=yI(b),x=yI(E),P=f$(a),z=v(function(){return o++,d.apply(null,arguments)},...A),V=_(function(){l++;const U=h$(P,arguments);return c=z.apply(null,U),c},...x);return Object.assign(V,{resultFunc:d,memoizedResultFunc:z,dependencies:P,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var J=g$(KM),v$=Object.assign((t,e=J)=>{u$(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,h)=>(l[n[h]]=c,l),{}))},{withTypes:()=>v$}),ob={},lb={},ub={},_I;function y$(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(ub)),ub}var cb={},fb={},wI;function GM(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(fb)),fb}var EI;function b$(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(cb)),cb}var AI;function _$(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y$(),n=b$(),r=SE();function a(o,l,c,h){if(o==null)return[];c=h?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,E)=>{let A=_;for(let x=0;x<E.length&&A!=null;++x)A=A[E[x]];return A},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:d(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?d(E,_):typeof E=="object"?E[_]:E,v=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:v.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let A=0;A<v.length;A++){const x=e.compareValues(_.criteria[A],E.criteria[A],c[A]);if(x!==0)return x}return 0}).map(_=>_.original)}t.orderBy=a})(lb)),lb}var hb={},SI;function w$(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,h)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&h<o?l(m,h+1):a.push(m)}};return l(n,0),a}t.flatten=e})(hb)),hb}var db={},TI;function YM(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FM(),n=PE(),r=VM(),a=zM();function o(l,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&e.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?a.eq(h[c],l):!1}t.isIterateeCall=o})(db)),db}var xI;function E$(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_$(),n=w$(),r=YM();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(ob)),ob}var mb,OI;function A$(){return OI||(OI=1,mb=E$().sortBy),mb}var S$=A$();const wg=na(S$);var WM=t=>t.legend.settings,T$=t=>t.legend.size,x$=t=>t.legend.payload,O$=J([x$,WM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?wg(r,n):r});function C$(){return Te(O$)}var vm=1;function QM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>vm||Math.abs(l.left-e.left)>vm||Math.abs(l.top-e.top)>vm||Math.abs(l.width-e.width)>vm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function In(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var I$=typeof Symbol=="function"&&Symbol.observable||"@@observable",CI=I$,pb=()=>Math.random().toString(36).substring(7).split("").join("."),P$={INIT:`@@redux/INIT${pb()}`,REPLACE:`@@redux/REPLACE${pb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pb()}`},mp=P$;function NE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function XM(t,e,n){if(typeof t!="function")throw new Error(In(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(In(1));return n(XM)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,h=!1;function d(){l===o&&(l=new Map,o.forEach((x,P)=>{l.set(P,x)}))}function m(){if(h)throw new Error(In(3));return a}function v(x){if(typeof x!="function")throw new Error(In(4));if(h)throw new Error(In(5));let P=!0;d();const z=c++;return l.set(z,x),function(){if(P){if(h)throw new Error(In(6));P=!1,d(),l.delete(z),o=null}}}function b(x){if(!NE(x))throw new Error(In(7));if(typeof x.type>"u")throw new Error(In(8));if(typeof x.type!="string")throw new Error(In(17));if(h)throw new Error(In(9));try{h=!0,a=r(a,x)}finally{h=!1}return(o=l).forEach(z=>{z()}),x}function _(x){if(typeof x!="function")throw new Error(In(10));r=x,b({type:mp.REPLACE})}function E(){const x=v;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(In(11));function z(){const $=P;$.next&&$.next(m())}return z(),{unsubscribe:x(z)}},[CI](){return this}}}return b({type:mp.INIT}),{dispatch:b,subscribe:v,getState:m,replaceReducer:_,[CI]:E}}function R$(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:mp.INIT})>"u")throw new Error(In(12));if(typeof n(void 0,{type:mp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function ZM(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{R$(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let h=!1;const d={};for(let m=0;m<r.length;m++){const v=r[m],b=n[v],_=l[v],E=b(_,c);if(typeof E>"u")throw c&&c.type,new Error(In(14));d[v]=E,h=h||E!==_}return h=h||r.length!==Object.keys(l).length,h?d:l}}function pp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function D$(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(In(15))};const l={getState:a.getState,dispatch:(h,...d)=>o(h,...d)},c=t.map(h=>h(l));return o=pp(...c)(a.dispatch),{...a,dispatch:o}}}function JM(t){return NE(t)&&"type"in t&&typeof t.type=="string"}var ek=Symbol.for("immer-nothing"),II=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function di(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Du=Object.getPrototypeOf;function ol(t){return!!t&&!!t[Or]}function Ua(t){var e;return t?tk(t)||Array.isArray(t)||!!t[II]||!!((e=t.constructor)!=null&&e[II])||gh(t)||Ag(t):!1}var N$=Object.prototype.constructor.toString();function tk(t){if(!t||typeof t!="object")return!1;const e=Du(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===N$}function gp(t,e){Eg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Eg(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:gh(t)?2:Ag(t)?3:0}function j_(t,e){return Eg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function nk(t,e,n){const r=Eg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function M$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gh(t){return t instanceof Map}function Ag(t){return t instanceof Set}function $o(t){return t.copy_||t.base_}function L_(t,e){if(gh(t))return new Map(t);if(Ag(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=tk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Du(t),r)}else{const r=Du(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function ME(t,e=!1){return Sg(t)||ol(t)||!Ua(t)||(Eg(t)>1&&Object.defineProperties(t,{set:{value:ym},add:{value:ym},clear:{value:ym},delete:{value:ym}}),Object.freeze(t),e&&Object.values(t).forEach(n=>ME(n,!0))),t}function ym(){di(2)}function Sg(t){return Object.isFrozen(t)}var k$={};function ll(t){const e=k$[t];return e||di(0,t),e}var Hf;function rk(){return Hf}function j$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PI(t,e){e&&(ll("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function V_(t){U_(t),t.drafts_.forEach(L$),t.drafts_=null}function U_(t){t===Hf&&(Hf=t.parent_)}function RI(t){return Hf=j$(Hf,t)}function L$(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(V_(e),di(4)),Ua(t)&&(t=vp(e,t),e.parent_||yp(e,t)),e.patches_&&ll("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=vp(e,n,[]),V_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ek?t:void 0}function vp(t,e,n){if(Sg(e))return e;const r=e[Or];if(!r)return gp(e,(a,o)=>NI(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return yp(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),gp(o,(c,h)=>NI(t,r,a,c,h,n,l)),yp(t,a,!1),n&&t.patches_&&ll("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function NI(t,e,n,r,a,o,l){if(ol(a)){const c=o&&e&&e.type_!==3&&!j_(e.assigned_,r)?o.concat(r):void 0,h=vp(t,a,c);if(nk(n,r,h),ol(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ua(a)&&!Sg(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vp(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(gh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yp(t,a)}}function yp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ME(e,n)}function V$(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:rk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=kE;n&&(a=[r],o=Kf);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var kE={get(t,e){if(e===Or)return t;const n=$o(t);if(!j_(n,e))return U$(t,n,e);const r=n[e];return t.finalized_||!Ua(r)?r:r===gb(t.base_,e)?(vb(t),t.copy_[e]=B_(r,t)):r},has(t,e){return e in $o(t)},ownKeys(t){return Reflect.ownKeys($o(t))},set(t,e,n){const r=ik($o(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=gb($o(t),e),o=a==null?void 0:a[Or];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(M$(n,a)&&(n!==void 0||j_(t.base_,e)))return!0;vb(t),z_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vb(t),z_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=$o(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){di(11)},getPrototypeOf(t){return Du(t.base_)},setPrototypeOf(){di(12)}},Kf={};gp(kE,(t,e)=>{Kf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kf.deleteProperty=function(t,e){return Kf.set.call(this,t,e,void 0)};Kf.set=function(t,e,n){return kE.set.call(this,t[0],e,n,t[0])};function gb(t,e){const n=t[Or];return(n?$o(n):t)[e]}function U$(t,e,n){var a;const r=ik(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function ik(t,e){if(!(e in t))return;let n=Du(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Du(n)}}function z_(t){t.modified_||(t.modified_=!0,t.parent_&&z_(t.parent_))}function vb(t){t.copy_||(t.copy_=L_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var z$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(h=o,...d){return l.produce(h,m=>n.call(this,m,...d))}}typeof n!="function"&&di(6),r!==void 0&&typeof r!="function"&&di(7);let a;if(Ua(e)){const o=RI(this),l=B_(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?V_(o):U_(o)}return PI(o,r),DI(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===ek&&(a=void 0),this.autoFreeze_&&ME(a,!0),r){const o=[],l=[];ll("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else di(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ua(t)||di(8),ol(t)&&(t=Ra(t));const e=RI(this),n=B_(t,void 0);return n[Or].isManual_=!0,U_(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&di(9);const{scope_:r}=n;return PI(r,e),DI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ll("Patches").applyPatches_;return ol(t)?r(t,e):this.produce(t,a=>r(a,e))}};function B_(t,e){const n=gh(t)?ll("MapSet").proxyMap_(t,e):Ag(t)?ll("MapSet").proxySet_(t,e):V$(t,e);return(e?e.scope_:rk()).drafts_.push(n),n}function Ra(t){return ol(t)||di(10,t),ak(t)}function ak(t){if(!Ua(t)||Sg(t))return t;const e=t[Or];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=L_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=L_(t,!0);return gp(n,(r,a)=>{nk(n,r,ak(a))}),e&&(e.finalized_=!1),n}var B$=new z$,sk=B$.produce;function ok(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var q$=ok(),$$=ok,F$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pp:pp.apply(null,arguments)};function Xr(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(xr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>JM(r)&&r.type===t,n}var lk=class xf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xf.prototype)}static get[Symbol.species](){return xf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xf(...e[0].concat(this)):new xf(...e.concat(this))}};function MI(t){return Ua(t)?sk(t,()=>{}):t}function bm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function H$(t){return typeof t=="boolean"}var K$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new lk;return n&&(H$(n)?l.push(q$):l.push($$(n.extraArgument))),l},uk="RTK_autoBatch",Yn=()=>t=>({payload:t,meta:{[uk]:!0}}),kI=t=>e=>{setTimeout(e,t)},ck=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kI(10):t.type==="callback"?t.queueNotification:kI(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const v=()=>a&&m(),b=r.subscribe(v);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){var v;try{return a=!((v=m==null?void 0:m.meta)!=null&&v[uk]),o=!a,o&&(l||(l=!0,h(d))),r.dispatch(m)}finally{a=!0}}})},G$=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new lk(t);return r&&a.push(ck(typeof r=="object"?r:void 0)),a};function Y$(t){const e=K$(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(NE(n))c=ZM(n);else throw new Error(xr(1));let h;typeof r=="function"?h=r(e):h=e();let d=pp;a&&(d=F$({trace:!1,...typeof a=="object"&&a}));const m=D$(...h),v=G$(m);let b=typeof l=="function"?l(v):v();const _=d(...b);return XM(c,o,_)}function fk(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(xr(28));if(c in e)throw new Error(xr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function W$(t){return typeof t=="function"}function Q$(t,e){let[n,r,a]=fk(e),o;if(W$(t))o=()=>MI(t());else{const c=MI(t);o=()=>c}function l(c=o(),h){let d=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[a]),d.reduce((m,v)=>{if(v)if(ol(m)){const _=v(m,h);return _===void 0?m:_}else{if(Ua(m))return sk(m,b=>v(b,h));{const b=v(m,h);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=o,l}var X$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Z$=(t=21)=>{let e="",n=t;for(;n--;)e+=X$[Math.random()*64|0];return e},J$=Symbol.for("rtk-slice-createasyncthunk");function eF(t,e){return`${t}/${e}`}function tF({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[J$];return function(a){const{name:o,reducerPath:l=o}=a;if(!o)throw new Error(xr(11));const c=(typeof a.reducers=="function"?a.reducers(rF()):a.reducers)||{},h=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase($,U){const F=typeof $=="string"?$:$.type;if(!F)throw new Error(xr(12));if(F in d.sliceCaseReducersByType)throw new Error(xr(13));return d.sliceCaseReducersByType[F]=U,m},addMatcher($,U){return d.sliceMatchers.push({matcher:$,reducer:U}),m},exposeAction($,U){return d.actionCreators[$]=U,m},exposeCaseReducer($,U){return d.sliceCaseReducersByName[$]=U,m}};h.forEach($=>{const U=c[$],F={reducerName:$,type:eF(o,$),createNotation:typeof a.reducers=="function"};aF(U)?oF(F,U,m,e):iF(F,U,m)});function v(){const[$={},U=[],F=void 0]=typeof a.extraReducers=="function"?fk(a.extraReducers):[a.extraReducers],C={...$,...d.sliceCaseReducersByType};return Q$(a.initialState,R=>{for(let N in C)R.addCase(N,C[N]);for(let N of d.sliceMatchers)R.addMatcher(N.matcher,N.reducer);for(let N of U)R.addMatcher(N.matcher,N.reducer);F&&R.addDefaultCase(F)})}const b=$=>$,_=new Map,E=new WeakMap;let A;function x($,U){return A||(A=v()),A($,U)}function P(){return A||(A=v()),A.getInitialState()}function z($,U=!1){function F(R){let N=R[$];return typeof N>"u"&&U&&(N=bm(E,F,P)),N}function C(R=b){const N=bm(_,U,()=>new WeakMap);return bm(N,R,()=>{const B={};for(const[j,L]of Object.entries(a.selectors??{}))B[j]=nF(L,R,()=>bm(E,R,P),U);return B})}return{reducerPath:$,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const V={name:o,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...z(l),injectInto($,{reducerPath:U,...F}={}){const C=U??l;return $.inject({reducerPath:C,reducer:x},F),{...V,...z(C,!0)}}};return V}}function nF(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var Cr=tF();function rF(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function iF({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!sF(r))throw new Error(xr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?Xr(t,l):Xr(t))}function aF(t){return t._reducerDefinitionType==="asyncThunk"}function sF(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oF({type:t,reducerName:e},n,r,a){if(!a)throw new Error(xr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:h,settled:d,options:m}=n,v=a(t,o,m);r.exposeAction(e,v),l&&r.addCase(v.fulfilled,l),c&&r.addCase(v.pending,c),h&&r.addCase(v.rejected,h),d&&r.addMatcher(v.settled,d),r.exposeCaseReducer(e,{fulfilled:l||_m,pending:c||_m,rejected:h||_m,settled:d||_m})}function _m(){}var lF="task",hk="listener",dk="completed",jE="cancelled",uF=`task-${jE}`,cF=`task-${dk}`,q_=`${hk}-${jE}`,fF=`${hk}-${dk}`,Tg=class{constructor(t){t0(this,"name","TaskAbortError");t0(this,"message");this.code=t,this.message=`${lF} ${jE} (reason: ${t})`}},LE=(t,e)=>{if(typeof t!="function")throw new TypeError(xr(32))},bp=()=>{},mk=(t,e=bp)=>(t.catch(e),t),pk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Qo=t=>{if(t.aborted){const{reason:e}=t;throw new Tg(e)}};function gk(t,e){let n=bp;return new Promise((r,a)=>{const o=()=>a(new Tg(t.reason));if(t.aborted){o();return}n=pk(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=bp})}var hF=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Tg?"cancelled":"rejected",error:n}}finally{e==null||e()}},_p=t=>e=>mk(gk(t,e).then(n=>(Qo(t),n))),vk=t=>{const e=_p(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:wu}=Object,jI={},xg="listenerMiddleware",dF=(t,e)=>{const n=r=>pk(t,()=>Wo(r,t.reason));return(r,a)=>{LE(r);const o=new AbortController;n(o);const l=hF(async()=>{Qo(t),Qo(o.signal);const c=await r({pause:_p(o.signal),delay:vk(o.signal),signal:o.signal});return Qo(o.signal),c},()=>Wo(o,cF));return a!=null&&a.autoJoin&&e.push(l.catch(bp)),{result:_p(t)(l),cancel(){Wo(o,uF)}}}},mF=(t,e)=>{const n=async(r,a)=>{Qo(e);let o=()=>{};const c=[new Promise((h,d)=>{let m=t({predicate:r,effect:(v,b)=>{b.unsubscribe(),h([v,b.getState(),b.getOriginalState()])}});o=()=>{m(),d()}})];a!=null&&c.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await gk(e,Promise.race(c));return Qo(e),h}finally{o()}};return(r,a)=>mk(n(r,a))},yk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=Xr(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(xr(21));return LE(o),{predicate:a,type:e,effect:o}},bk=wu(t=>{const{type:e,predicate:n,effect:r}=yk(t);return{id:Z$(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>bk}),LI=(t,e)=>{const{type:n,effect:r,predicate:a}=yk(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},$_=t=>{t.pending.forEach(e=>{Wo(e,q_)})},pF=(t,e)=>()=>{for(const n of e.keys())$_(n);t.clear()},VI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_k=wu(Xr(`${xg}/add`),{withTypes:()=>_k}),gF=Xr(`${xg}/removeAll`),wk=wu(Xr(`${xg}/remove`),{withTypes:()=>wk}),vF=(...t)=>{console.error(`${xg}/error`,...t)},vh=(t={})=>{const e=new Map,n=new Map,r=_=>{const E=n.get(_)??0;n.set(_,E+1)},a=_=>{const E=n.get(_)??1;E===1?n.delete(_):n.set(_,E-1)},{extra:o,onError:l=vF}=t;LE(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),E=>{_.unsubscribe(),E!=null&&E.cancelActive&&$_(_)}),h=_=>{const E=LI(e,_)??bk(_);return c(E)};wu(h,{withTypes:()=>h});const d=_=>{const E=LI(e,_);return E&&(E.unsubscribe(),_.cancelActive&&$_(E)),!!E};wu(d,{withTypes:()=>d});const m=async(_,E,A,x)=>{const P=new AbortController,z=mF(h,P.signal),V=[];try{_.pending.add(P),r(_),await Promise.resolve(_.effect(E,wu({},A,{getOriginalState:x,condition:($,U)=>z($,U).then(Boolean),take:z,delay:vk(P.signal),pause:_p(P.signal),extra:o,signal:P.signal,fork:dF(P.signal,V),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach(($,U,F)=>{$!==P&&(Wo($,q_),F.delete($))})},cancel:()=>{Wo(P,q_),_.pending.delete(P)},throwIfCancelled:()=>{Qo(P.signal)}})))}catch($){$ instanceof Tg||VI(l,$,{raisedBy:"effect"})}finally{await Promise.all(V),Wo(P,fF),a(_),_.pending.delete(P)}},v=pF(e,n);return{middleware:_=>E=>A=>{if(!JM(A))return E(A);if(_k.match(A))return h(A.payload);if(gF.match(A)){v();return}if(wk.match(A))return d(A.payload);let x=_.getState();const P=()=>{if(x===jI)throw new Error(xr(23));return x};let z;try{if(z=E(A),e.size>0){const V=_.getState(),$=Array.from(e.values());for(const U of $){let F=!1;try{F=U.predicate(A,V,x)}catch(C){F=!1,VI(l,C,{raisedBy:"predicate"})}F&&m(U,A,_,P)}}}finally{x=jI}return z},startListening:h,stopListening:d,clearListeners:v}};function xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Ek=Cr({name:"chartLayout",initialState:yF,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:bF,setLayout:_F,setChartSize:wF,setScale:EF}=Ek.actions,AF=Ek.reducer;function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e,n){return(e=TF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TF(t){var e=xF(t,"string");return typeof e=="symbol"?e:e+""}function xF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wp=Math.PI/180,OF=t=>t*180/Math.PI,sn=(t,e,n,r)=>({x:t+Math.cos(-wp*r)*n,y:e+Math.sin(-wp*r)*n}),Ak=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},CF=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},IF=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=CF({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:l,angle:OF(h),angleInRadian:h}},PF=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},RF=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},DF=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:o}=IF({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:h,endAngle:d}=PF(e),m=o,v;if(h<=d){for(;m>d;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=d}else{for(;m>h;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=h}return v?zI(zI({},e),{},{radius:a,angle:RF(m,e)}):null};function Sk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){NF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NF(t,e,n){return(e=MF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MF(t){var e=kF(t,"string");return typeof e=="symbol"?e:e+""}function kF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wt(t,e,n){return It(t)||It(e)?n:ea(e)?sl(t,e,n):typeof e=="function"?e(t):n}var jF=(t,e,n,r,a)=>{var o,l=-1,c=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<c;h++){var d=h>0?n[h-1].coordinate:n[c-1].coordinate,m=n[h].coordinate,v=h>=c-1?n[0].coordinate:n[h+1].coordinate,b=void 0;if(Nn(m-d)!==Nn(v-m)){var _=[];if(Nn(v-m)===Nn(a[1]-a[0])){b=v;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+d)/2),_[1]=Math.max(E,(E+d)/2)}else{b=d;var A=v+a[1]-a[0];_[0]=Math.min(m,(A+m)/2),_[1]=Math.max(m,(A+m)/2)}var x=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>x[0]&&t<=x[1]||t>=_[0]&&t<=_[1]){({index:l}=n[h]);break}}else{var P=Math.min(d,v),z=Math.max(d,v);if(t>(P+m)/2&&t<=(z+m)/2){({index:l}=n[h]);break}}}else if(e){for(var V=0;V<c;V++)if(V===0&&t<=(e[V].coordinate+e[V+1].coordinate)/2||V>0&&V<c-1&&t>(e[V].coordinate+e[V-1].coordinate)/2&&t<=(e[V].coordinate+e[V+1].coordinate)/2||V===c-1&&t>(e[V].coordinate+e[V-1].coordinate)/2){({index:l}=e[V]);break}}return l},LF=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Pe(t[o]))return Kr(Kr({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Pe(t[l]))return Kr(Kr({},t),{},{[l]:t[l]+(a||0)})}return t},so=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qI=1e-4,VF=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-qI,o=Math.max(r[0],r[1])+qI,l=t(e[0]),c=t(e[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([e[0],e[n-1]])}},UF=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(a[0]=n),(!Pe(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},zF=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0,l=0;l<e;++l){var c=bi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},BF=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,o=0;o<e;++o){var l=bi(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},qF={sign:zF,expand:d7,none:Ru,silhouette:m7,wiggle:p7,positive:BF},$F=(t,e,n)=>{var r=qF[n],a=h7().keys(e).value((o,l)=>+wt(o,l,0)).order(N_).offset(r);return a(t)};function FF(t){return t==null?void 0:String(t)}function $I(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!It(a[e.dataKey])){var c=kM(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=wt(a,It(l)?e.dataKey:l);return It(h)?null:e.scale(h)}var FI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:o,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=wt(o,e.dataKey,e.scale.domain()[l]);return It(c)?null:e.scale(c)-a/2+r},HF=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},KF=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},GF=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],YF=(t,e,n)=>{if(t!=null)return GF(Object.keys(t).reduce((r,a)=>{var o=t[a],{stackedData:l}=o,c=l.reduce((h,d)=>{var m=Sk(d,e,n),v=KF(m);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},HI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=wg(e,m=>m.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var h=a[l],d=a[l-1];o=Math.min((h.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function GI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return Kr(Kr({},e),{},{dataKey:n,payload:r,value:a,name:o})}function Xu(t,e){if(t)return String(t);if(typeof e=="string")return e}function WF(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var o=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return o?{x:t,y:e}:null}return r?DF({x:t,y:e},r):null}var QF=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,{radius:l}=r;return Kr(Kr(Kr({},r),sn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:h}=r;return Kr(Kr(Kr({},r),sn(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{x:0,y:0}},XF=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ha=t=>t.layout.width,Ka=t=>t.layout.height,ZF=t=>t.layout.scale,Tk=t=>t.layout.margin,Og=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Cg=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),xk="data-recharts-item-index",Ok="data-recharts-item-data-key",yh=60;function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return(e=eH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eH(t){var e=tH(t,"string");return typeof e=="symbol"?e:e+""}function tH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nH=t=>t.brush.height;function rH(t){var e=Cg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:yh;return n+a}return n},0)}function iH(t){var e=Cg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:yh;return n+a}return n},0)}function aH(t){var e=Og(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sH(t){var e=Og(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var hn=J([Ha,Ka,Tk,nH,rH,iH,aH,sH,WM,T$],(t,e,n,r,a,o,l,c,h,d)=>{var m={left:(n.left||0)+a,right:(n.right||0)+o},v={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=wm(wm({},v),m),_=b.bottom;b.bottom+=r,b=LF(b,h,d);var E=t-b.left-b.right,A=e-b.top-b.bottom;return wm(wm({brushBottom:_},b),{},{width:Math.max(E,0),height:Math.max(A,0)})}),oH=J(hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),VE=J(Ha,Ka,(t,e)=>({x:0,y:0,width:t,height:e})),lH=S.createContext(null),ur=()=>S.useContext(lH)!=null,Ig=t=>t.brush,Pg=J([Ig,hn,Tk],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Pe(t.width)?t.width:e.width})),yb={},bb={},_b={},WI;function uH(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const h=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},v=()=>{d&&m(),A()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,v()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{E(),l=void 0,c=null},x=()=>{m()},P=function(...z){if(a!=null&&a.aborted)return;l=this,c=z;const V=b==null;_(),h&&V&&m()};return P.schedule=_,P.cancel=A,P.flush=x,a==null||a.addEventListener("abort",A,{once:!0}),P}t.debounce=e})(_b)),_b}var QI;function cH(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uH();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:h}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,v=null;const b=e.debounce(function(...A){m=r.apply(this,A),v=null},a,{edges:d}),_=function(...A){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(m=r.apply(this,A),v=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,A),m)},E=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=E,_}t.debounce=n})(bb)),bb}var XI;function fH(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(yb)),yb}var wb,ZI;function hH(){return ZI||(ZI=1,wb=fH().throttle),wb}var dH=hH();const mH=na(dH);var JI=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]},Ck=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:o,maxHeight:l}=n,c=Va(r)?t:Number(r),h=Va(a)?e:Number(a);return o&&o>0&&(c?h=c/o:h&&(c=h*o),l&&h>l&&(h=l)),{calculatedWidth:c,calculatedHeight:h}},pH={width:0,height:0,overflow:"visible"},gH={width:0,overflowX:"visible"},vH={height:0,overflowY:"visible"},yH={},bH=t=>{var{width:e,height:n}=t,r=Va(e),a=Va(n);return r&&a?pH:r?gH:a?vH:yH};function _H(t){var{width:e,height:n,aspect:r}=t,a=e,o=n;return a===void 0&&o===void 0?(a="100%",o="100%"):a===void 0?a=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:a,height:o}}function $n(t){return Number.isFinite(t)}function Nu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){wH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wH(t,e,n){return(e=EH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=AH(t,"string");return typeof e=="symbol"?e:e+""}function AH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ik=S.createContext({width:-1,height:-1});function Pk(t){var{children:e,width:n,height:r}=t,a=S.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:S.createElement(Ik.Provider,{value:a},e)}var UE=()=>S.useContext(Ik),SH=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:o,minWidth:l=0,minHeight:c,maxHeight:h,children:d,debounce:m=0,id:v,className:b,onResize:_,style:E={}}=t,A=S.useRef(null),x=S.useRef();x.current=_,S.useImperativeHandle(e,()=>A.current);var[P,z]=S.useState({containerWidth:r.width,containerHeight:r.height}),V=S.useCallback((R,N)=>{z(B=>{var j=Math.round(R),L=Math.round(N);return B.containerWidth===j&&B.containerHeight===L?B:{containerWidth:j,containerHeight:L}})},[]);S.useEffect(()=>{var R=L=>{var M,{width:de,height:be}=L[0].contentRect;V(de,be),(M=x.current)===null||M===void 0||M.call(x,de,be)};m>0&&(R=mH(R,m,{trailing:!0,leading:!1}));var N=new ResizeObserver(R),{width:B,height:j}=A.current.getBoundingClientRect();return V(B,j),N.observe(A.current),()=>{N.disconnect()}},[V,m]);var{containerWidth:$,containerHeight:U}=P;JI(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:C}=Ck($,U,{width:a,height:o,aspect:n,maxHeight:h});return JI(F>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,C,a,o,l,c,n),S.createElement("div",{id:v?"".concat(v):void 0,className:nt("recharts-responsive-container",b),style:tP(tP({},E),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:h}),ref:A},S.createElement("div",{style:bH({width:a,height:o})},S.createElement(Pk,{width:F,height:C},d)))}),Eb=S.forwardRef((t,e)=>{var n=UE();if(Nu(n.width)&&Nu(n.height))return t.children;var{width:r,height:a}=_H({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=Ck(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(o)&&Pe(l)?S.createElement(Pk,{width:o,height:l},t.children):S.createElement(SH,F_({},t,{width:r,height:a,ref:e}))}),Rg=()=>{var t,e=ur(),n=Te(oH),r=Te(Pg),a=(t=Te(Ig))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},TH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},xH=()=>{var t;return(t=Te(hn))!==null&&t!==void 0?t:TH},Rk=()=>Te(Ha),Dk=()=>Te(Ka),OH=()=>Te(t=>t.layout.margin),Je=t=>t.layout.layoutType,Dg=()=>Te(Je),Ng=t=>{var e=Pt(),n=ur(),{width:r,height:a}=t,o=UE(),l=r,c=a;return o&&(l=o.width>0?o.width:r,c=o.height>0?o.height:a),S.useEffect(()=>{!n&&Nu(l)&&Nu(c)&&e(wF({width:l,height:c}))},[e,n,l,c]),null},CH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Nk=Cr({name:"legend",initialState:CH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Yn()},removeLegendPayload:{reducer(t,e){var n=Ra(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Yn()}}}),{setLegendSize:nP,setLegendSettings:IH,addLegendPayload:Mk,removeLegendPayload:kk}=Nk.actions,PH=Nk.reducer,RH=["contextPayload"];function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(null,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zE(t,e,n){return(e=DH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=NH(t,"string");return typeof e=="symbol"?e:e+""}function NH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MH(t,e){if(t==null)return{};var n,r,a=kH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jH(t){return t.value}function LH(t){var{contextPayload:e}=t,n=MH(t,RH),r=HM(e,t.payloadUniqBy,jH),a=Mu(Mu({},n),{},{payload:r});return S.isValidElement(t.content)?S.cloneElement(t.content,a):typeof t.content=="function"?S.createElement(t.content,a):S.createElement(IE,a)}function VH(t,e,n,r,a,o){var{layout:l,align:c,verticalAlign:h}=e,d,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?d={left:((r||0)-o.width)/2}:d=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(h==="middle"?m={top:((a||0)-o.height)/2}:m=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Mu(Mu({},d),m)}function UH(t){var e=Pt();return S.useEffect(()=>{e(IH(t))},[e,t]),null}function zH(t){var e=Pt();return S.useEffect(()=>(e(nP(t)),()=>{e(nP({width:0,height:0}))}),[e,t]),null}function BH(t){var e=C$(),n=j8(),r=OH(),{width:a,height:o,wrapperStyle:l,portal:c}=t,[h,d]=QM([e]),m=Rk(),v=Dk();if(m==null||v==null)return null;var b=m-(r.left||0)-(r.right||0),_=Mg.getWidthOrHeight(t.layout,o,a,b),E=c?l:Mu(Mu({position:"absolute",width:(_==null?void 0:_.width)||a||"auto",height:(_==null?void 0:_.height)||o||"auto"},VH(l,t,r,m,v,h)),l),A=c??n;if(A==null)return null;var x=S.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:d},S.createElement(UH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),S.createElement(zH,{width:h.width,height:h.height}),S.createElement(LH,H_({},t,_,{margin:r,chartWidth:m,chartHeight:v,contextPayload:e})));return pM.createPortal(x,A)}class Mg extends S.PureComponent{static getWidthOrHeight(e,n,r,a){return e==="vertical"&&Pe(n)?{height:n}:e==="horizontal"?{width:r||a}:null}render(){return S.createElement(BH,this.props)}}zE(Mg,"displayName","Legend");zE(Mg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){qH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qH(t,e,n){return(e=$H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=FH(t,"string");return typeof e=="symbol"?e:e+""}function FH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HH(t){return Array.isArray(t)&&ea(t[0])&&ea(t[1])?t.join(" ~ "):t}var KH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:h,labelClassName:d,label:m,labelFormatter:v,accessibilityLayer:b=!1}=t,_=()=>{if(o&&o.length){var U={padding:0,margin:0},F=(c?wg(o,c):o).map((C,R)=>{if(C.type==="none")return null;var N=C.formatter||l||HH,{value:B,name:j}=C,L=B,M=j;if(N){var de=N(B,j,C,R,o);if(Array.isArray(de))[L,M]=de;else if(de!=null)L=de;else return null}var be=Ab({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:be},ea(M)?S.createElement("span",{className:"recharts-tooltip-item-name"},M):null,ea(M)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},L),S.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:U},F)}return null},E=Ab({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=Ab({margin:0},a),x=!It(m),P=x?m:"",z=nt("recharts-default-tooltip",h),V=nt("recharts-tooltip-label",d);x&&v&&o!==void 0&&o!==null&&(P=v(m,o));var $=b?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",K_({className:z,style:E},$),S.createElement("p",{className:V,style:A},S.isValidElement(P)?P:"".concat(P)),_())},hf="recharts-tooltip-wrapper",GH={visibility:"hidden"};function YH(t){var{coordinate:e,translateX:n,translateY:r}=t;return nt(hf,{["".concat(hf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(hf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(hf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(hf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function aP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:h,viewBoxDimension:d}=t;if(o&&Pe(o[r]))return o[r];var m=n[r]-c-(a>0?a:0),v=n[r]+a;if(e[r])return l[r]?m:v;var b=h[r];if(b==null)return 0;if(l[r]){var _=m,E=b;return _<E?Math.max(v,b):Math.max(m,b)}if(d==null)return 0;var A=v+c,x=b+d;return A>x?Math.max(m,b):Math.max(v,b)}function WH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function QH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:h}=t,d,m,v;return l.height>0&&l.width>0&&n?(m=aP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),v=aP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),d=WH({translateX:m,translateY:v,useTranslate3d:c})):d=GH,{cssProperties:d,cssClasses:YH({translateX:m,translateY:v,coordinate:n})}}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){G_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_(t,e,n){return(e=XH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=ZH(t,"string");return typeof e=="symbol"?e:e+""}function ZH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JH extends S.PureComponent{constructor(){super(...arguments),G_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),G_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:h,offset:d,position:m,reverseDirection:v,useTranslate3d:b,viewBox:_,wrapperStyle:E,lastBoundingBox:A,innerRef:x,hasPortalFromProps:P}=this.props,{cssClasses:z,cssProperties:V}=QH({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:v,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:_}),$=P?{}:Em(Em({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),U=Em(Em({},$),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:U,ref:x},o)}}var eK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oo={devToolsEnabled:!1,isSsr:eK()},jk=()=>Te(t=>t.rootProps.accessibilityLayer);function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(null,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){tK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tK(t,e,n){return(e=nK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=rK(t,"string");return typeof e=="symbol"?e:e+""}function rK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uP={curveBasisClosed:t7,curveBasisOpen:n7,curveBasis:e7,curveBumpX:z8,curveBumpY:B8,curveLinearClosed:r7,curveLinear:bg,curveMonotoneX:i7,curveMonotoneY:a7,curveNatural:s7,curveStep:o7,curveStepAfter:u7,curveStepBefore:l7},Am=t=>$n(t.x)&&$n(t.y),df=t=>t.x,mf=t=>t.y,iK=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(mh(t));return(n==="curveMonotone"||n==="curveBump")&&e?uP["".concat(n).concat(e==="vertical"?"Y":"X")]:uP[n]||bg},aK=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=t,l=iK(e,a),c=o?n.filter(Am):n,h;if(Array.isArray(r)){var d=o?r.filter(v=>Am(v)):r,m=c.map((v,b)=>lP(lP({},v),{},{base:d[b]}));return a==="vertical"?h=pm().y(mf).x1(df).x0(v=>v.base.x):h=pm().x(df).y1(mf).y0(v=>v.base.y),h.defined(Am).curve(l),h(m)}return a==="vertical"&&Pe(r)?h=pm().y(mf).x1(df).x0(r):Pe(r)?h=pm().x(df).y1(mf).y0(r):h=EM().x(df).y(mf),h.defined(Am).curve(l),h(c)},BE=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?aK(t):r;return S.createElement("path",Y_({},Qr(t),OE(t),{className:nt("recharts-curve",e),d:o===null?void 0:o,ref:a}))},sK=["x","y","top","left","width","height","className"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){lK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lK(t,e,n){return(e=uK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=cK(t,"string");return typeof e=="symbol"?e:e+""}function cK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fK(t,e){if(t==null)return{};var n,r,a=hK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dK=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),mK=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,h=fK(t,sK),d=oK({x:e,y:n,top:r,left:a,width:o,height:l},h);return!Pe(e)||!Pe(n)||!Pe(o)||!Pe(l)||!Pe(r)||!Pe(a)?null:S.createElement("path",W_({},Xn(d),{className:nt("recharts-cross",c),d:dK(e,n,o,l,r,a)}))};function pK(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){vK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vK(t,e,n){return(e=yK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t,e){var n=gK({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function _K(){}function wK(t){return t!=null}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){EK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EK(t,e,n){return(e=AK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=SK(t,"string");return typeof e=="symbol"?e:e+""}function SK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TK=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Lk=(t,e,n)=>t.map(r=>"".concat(TK(r)," ").concat(e,"ms ").concat(n)).join(","),xK=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Yf=(t,e)=>Object.keys(e).reduce((n,r)=>dP(dP({},n),{},{[r]:t(r,e[r])}),{});function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){OK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OK(t,e,n){return(e=CK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=IK(t,"string");return typeof e=="symbol"?e:e+""}function IK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ep=(t,e,n)=>t+(e-t)*n,Q_=t=>{var{from:e,to:n}=t;return e!==n},Vk=(t,e,n)=>{var r=Yf((a,o)=>{if(Q_(o)){var[l,c]=t(o.from,o.to,o.velocity);return Rn(Rn({},o),{},{from:l,velocity:c})}return o},e);return n<1?Yf((a,o)=>Q_(o)?Rn(Rn({},o),{},{velocity:Ep(o.velocity,r[a].velocity,n),from:Ep(o.from,r[a].from,n)}):o,e):Vk(t,r,n-1)};function PK(t,e,n,r,a,o){var l,c=r.reduce((b,_)=>Rn(Rn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>Yf((b,_)=>_.from,c),d=()=>!Object.values(c).filter(Q_).length,m=null,v=b=>{l||(l=b);var _=b-l,E=_/n.dt;c=Vk(n,c,E),a(Rn(Rn(Rn({},t),e),h())),l=b,d()||(m=o.setTimeout(v))};return()=>(m=o.setTimeout(v),()=>{m()})}function RK(t,e,n,r,a,o,l){var c=null,h=a.reduce((v,b)=>Rn(Rn({},v),{},{[b]:[t[b],e[b]]}),{}),d,m=v=>{d||(d=v);var b=(v-d)/r,_=Yf((A,x)=>Ep(...x,n(b)),h);if(o(Rn(Rn(Rn({},t),e),_)),b<1)c=l.setTimeout(m);else{var E=Yf((A,x)=>Ep(...x,n(1)),h);o(Rn(Rn(Rn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{c()})}const DK=(t,e,n,r,a,o)=>{var l=xK(t,e);return n.isStepper===!0?PK(t,e,n,l,a,o):RK(t,e,n,r,l,a,o)};var Ap=1e-4,Uk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],zk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pP=(t,e)=>n=>{var r=Uk(t,e);return zk(r,n)},NK=(t,e)=>n=>{var r=Uk(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return zk(a,n)},gP=function(){for(var e,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=l[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,a]=l);var d=pP(e,n),m=pP(r,a),v=NK(e,n),b=E=>E>1?1:E<0?0:E,_=E=>{for(var A=E>1?1:E,x=A,P=0;P<8;++P){var z=d(x)-A,V=v(x);if(Math.abs(z-A)<Ap||V<Ap)return m(x);x=b(x-z/V)}return m(x)};return _.isStepper=!1,_},MK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,h)=>{var d=-(l-c)*n,m=h*r,v=h+(d-m)*a/1e3,b=h*a/1e3+l;return Math.abs(b-c)<Ap&&Math.abs(v)<Ap?[c,0]:[b,v]};return o.isStepper=!0,o.dt=a,o},kK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(t);case"spring":return MK();default:if(t.split("(")[0]==="cubic-bezier")return gP(t)}return typeof t=="function"?t:null};function jK(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[h,...d]=c;if(typeof h=="number"){a=t.setTimeout(o.bind(null,d),h);return}o(h),a=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class LK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}function VK(){return jK(new LK)}var UK=S.createContext(VK);function zK(t,e){var n=S.useContext(UK);return S.useMemo(()=>e??n(t),[t,e,n])}var BK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Sb={t:1};function bh(t){var e=Fn(t,BK),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:h,children:d}=e,m=zK(e.animationId,e.animationManager),[v,b]=S.useState(n?vP:Sb),_=S.useRef(null);return S.useEffect(()=>{n||b(Sb)},[n]),S.useEffect(()=>{if(!n||!r)return _K;var E=DK(vP,Sb,kK(o),a,b,m.getTimeoutController()),A=()=>{_.current=E()};return m.start([h,l,A,a,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,a,o,l,h,c,m]),d(v.t)}function _h(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Ff(e)),r=S.useRef(t);return r.current!==t&&(n.current=Ff(e),r.current=t),n.current}var qK=["radius"],$K=["radius"];function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){FK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FK(t,e,n){return(e=HK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t){var e=KK(t,"string");return typeof e=="symbol"?e:e+""}function KK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(null,arguments)}function _P(t,e){if(t==null)return{};var n,r,a=GK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function GK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wP=(t,e,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,b=4;v<b;v++)m[v]=a[v]>o?o:a[v];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);d="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},YK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=t=>{var e=Fn(t,YK),n=S.useRef(null),[r,a]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&a(W)}catch{}},[]);var{x:o,y:l,width:c,height:h,radius:d,className:m}=e,{animationEasing:v,animationDuration:b,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:A}=e,x=S.useRef(c),P=S.useRef(h),z=S.useRef(o),V=S.useRef(l),$=S.useMemo(()=>({x:o,y:l,width:c,height:h,radius:d}),[o,l,c,h,d]),U=_h($,"rectangle-");if(o!==+o||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var F=nt("recharts-rectangle",m);if(!A){var C=Xn(e),{radius:R}=C,N=_P(C,qK);return S.createElement("path",Sp({},N,{radius:typeof d=="number"?d:void 0,className:F,d:wP(o,l,c,h,d)}))}var B=x.current,j=P.current,L=z.current,M=V.current,de="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),K=Lk(["strokeDasharray"],b,typeof v=="string"?v:void 0);return S.createElement(bh,{animationId:U,key:U,canBegin:r>0,duration:b,easing:v,isActive:A,begin:_},W=>{var ue=Vt(B,c,W),pe=Vt(j,h,W),we=Vt(L,o,W),q=Vt(M,l,W);n.current&&(x.current=ue,P.current=pe,z.current=we,V.current=q);var te;E?W>0?te={transition:K,strokeDasharray:be}:te={strokeDasharray:de}:te={strokeDasharray:be};var fe=Xn(e),{radius:me}=fe,ye=_P(fe,$K);return S.createElement("path",Sp({},ye,{radius:typeof d=="number"?d:void 0,className:F,d:wP(we,q,ue,pe,d),ref:n,style:bP(bP({},te),e.style)}))})};function qk(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=sn(e,n,r,a),c=sn(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(null,arguments)}var WK=(t,e)=>{var n=Nn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Sm=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:h}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/wp,v=h?a:a+o*m,b=sn(e,n,d,v),_=sn(e,n,r,v),E=h?a-o*m:a,A=sn(e,n,d*Math.cos(m*wp),E);return{center:b,circleTangency:_,lineTangency:A,theta:m}},$k=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=WK(o,l),h=o+c,d=sn(e,n,a,o),m=sn(e,n,a,h),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=sn(e,n,r,o),_=sn(e,n,r,h);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},QK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}=t,m=Nn(d-h),{circleTangency:v,lineTangency:b,theta:_}=Sm({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:A,theta:x}=Sm({cx:e,cy:n,radius:a,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:c}),P=c?Math.abs(h-d):Math.abs(h-d)-_-x;if(P<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$k({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:d});var z="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:V,lineTangency:$,theta:U}=Sm({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:C,theta:R}=Sm({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=c?Math.abs(h-d):Math.abs(h-d)-U-R;if(N<0&&o===0)return"".concat(z,"L").concat(e,",").concat(n,"Z");z+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(m>0),",").concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,"Z")}else z+="L".concat(e,",").concat(n,"Z");return z},XK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fk=t=>{var e=Fn(t,XK),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m,className:v}=e;if(o<a||d===m)return null;var b=nt("recharts-sector",v),_=o-a,E=Bn(l,_,0,!0),A;return E>0&&Math.abs(d-m)<360?A=QK({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m}):A=$k({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:m}),S.createElement("path",X_({},Xn(e),{className:b,d:A}))};function ZK(t,e,n){var r,a,o,l;if(t==="horizontal")r=e.x,o=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:h,innerRadius:d,outerRadius:m,angle:v}=e,b=sn(c,h,d,v),_=sn(c,h,m,v);r=b.x,a=b.y,o=_.x,l=_.y}else return qk(e);return[{x:r,y:a},{x:o,y:l}]}var Tb={},xb={},Ob={},EP;function JK(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Ob)),Ob}var AP;function eG(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(xb)),xb}var SP;function tG(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YM(),n=eG();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),h=new Array(c);for(let d=0;d<c;d++)h[d]=a,a+=l;return h}t.range=r})(Tb)),Tb}var Cb,TP;function nG(){return TP||(TP=1,Cb=tG().range),Cb}var rG=nG();const Hk=na(rG);function Hs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qE(t){let e,n,r;t.length!==2?(e=Hs,n=(c,h)=>Hs(t(c),h),r=(c,h)=>t(c)-h):(e=t===Hs||t===iG?t:aG,n=t,r=t);function a(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const v=d+m>>>1;n(c[v],h)<0?d=v+1:m=v}while(d<m)}return d}function o(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const v=d+m>>>1;n(c[v],h)<=0?d=v+1:m=v}while(d<m)}return d}function l(c,h,d=0,m=c.length){const v=a(c,h,d,m-1);return v>d&&r(c[v-1],h)>-r(c[v],h)?v-1:v}return{left:a,center:l,right:o}}function aG(){return 0}function Kk(t){return t===null?NaN:+t}function*sG(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oG=qE(Hs),wh=oG.right;qE(Kk).center;class xP extends Map{constructor(e,n=cG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(OP(this,e))}has(e){return super.has(OP(this,e))}set(e,n){return super.set(lG(this,e),n)}delete(e){return super.delete(uG(this,e))}}function OP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fG(t=Hs){if(t===Hs)return Gk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Gk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hG=Math.sqrt(50),dG=Math.sqrt(10),mG=Math.sqrt(2);function Tp(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=hG?10:o>=dG?5:o>=mG?2:1;let c,h,d;return a<0?(d=Math.pow(10,-a)/l,c=Math.round(t*d),h=Math.round(e*d),c/d<t&&++c,h/d>e&&--h,d=-d):(d=Math.pow(10,a)*l,c=Math.round(t/d),h=Math.round(e/d),c*d<t&&++c,h*d>e&&--h),h<c&&.5<=n&&n<2?Tp(t,e,n*2):[c,h,d]}function Z_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?Tp(e,t,n):Tp(t,e,n);if(!(o>=a))return[];const c=o-a+1,h=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)h[d]=(o-d)/-l;else for(let d=0;d<c;++d)h[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)h[d]=(a+d)/-l;else for(let d=0;d<c;++d)h[d]=(a+d)*l;return h}function J_(t,e,n){return e=+e,t=+t,n=+n,Tp(t,e,n)[2]}function ew(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?J_(e,t,n):J_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function CP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Yk(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?Gk:fG(a);r>n;){if(r-n>600){const h=r-n+1,d=e-n+1,m=Math.log(h),v=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*v*(h-v)/h)*(d-h/2<0?-1:1),_=Math.max(n,Math.floor(e-d*v/h+b)),E=Math.min(r,Math.floor(e+(h-d)*v/h+b));Yk(t,e,_,E,a)}const o=t[e];let l=n,c=r;for(pf(t,n,e),a(t[r],o)>0&&pf(t,n,r);l<c;){for(pf(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?pf(t,n,c):(++c,pf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function pf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pG(t,e,n){if(t=Float64Array.from(sG(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return IP(t);if(e>=1)return CP(t);var r,a=(r-1)*e,o=Math.floor(a),l=CP(Yk(t,o).subarray(0,o+1)),c=IP(t.subarray(o+1));return l+(c-l)*(a-o)}}function gG(t,e,n=Kk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function vG(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ga(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tw=Symbol("implicit");function $E(){var t=new xP,e=[],n=[],r=tw;function a(o){let l=t.get(o);if(l===void 0){if(r!==tw)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new xP;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return $E(e,n).unknown(r)},ei.apply(a,arguments),a}function FE(){var t=$E().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,h=0,d=0,m=.5;delete t.unknown;function v(){var b=e().length,_=a<r,E=_?a:r,A=_?r:a;o=(A-E)/Math.max(1,b-h+d*2),c&&(o=Math.floor(o)),E+=(A-E-o*(b-h))*m,l=o*(1-h),c&&(E=Math.round(E),l=Math.round(l));var x=vG(b).map(function(P){return E+o*P});return n(_?x.reverse():x)}return t.domain=function(b){return arguments.length?(e(b),v()):e()},t.range=function(b){return arguments.length?([r,a]=b,r=+r,a=+a,v()):[r,a]},t.rangeRound=function(b){return[r,a]=b,r=+r,a=+a,c=!0,v()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(c=!!b,v()):c},t.padding=function(b){return arguments.length?(h=Math.min(1,d=+b),v()):h},t.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),v()):h},t.paddingOuter=function(b){return arguments.length?(d=+b,v()):d},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),v()):m},t.copy=function(){return FE(e(),[r,a]).round(c).paddingInner(h).paddingOuter(d).align(m)},ei.apply(v(),arguments)}function Wk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Wk(e())},t}function yG(){return Wk(FE.apply(null,arguments).paddingInner(1))}function HE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Eh(){}var Wf=.7,xp=1/Wf,Eu="\\s*([+-]?\\d+)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bG=/^#([0-9a-f]{3,8})$/,_G=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),wG=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),EG=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${Qf}\\)$`),AG=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${Qf}\\)$`),SG=new RegExp(`^hsl\\(${Qf},${Xi},${Xi}\\)$`),TG=new RegExp(`^hsla\\(${Qf},${Xi},${Xi},${Qf}\\)$`),PP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HE(Eh,Xf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:xG,formatHsl:OG,formatRgb:DP,toString:DP});function RP(){return this.rgb().formatHex()}function xG(){return this.rgb().formatHex8()}function OG(){return Xk(this).formatHsl()}function DP(){return this.rgb().formatRgb()}function Xf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NP(e):n===3?new lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_G.exec(t))?new lr(e[1],e[2],e[3],1):(e=wG.exec(t))?new lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EG.exec(t))?Tm(e[1],e[2],e[3],e[4]):(e=AG.exec(t))?Tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SG.exec(t))?jP(e[1],e[2]/100,e[3]/100,1):(e=TG.exec(t))?jP(e[1],e[2]/100,e[3]/100,e[4]):PP.hasOwnProperty(t)?NP(PP[t]):t==="transparent"?new lr(NaN,NaN,NaN,0):null}function NP(t){return new lr(t>>16&255,t>>8&255,t&255,1)}function Tm(t,e,n,r){return r<=0&&(t=e=n=NaN),new lr(t,e,n,r)}function CG(t){return t instanceof Eh||(t=Xf(t)),t?(t=t.rgb(),new lr(t.r,t.g,t.b,t.opacity)):new lr}function nw(t,e,n,r){return arguments.length===1?CG(t):new lr(t,e,n,r??1)}function lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HE(lr,nw,Qk(Eh,{brighter(t){return t=t==null?xp:Math.pow(xp,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lr(Xo(this.r),Xo(this.g),Xo(this.b),Op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MP,formatHex:MP,formatHex8:IG,formatRgb:kP,toString:kP}));function MP(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function IG(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function kP(){const t=Op(this.opacity);return`${t===1?"rgb(":"rgba("}${Xo(this.r)}, ${Xo(this.g)}, ${Xo(this.b)}${t===1?")":`, ${t})`}`}function Op(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=Xo(t),(t<16?"0":"")+t.toString(16)}function jP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mi(t,e,n,r)}function Xk(t){if(t instanceof mi)return new mi(t.h,t.s,t.l,t.opacity);if(t instanceof Eh||(t=Xf(t)),!t)return new mi;if(t instanceof mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,h=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+a:2-o-a,l*=60):c=h>0&&h<1?0:l,new mi(l,c,h,t.opacity)}function PG(t,e,n,r){return arguments.length===1?Xk(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HE(mi,PG,Qk(Eh,{brighter(t){return t=t==null?xp:Math.pow(xp,t),new mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new lr(Ib(t>=240?t-240:t+120,a,r),Ib(t,a,r),Ib(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new mi(LP(this.h),xm(this.s),xm(this.l),Op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Op(this.opacity);return`${t===1?"hsl(":"hsla("}${LP(this.h)}, ${xm(this.s)*100}%, ${xm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LP(t){return t=(t||0)%360,t<0?t+360:t}function xm(t){return Math.max(0,Math.min(1,t||0))}function Ib(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const KE=t=>()=>t;function RG(t,e){return function(n){return t+n*e}}function DG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function NG(t){return(t=+t)==1?Zk:function(e,n){return n-e?DG(e,n,t):KE(isNaN(e)?n:e)}}function Zk(t,e){var n=e-t;return n?RG(t,n):KE(isNaN(t)?e:t)}const VP=(function t(e){var n=NG(e);function r(a,o){var l=n((a=nw(a)).r,(o=nw(o)).r),c=n(a.g,o.g),h=n(a.b,o.b),d=Zk(a.opacity,o.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=h(m),a.opacity=d(m),a+""}}return r.gamma=t,r})(1);function MG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function kG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=Zu(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function LG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VG(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Zu(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var rw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pb=new RegExp(rw.source,"g");function UG(t){return function(){return t}}function zG(t){return function(e){return t(e)+""}}function BG(t,e){var n=rw.lastIndex=Pb.lastIndex=0,r,a,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=rw.exec(t))&&(a=Pb.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:Cp(r,a)})),n=Pb.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?zG(h[0].x):UG(e):(e=h.length,function(d){for(var m=0,v;m<e;++m)c[(v=h[m]).i]=v.x(d);return c.join("")})}function Zu(t,e){var n=typeof e,r;return e==null||n==="boolean"?KE(e):(n==="number"?Cp:n==="string"?(r=Xf(e))?(e=r,VP):BG:e instanceof Xf?VP:e instanceof Date?LG:kG(e)?MG:Array.isArray(e)?jG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VG:Cp)(t,e)}function GE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qG(t,e){e===void 0&&(e=t,t=Zu);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function $G(t){return function(){return t}}function Ip(t){return+t}var UP=[0,1];function Qn(t){return t}function iw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$G(isNaN(e)?NaN:.5)}function FG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function HG(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=iw(a,r),o=n(l,o)):(r=iw(r,a),o=n(o,l)),function(c){return o(r(c))}}function KG(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=iw(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var h=wh(t,c,1,r)-1;return o[h](a[h](c))}}function Ah(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kg(){var t=UP,e=UP,n=Zu,r,a,o,l=Qn,c,h,d;function m(){var b=Math.min(t.length,e.length);return l!==Qn&&(l=FG(t[0],t[b-1])),c=b>2?KG:HG,h=d=null,v}function v(b){return b==null||isNaN(b=+b)?o:(h||(h=c(t.map(r),e,n)))(r(l(b)))}return v.invert=function(b){return l(a((d||(d=c(e,t.map(r),Cp)))(b)))},v.domain=function(b){return arguments.length?(t=Array.from(b,Ip),m()):t.slice()},v.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},v.rangeRound=function(b){return e=Array.from(b),n=GE,m()},v.clamp=function(b){return arguments.length?(l=b?!0:Qn,m()):l!==Qn},v.interpolate=function(b){return arguments.length?(n=b,m()):n},v.unknown=function(b){return arguments.length?(o=b,v):o},function(b,_){return r=b,a=_,m()}}function YE(){return kg()(Qn,Qn)}function GG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ku(t){return t=Pp(Math.abs(t)),t?t[1]:NaN}function YG(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],h=0;a>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),o.push(n.substring(a-=c,a+c)),!((h+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function WG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var QG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zf(t){if(!(e=QG.exec(t)))throw new Error("invalid format: "+t);var e;return new WE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zf.prototype=WE.prototype;function WE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XG(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Jk;function ZG(t,e){var n=Pp(t,e);if(!n)return t+"";var r=n[0],a=n[1],o=a-(Jk=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pp(t,Math.max(0,e+o-1))[0]}function zP(t,e){var n=Pp(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const BP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zP(t*100,e),r:zP,s:ZG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qP(t){return t}var $P=Array.prototype.map,FP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JG(t){var e=t.grouping===void 0||t.thousands===void 0?qP:YG($P.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?qP:WG($P.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(v){v=Zf(v);var b=v.fill,_=v.align,E=v.sign,A=v.symbol,x=v.zero,P=v.width,z=v.comma,V=v.precision,$=v.trim,U=v.type;U==="n"?(z=!0,U="g"):BP[U]||(V===void 0&&(V=12),$=!0,U="g"),(x||b==="0"&&_==="=")&&(x=!0,b="0",_="=");var F=A==="$"?n:A==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",C=A==="$"?r:/[%p]/.test(U)?l:"",R=BP[U],N=/[defgprs%]/.test(U);V=V===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function B(j){var L=F,M=C,de,be,K;if(U==="c")M=R(j)+M,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?h:R(Math.abs(j),V),$&&(j=XG(j)),W&&+j==0&&E!=="+"&&(W=!1),L=(W?E==="("?E:c:E==="-"||E==="("?"":E)+L,M=(U==="s"?FP[8+Jk/3]:"")+M+(W&&E==="("?")":""),N){for(de=-1,be=j.length;++de<be;)if(K=j.charCodeAt(de),48>K||K>57){M=(K===46?a+j.slice(de+1):j.slice(de))+M,j=j.slice(0,de);break}}}z&&!x&&(j=e(j,1/0));var ue=L.length+j.length+M.length,pe=ue<P?new Array(P-ue+1).join(b):"";switch(z&&x&&(j=e(pe+j,pe.length?P-M.length:1/0),pe=""),_){case"<":j=L+j+M+pe;break;case"=":j=L+pe+j+M;break;case"^":j=pe.slice(0,ue=pe.length>>1)+L+j+M+pe.slice(ue);break;default:j=pe+L+j+M;break}return o(j)}return B.toString=function(){return v+""},B}function m(v,b){var _=d((v=Zf(v),v.type="f",v)),E=Math.max(-8,Math.min(8,Math.floor(ku(b)/3)))*3,A=Math.pow(10,-E),x=FP[8+E/3];return function(P){return _(A*P)+x}}return{format:d,formatPrefix:m}}var Om,QE,ej;eY({thousands:",",grouping:[3],currency:["$",""]});function eY(t){return Om=JG(t),QE=Om.format,ej=Om.formatPrefix,Om}function tY(t){return Math.max(0,-ku(Math.abs(t)))}function nY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ku(e)/3)))*3-ku(Math.abs(t)))}function rY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ku(e)-ku(t))+1}function tj(t,e,n,r){var a=ew(t,e,n),o;switch(r=Zf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=nY(a,l))&&(r.precision=o),ej(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=rY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=tY(a))&&(r.precision=o-(r.type==="%")*2);break}}return QE(r)}function lo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Z_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return tj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],h,d,m=10;for(c<l&&(d=l,l=c,c=d,d=a,a=o,o=d);m-- >0;){if(d=J_(l,c,n),d===h)return r[a]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;h=d}return t},t}function nj(){var t=YE();return t.copy=function(){return Ah(t,nj())},ei.apply(t,arguments),lo(t)}function rj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ip),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return rj(t).unknown(e)},t=arguments.length?Array.from(t,Ip):[0,1],lo(n)}function ij(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function HP(t){return Math.log(t)}function KP(t){return Math.exp(t)}function iY(t){return-Math.log(-t)}function aY(t){return-Math.exp(-t)}function sY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oY(t){return t===10?sY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GP(t){return(e,n)=>-t(-e,n)}function XE(t){const e=t(HP,KP),n=e.domain;let r=10,a,o;function l(){return a=lY(r),o=oY(r),n()[0]<0?(a=GP(a),o=GP(o),t(iY,aY)):t(HP,KP),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const h=n();let d=h[0],m=h[h.length-1];const v=m<d;v&&([d,m]=[m,d]);let b=a(d),_=a(m),E,A;const x=c==null?10:+c;let P=[];if(!(r%1)&&_-b<x){if(b=Math.floor(b),_=Math.ceil(_),d>0){for(;b<=_;++b)for(E=1;E<r;++E)if(A=b<0?E/o(-b):E*o(b),!(A<d)){if(A>m)break;P.push(A)}}else for(;b<=_;++b)for(E=r-1;E>=1;--E)if(A=b>0?E/o(-b):E*o(b),!(A<d)){if(A>m)break;P.push(A)}P.length*2<x&&(P=Z_(d,m,x))}else P=Z_(b,_,Math.min(_-b,x)).map(o);return v?P.reverse():P},e.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Zf(h)).precision==null&&(h.trim=!0),h=QE(h)),c===1/0)return h;const d=Math.max(1,r*c/e.ticks().length);return m=>{let v=m/o(Math.round(a(m)));return v*r<r-.5&&(v*=r),v<=d?h(m):""}},e.nice=()=>n(ij(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function aj(){const t=XE(kg()).domain([1,10]);return t.copy=()=>Ah(t,aj()).base(t.base()),ei.apply(t,arguments),t}function YP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZE(t){var e=1,n=t(YP(e),WP(e));return n.constant=function(r){return arguments.length?t(YP(e=+r),WP(e)):e},lo(n)}function sj(){var t=ZE(kg());return t.copy=function(){return Ah(t,sj()).constant(t.constant())},ei.apply(t,arguments)}function QP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cY(t){return t<0?-t*t:t*t}function JE(t){var e=t(Qn,Qn),n=1;function r(){return n===1?t(Qn,Qn):n===.5?t(uY,cY):t(QP(n),QP(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},lo(e)}function e1(){var t=JE(kg());return t.copy=function(){return Ah(t,e1()).exponent(t.exponent())},ei.apply(t,arguments),t}function fY(){return e1.apply(null,arguments).exponent(.5)}function XP(t){return Math.sign(t)*t*t}function hY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oj(){var t=YE(),e=[0,1],n=!1,r;function a(o){var l=hY(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(XP(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ip)).map(XP)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return oj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ei.apply(a,arguments),lo(a)}function lj(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=gG(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[wh(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Hs),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return lj().domain(t).range(e).unknown(r)},ei.apply(o,arguments)}function uj(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(h){return h!=null&&h<=h?a[wh(r,h,0,n)]:o}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,c()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,c()):a.slice()},l.invertExtent=function(h){var d=a.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return uj().domain([t,e]).range(a).unknown(o)},ei.apply(lo(l),arguments)}function cj(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[wh(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return cj().domain(t).range(e).unknown(n)},ei.apply(a,arguments)}const Rb=new Date,Db=new Date;function dn(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const h=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return h;let d;do h.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return h},a.filter=o=>dn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(Rb.setTime(+o),Db.setTime(+l),t(Rb),t(Db),Math.floor(n(Rb,Db))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const Rp=dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rp);Rp.range;const xa=1e3,Wr=xa*60,Oa=Wr*60,za=Oa*24,t1=za*7,ZP=za*30,Nb=za*365,Go=dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getUTCSeconds());Go.range;const n1=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());n1.range;const r1=dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());r1.range;const i1=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getHours());i1.range;const a1=dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getUTCHours());a1.range;const Sh=dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/za,t=>t.getDate()-1);Sh.range;const jg=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>t.getUTCDate()-1);jg.range;const fj=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>Math.floor(t/za));fj.range;function bl(t){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/t1)}const Lg=bl(0),Dp=bl(1),dY=bl(2),mY=bl(3),ju=bl(4),pY=bl(5),gY=bl(6);Lg.range;Dp.range;dY.range;mY.range;ju.range;pY.range;gY.range;function _l(t){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/t1)}const Vg=_l(0),Np=_l(1),vY=_l(2),yY=_l(3),Lu=_l(4),bY=_l(5),_Y=_l(6);Vg.range;Np.range;vY.range;yY.range;Lu.range;bY.range;_Y.range;const s1=dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());s1.range;const o1=dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());o1.range;const Ba=dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ba.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ba.range;const qa=dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qa.range;function hj(t,e,n,r,a,o){const l=[[Go,1,xa],[Go,5,5*xa],[Go,15,15*xa],[Go,30,30*xa],[o,1,Wr],[o,5,5*Wr],[o,15,15*Wr],[o,30,30*Wr],[a,1,Oa],[a,3,3*Oa],[a,6,6*Oa],[a,12,12*Oa],[r,1,za],[r,2,2*za],[n,1,t1],[e,1,ZP],[e,3,3*ZP],[t,1,Nb]];function c(d,m,v){const b=m<d;b&&([d,m]=[m,d]);const _=v&&typeof v.range=="function"?v:h(d,m,v),E=_?_.range(d,+m+1):[];return b?E.reverse():E}function h(d,m,v){const b=Math.abs(m-d)/v,_=qE(([,,x])=>x).right(l,b);if(_===l.length)return t.every(ew(d/Nb,m/Nb,v));if(_===0)return Rp.every(Math.max(ew(d,m,v),1));const[E,A]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return E.every(A)}return[c,h]}const[wY,EY]=hj(qa,o1,Vg,fj,a1,r1),[AY,SY]=hj(Ba,s1,Lg,Sh,i1,n1);function Mb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function TY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,h=t.shortMonths,d=vf(a),m=yf(a),v=vf(o),b=yf(o),_=vf(l),E=yf(l),A=vf(c),x=yf(c),P=vf(h),z=yf(h),V={a:W,A:ue,b:pe,B:we,c:null,d:iR,e:iR,f:YY,g:iW,G:sW,H:HY,I:KY,j:GY,L:dj,m:WY,M:QY,p:q,q:te,Q:oR,s:lR,S:XY,u:ZY,U:JY,V:eW,w:tW,W:nW,x:null,X:null,y:rW,Y:aW,Z:oW,"%":sR},$={a:fe,A:me,b:ye,B:Re,c:null,d:aR,e:aR,f:fW,g:wW,G:AW,H:lW,I:uW,j:cW,L:pj,m:hW,M:dW,p:je,q:ot,Q:oR,s:lR,S:mW,u:pW,U:gW,V:vW,w:yW,W:bW,x:null,X:null,y:_W,Y:EW,Z:SW,"%":sR},U={a:B,A:j,b:L,B:M,c:de,d:nR,e:nR,f:BY,g:tR,G:eR,H:rR,I:rR,j:LY,L:zY,m:jY,M:VY,p:N,q:kY,Q:$Y,s:FY,S:UY,u:PY,U:RY,V:DY,w:IY,W:NY,x:be,X:K,y:tR,Y:eR,Z:MY,"%":qY};V.x=F(n,V),V.X=F(r,V),V.c=F(e,V),$.x=F(n,$),$.X=F(r,$),$.c=F(e,$);function F(ie,Ce){return function(Me){var he=[],Dt=-1,qe=0,kt=ie.length,Ut,cr,Xa;for(Me instanceof Date||(Me=new Date(+Me));++Dt<kt;)ie.charCodeAt(Dt)===37&&(he.push(ie.slice(qe,Dt)),(cr=JP[Ut=ie.charAt(++Dt)])!=null?Ut=ie.charAt(++Dt):cr=Ut==="e"?" ":"0",(Xa=Ce[Ut])&&(Ut=Xa(Me,cr)),he.push(Ut),qe=Dt+1);return he.push(ie.slice(qe,Dt)),he.join("")}}function C(ie,Ce){return function(Me){var he=gf(1900,void 0,1),Dt=R(he,ie,Me+="",0),qe,kt;if(Dt!=Me.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(qe=kb(gf(he.y,0,1)),kt=qe.getUTCDay(),qe=kt>4||kt===0?Np.ceil(qe):Np(qe),qe=jg.offset(qe,(he.V-1)*7),he.y=qe.getUTCFullYear(),he.m=qe.getUTCMonth(),he.d=qe.getUTCDate()+(he.w+6)%7):(qe=Mb(gf(he.y,0,1)),kt=qe.getDay(),qe=kt>4||kt===0?Dp.ceil(qe):Dp(qe),qe=Sh.offset(qe,(he.V-1)*7),he.y=qe.getFullYear(),he.m=qe.getMonth(),he.d=qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),kt="Z"in he?kb(gf(he.y,0,1)).getUTCDay():Mb(gf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(kt+5)%7:he.w+he.U*7-(kt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,kb(he)):Mb(he)}}function R(ie,Ce,Me,he){for(var Dt=0,qe=Ce.length,kt=Me.length,Ut,cr;Dt<qe;){if(he>=kt)return-1;if(Ut=Ce.charCodeAt(Dt++),Ut===37){if(Ut=Ce.charAt(Dt++),cr=U[Ut in JP?Ce.charAt(Dt++):Ut],!cr||(he=cr(ie,Me,he))<0)return-1}else if(Ut!=Me.charCodeAt(he++))return-1}return he}function N(ie,Ce,Me){var he=d.exec(Ce.slice(Me));return he?(ie.p=m.get(he[0].toLowerCase()),Me+he[0].length):-1}function B(ie,Ce,Me){var he=_.exec(Ce.slice(Me));return he?(ie.w=E.get(he[0].toLowerCase()),Me+he[0].length):-1}function j(ie,Ce,Me){var he=v.exec(Ce.slice(Me));return he?(ie.w=b.get(he[0].toLowerCase()),Me+he[0].length):-1}function L(ie,Ce,Me){var he=P.exec(Ce.slice(Me));return he?(ie.m=z.get(he[0].toLowerCase()),Me+he[0].length):-1}function M(ie,Ce,Me){var he=A.exec(Ce.slice(Me));return he?(ie.m=x.get(he[0].toLowerCase()),Me+he[0].length):-1}function de(ie,Ce,Me){return R(ie,e,Ce,Me)}function be(ie,Ce,Me){return R(ie,n,Ce,Me)}function K(ie,Ce,Me){return R(ie,r,Ce,Me)}function W(ie){return l[ie.getDay()]}function ue(ie){return o[ie.getDay()]}function pe(ie){return h[ie.getMonth()]}function we(ie){return c[ie.getMonth()]}function q(ie){return a[+(ie.getHours()>=12)]}function te(ie){return 1+~~(ie.getMonth()/3)}function fe(ie){return l[ie.getUTCDay()]}function me(ie){return o[ie.getUTCDay()]}function ye(ie){return h[ie.getUTCMonth()]}function Re(ie){return c[ie.getUTCMonth()]}function je(ie){return a[+(ie.getUTCHours()>=12)]}function ot(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ce=F(ie+="",V);return Ce.toString=function(){return ie},Ce},parse:function(ie){var Ce=C(ie+="",!1);return Ce.toString=function(){return ie},Ce},utcFormat:function(ie){var Ce=F(ie+="",$);return Ce.toString=function(){return ie},Ce},utcParse:function(ie){var Ce=C(ie+="",!0);return Ce.toString=function(){return ie},Ce}}}var JP={"-":"",_:" ",0:"0"},En=/^\s*\d+/,xY=/^%/,OY=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function CY(t){return t.replace(OY,"\\$&")}function vf(t){return new RegExp("^(?:"+t.map(CY).join("|")+")","i")}function yf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function IY(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function NY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eR(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kY(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function BY(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qY(t,e,n){var r=xY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $Y(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function FY(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iR(t,e){return rt(t.getDate(),e,2)}function HY(t,e){return rt(t.getHours(),e,2)}function KY(t,e){return rt(t.getHours()%12||12,e,2)}function GY(t,e){return rt(1+Sh.count(Ba(t),t),e,3)}function dj(t,e){return rt(t.getMilliseconds(),e,3)}function YY(t,e){return dj(t,e)+"000"}function WY(t,e){return rt(t.getMonth()+1,e,2)}function QY(t,e){return rt(t.getMinutes(),e,2)}function XY(t,e){return rt(t.getSeconds(),e,2)}function ZY(t){var e=t.getDay();return e===0?7:e}function JY(t,e){return rt(Lg.count(Ba(t)-1,t),e,2)}function mj(t){var e=t.getDay();return e>=4||e===0?ju(t):ju.ceil(t)}function eW(t,e){return t=mj(t),rt(ju.count(Ba(t),t)+(Ba(t).getDay()===4),e,2)}function tW(t){return t.getDay()}function nW(t,e){return rt(Dp.count(Ba(t)-1,t),e,2)}function rW(t,e){return rt(t.getFullYear()%100,e,2)}function iW(t,e){return t=mj(t),rt(t.getFullYear()%100,e,2)}function aW(t,e){return rt(t.getFullYear()%1e4,e,4)}function sW(t,e){var n=t.getDay();return t=n>=4||n===0?ju(t):ju.ceil(t),rt(t.getFullYear()%1e4,e,4)}function oW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function aR(t,e){return rt(t.getUTCDate(),e,2)}function lW(t,e){return rt(t.getUTCHours(),e,2)}function uW(t,e){return rt(t.getUTCHours()%12||12,e,2)}function cW(t,e){return rt(1+jg.count(qa(t),t),e,3)}function pj(t,e){return rt(t.getUTCMilliseconds(),e,3)}function fW(t,e){return pj(t,e)+"000"}function hW(t,e){return rt(t.getUTCMonth()+1,e,2)}function dW(t,e){return rt(t.getUTCMinutes(),e,2)}function mW(t,e){return rt(t.getUTCSeconds(),e,2)}function pW(t){var e=t.getUTCDay();return e===0?7:e}function gW(t,e){return rt(Vg.count(qa(t)-1,t),e,2)}function gj(t){var e=t.getUTCDay();return e>=4||e===0?Lu(t):Lu.ceil(t)}function vW(t,e){return t=gj(t),rt(Lu.count(qa(t),t)+(qa(t).getUTCDay()===4),e,2)}function yW(t){return t.getUTCDay()}function bW(t,e){return rt(Np.count(qa(t)-1,t),e,2)}function _W(t,e){return rt(t.getUTCFullYear()%100,e,2)}function wW(t,e){return t=gj(t),rt(t.getUTCFullYear()%100,e,2)}function EW(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function AW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Lu(t):Lu.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function SW(){return"+0000"}function sR(){return"%"}function oR(t){return+t}function lR(t){return Math.floor(+t/1e3)}var lu,vj,yj;TW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TW(t){return lu=TY(t),vj=lu.format,lu.parse,yj=lu.utcFormat,lu.utcParse,lu}function xW(t){return new Date(t)}function OW(t){return t instanceof Date?+t:+new Date(+t)}function l1(t,e,n,r,a,o,l,c,h,d){var m=YE(),v=m.invert,b=m.domain,_=d(".%L"),E=d(":%S"),A=d("%I:%M"),x=d("%I %p"),P=d("%a %d"),z=d("%b %d"),V=d("%B"),$=d("%Y");function U(F){return(h(F)<F?_:c(F)<F?E:l(F)<F?A:o(F)<F?x:r(F)<F?a(F)<F?P:z:n(F)<F?V:$)(F)}return m.invert=function(F){return new Date(v(F))},m.domain=function(F){return arguments.length?b(Array.from(F,OW)):b().map(xW)},m.ticks=function(F){var C=b();return t(C[0],C[C.length-1],F??10)},m.tickFormat=function(F,C){return C==null?U:d(C)},m.nice=function(F){var C=b();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?b(ij(C,F)):m},m.copy=function(){return Ah(m,l1(t,e,n,r,a,o,l,c,h,d))},m}function CW(){return ei.apply(l1(AY,SY,Ba,s1,Lg,Sh,i1,n1,Go,vj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IW(){return ei.apply(l1(wY,EY,qa,o1,Vg,jg,a1,r1,Go,yj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ug(){var t=0,e=1,n,r,a,o,l=Qn,c=!1,h;function d(v){return v==null||isNaN(v=+v)?h:l(a===0?.5:(v=(o(v)-n)*a,c?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e]=v,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(v){return arguments.length?(c=!!v,d):c},d.interpolator=function(v){return arguments.length?(l=v,d):l};function m(v){return function(b){var _,E;return arguments.length?([_,E]=b,l=v(_,E),d):[l(0),l(1)]}}return d.range=m(Zu),d.rangeRound=m(GE),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return o=v,n=v(t),r=v(e),a=n===r?0:1/(r-n),d}}function uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bj(){var t=lo(Ug()(Qn));return t.copy=function(){return uo(t,bj())},Ga.apply(t,arguments)}function _j(){var t=XE(Ug()).domain([1,10]);return t.copy=function(){return uo(t,_j()).base(t.base())},Ga.apply(t,arguments)}function wj(){var t=ZE(Ug());return t.copy=function(){return uo(t,wj()).constant(t.constant())},Ga.apply(t,arguments)}function u1(){var t=JE(Ug());return t.copy=function(){return uo(t,u1()).exponent(t.exponent())},Ga.apply(t,arguments)}function PW(){return u1.apply(null,arguments).exponent(.5)}function Ej(){var t=[],e=Qn;function n(r){if(r!=null&&!isNaN(r=+r))return e((wh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Hs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>pG(t,o/r))},n.copy=function(){return Ej(e).domain(t)},Ga.apply(n,arguments)}function zg(){var t=0,e=.5,n=1,r=1,a,o,l,c,h,d=Qn,m,v=!1,b;function _(A){return isNaN(A=+A)?b:(A=.5+((A=+m(A))-o)*(r*A<r*o?c:h),d(v?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=m(t=+t),o=m(e=+e),l=m(n=+n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(v=!!A,_):v},_.interpolator=function(A){return arguments.length?(d=A,_):d};function E(A){return function(x){var P,z,V;return arguments.length?([P,z,V]=x,d=qG(A,[P,z,V]),_):[d(0),d(.5),d(1)]}}return _.range=E(Zu),_.rangeRound=E(GE),_.unknown=function(A){return arguments.length?(b=A,_):b},function(A){return m=A,a=A(t),o=A(e),l=A(n),c=a===o?0:.5/(o-a),h=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function Aj(){var t=lo(zg()(Qn));return t.copy=function(){return uo(t,Aj())},Ga.apply(t,arguments)}function Sj(){var t=XE(zg()).domain([.1,1,10]);return t.copy=function(){return uo(t,Sj()).base(t.base())},Ga.apply(t,arguments)}function Tj(){var t=ZE(zg());return t.copy=function(){return uo(t,Tj()).constant(t.constant())},Ga.apply(t,arguments)}function c1(){var t=JE(zg());return t.copy=function(){return uo(t,c1()).exponent(t.exponent())},Ga.apply(t,arguments)}function RW(){return c1.apply(null,arguments).exponent(.5)}const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FE,scaleDiverging:Aj,scaleDivergingLog:Sj,scaleDivergingPow:c1,scaleDivergingSqrt:RW,scaleDivergingSymlog:Tj,scaleIdentity:rj,scaleImplicit:tw,scaleLinear:nj,scaleLog:aj,scaleOrdinal:$E,scalePoint:yG,scalePow:e1,scaleQuantile:lj,scaleQuantize:uj,scaleRadial:oj,scaleSequential:bj,scaleSequentialLog:_j,scaleSequentialPow:u1,scaleSequentialQuantile:Ej,scaleSequentialSqrt:PW,scaleSequentialSymlog:wj,scaleSqrt:fY,scaleSymlog:sj,scaleThreshold:cj,scaleTime:CW,scaleUtc:IW,tickFormat:tj},Symbol.toStringTag,{value:"Module"}));var co=t=>t.chartData,f1=J([co],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Bg=(t,e,n,r)=>r?f1(t):co(t);function ul(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if($n(e)&&$n(n))return!0}return!1}function uR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function xj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if($n(n))a=n;else if(typeof n=="function")return;if($n(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(ul(l))return l}}function DW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ul(r))return uR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Pe(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&HI.test(a)){var h=HI.exec(a);if(h==null||e==null)l=void 0;else{var d=+h[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Pe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&KI.test(o)){var m=KI.exec(o);if(m==null||e==null)c=void 0;else{var v=+m[1];c=e[1]+v}}else c=e==null?void 0:e[1];var b=[l,c];if(ul(b))return e==null?b:uR(b,e,n)}}}var Ju=1e9,NW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d1,Ct=!0,Zr="[DecimalError] ",Zo=Zr+"Invalid argument: ",h1=Zr+"Exponent out of range: ",ec=Math.floor,Fo=Math.pow,MW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,_n=1e7,St=7,Oj=9007199254740991,Mp=ec(Oj/St),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*St;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Da(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return yt(Da(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return on(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Sr))throw Error(Zr+"NaN");if(n.s<1)throw Error(Zr+(n.s?"NaN":"-Infinity"));return n.eq(Sr)?new r(0):(Ct=!1,e=Da(Jf(n,o),Jf(t,o),o),Ct=!0,yt(e,a))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pj(e,t):Cj(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Zr+"NaN");return n.s?(Ct=!1,e=Da(n,t,0,1).times(t),Ct=!0,n.minus(e)):yt(new r(n),a)};Ee.naturalExponential=Ee.exp=function(){return Ij(this)};Ee.naturalLogarithm=Ee.ln=function(){return Jf(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cj(e,t):Pj(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zo+t);if(e=on(a)+1,r=a.d.length-1,n=r*St+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,a,o,l,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(Zr+"NaN")}for(t=on(c),Ct=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=$i(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ec((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(o=r,r=o.plus(Da(c,o,l+2)).times(.5),$i(o.d).slice(0,l)===(e=$i(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(yt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Ct=!0,yt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,a,o,l,c,h,d,m=this,v=m.constructor,b=m.d,_=(t=new v(t)).d;if(!m.s||!t.s)return new v(0);for(t.s*=m.s,n=m.e+t.e,h=b.length,d=_.length,h<d&&(o=b,b=_,_=o,l=h,h=d,d=l),o=[],l=h+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,a=h+r;a>r;)c=o[a]+_[r]*b[a-r-1]+e,o[a--]=c%_n|0,e=c/_n|0;o[a]=(o[a]+e)%_n|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ct?yt(t,v.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ta(t,0,Ju),e===void 0?e=r.rounding:ta(e,0,8),yt(n,t+on(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=cl(r,!0):(ta(t,0,Ju),e===void 0?e=a.rounding:ta(e,0,8),r=yt(new a(r),t+1,e),n=cl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?cl(a):(ta(t,0,Ju),e===void 0?e=o.rounding:ta(e,0,8),r=yt(new o(a),t+on(a)+1,e),n=cl(r.abs(),!1,t+on(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return yt(new e(t),on(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,a,o,l,c=this,h=c.constructor,d=12,m=+(t=new h(t));if(!t.s)return new h(Sr);if(c=new h(c),!c.s){if(t.s<1)throw Error(Zr+"Infinity");return c}if(c.eq(Sr))return c;if(r=h.precision,t.eq(Sr))return yt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=m<0?-m:m)<=Oj){for(a=new h(Sr),e=Math.ceil(r/St+4),Ct=!1;n%2&&(a=a.times(c),fR(a.d,e)),n=ec(n/2),n!==0;)c=c.times(c),fR(c.d,e);return Ct=!0,t.s<0?new h(Sr).div(a):yt(a,r)}}else if(o<0)throw Error(Zr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ct=!1,a=t.times(Jf(c,r+d)),Ct=!0,a=Ij(a),a.s=o,a};Ee.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=on(a),r=cl(a,n<=o.toExpNeg||n>=o.toExpPos)):(ta(t,1,Ju),e===void 0?e=o.rounding:ta(e,0,8),a=yt(new o(a),t,e),n=on(a),r=cl(a,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ta(t,1,Ju),e===void 0?e=r.rounding:ta(e,0,8)),yt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return cl(t,e<=n.toExpNeg||e>=n.toExpPos)};function Cj(t,e){var n,r,a,o,l,c,h,d,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ct?yt(e,v):e;if(h=t.d,d=e.d,l=t.e,a=e.e,h=h.slice(),o=l-a,o){for(o<0?(r=h,o=-o,c=d.length):(r=d,a=l,c=h.length),l=Math.ceil(v/St),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=h.length,o=d.length,c-o<0&&(o=c,r=d,d=h,h=r),n=0;o;)n=(h[--o]=h[o]+d[o]+n)/_n|0,h[o]%=_n;for(n&&(h.unshift(n),++a),c=h.length;h[--c]==0;)h.pop();return e.d=h,e.e=a,Ct?yt(e,v):e}function ta(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zo+t)}function $i(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=St-r.length,n&&(o+=Ds(n)),o+=r;l=t[e],r=l+"",n=St-r.length,n&&(o+=Ds(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Da=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%_n|0,l=o/_n|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,h;if(o!=l)h=o>l?1:-1;else for(c=h=0;c<o;c++)if(r[c]!=a[c]){h=r[c]>a[c]?1:-1;break}return h}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*_n+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,h,d,m,v,b,_,E,A,x,P,z,V,$,U,F,C,R,N=r.constructor,B=r.s==a.s?1:-1,j=r.d,L=a.d;if(!r.s)return new N(r);if(!a.s)throw Error(Zr+"Division by zero");for(h=r.e-a.e,C=L.length,U=j.length,_=new N(B),E=_.d=[],d=0;L[d]==(j[d]||0);)++d;if(L[d]>(j[d]||0)&&--h,o==null?z=o=N.precision:l?z=o+(on(r)-on(a))+1:z=o,z<0)return new N(0);if(z=z/St+2|0,d=0,C==1)for(m=0,L=L[0],z++;(d<U||m)&&z--;d++)V=m*_n+(j[d]||0),E[d]=V/L|0,m=V%L|0;else{for(m=_n/(L[0]+1)|0,m>1&&(L=t(L,m),j=t(j,m),C=L.length,U=j.length),$=C,A=j.slice(0,C),x=A.length;x<C;)A[x++]=0;R=L.slice(),R.unshift(0),F=L[0],L[1]>=_n/2&&++F;do m=0,c=e(L,A,C,x),c<0?(P=A[0],C!=x&&(P=P*_n+(A[1]||0)),m=P/F|0,m>1?(m>=_n&&(m=_n-1),v=t(L,m),b=v.length,x=A.length,c=e(v,A,b,x),c==1&&(m--,n(v,C<b?R:L,b))):(m==0&&(c=m=1),v=L.slice()),b=v.length,b<x&&v.unshift(0),n(A,v,x),c==-1&&(x=A.length,c=e(L,A,C,x),c<1&&(m++,n(A,C<x?R:L,x))),x=A.length):c===0&&(m++,A=[0]),E[d++]=m,c&&A[0]?A[x++]=j[$]||0:(A=[j[$]],x=1);while(($++<U||A[0]!==void 0)&&z--)}return E[0]||E.shift(),_.e=h,yt(_,l?o+on(_)+1:o)}})();function Ij(t,e){var n,r,a,o,l,c,h=0,d=0,m=t.constructor,v=m.precision;if(on(t)>16)throw Error(h1+on(t));if(!t.s)return new m(Sr);for(Ct=!1,c=v,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Fo(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new m(Sr),m.precision=c;;){if(a=yt(a.times(t),c),n=n.times(++h),l=o.plus(Da(a,n,c)),$i(l.d).slice(0,c)===$i(o.d).slice(0,c)){for(;d--;)o=yt(o.times(o),c);return m.precision=v,e==null?(Ct=!0,yt(o,v)):o}o=l}}function on(t){for(var e=t.e*St,n=t.d[0];n>=10;n/=10)e++;return e}function jb(t,e,n){if(e>t.LN10.sd())throw Ct=!0,n&&(t.precision=n),Error(Zr+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function Ds(t){for(var e="";t--;)e+="0";return e}function Jf(t,e){var n,r,a,o,l,c,h,d,m,v=1,b=10,_=t,E=_.d,A=_.constructor,x=A.precision;if(_.s<1)throw Error(Zr+(_.s?"NaN":"-Infinity"));if(_.eq(Sr))return new A(0);if(e==null?(Ct=!1,d=x):d=e,_.eq(10))return e==null&&(Ct=!0),jb(A,d);if(d+=b,A.precision=d,n=$i(E),r=n.charAt(0),o=on(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=$i(_.d),r=n.charAt(0),v++;o=on(_),r>1?(_=new A("0."+n),o++):_=new A(r+"."+n.slice(1))}else return h=jb(A,d+2,x).times(o+""),_=Jf(new A(r+"."+n.slice(1)),d-b).plus(h),A.precision=x,e==null?(Ct=!0,yt(_,x)):_;for(c=l=_=Da(_.minus(Sr),_.plus(Sr),d),m=yt(_.times(_),d),a=3;;){if(l=yt(l.times(m),d),h=c.plus(Da(l,new A(a),d)),$i(h.d).slice(0,d)===$i(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(jb(A,d+2,x).times(o+""))),c=Da(c,new A(v),d),A.precision=x,e==null?(Ct=!0,yt(c,x)):c;c=h,a+=2}}function cR(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=ec(n/St),t.d=[],r=(n+1)%St,n<0&&(r+=St),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=St;r<a;)t.d.push(+e.slice(r,r+=St));e=e.slice(r),r=St-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Mp||t.e<-Mp))throw Error(h1+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,a,o,l,c,h,d,m,v=t.d;for(l=1,o=v[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=St,a=e,d=v[m=0];else{if(m=Math.ceil((r+1)/St),o=v.length,m>=o)return t;for(d=o=v[m],l=1;o>=10;o/=10)l++;r%=St,a=r-St+l}if(n!==void 0&&(o=Fo(10,l-a-1),c=d/o%10|0,h=e<0||v[m+1]!==void 0||d%o,h=n<4?(c||h)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?a>0?d/Fo(10,l-a):0:v[m-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return h?(o=on(t),v.length=1,e=e-o-1,v[0]=Fo(10,(St-e%St)%St),t.e=ec(-e/St)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=m,o=1,m--):(v.length=m+1,o=Fo(10,St-r),v[m]=a>0?(d/Fo(10,l-a)%Fo(10,a)|0)*o:0),h)for(;;)if(m==0){(v[0]+=o)==_n&&(v[0]=1,++t.e);break}else{if(v[m]+=o,v[m]!=_n)break;v[m--]=0,o=1}for(r=v.length;v[--r]===0;)v.pop();if(Ct&&(t.e>Mp||t.e<-Mp))throw Error(h1+on(t));return t}function Pj(t,e){var n,r,a,o,l,c,h,d,m,v,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Ct?yt(e,_):e;if(h=t.d,v=e.d,r=e.e,d=t.e,h=h.slice(),l=d-r,l){for(m=l<0,m?(n=h,l=-l,c=v.length):(n=v,r=d,c=h.length),a=Math.max(Math.ceil(_/St),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,c=v.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(h[a]!=v[a]){m=h[a]<v[a];break}l=0}for(m&&(n=h,h=v,v=n,e.s=-e.s),c=h.length,a=v.length-c;a>0;--a)h[c++]=0;for(a=v.length;a>l;){if(h[--a]<v[a]){for(o=a;o&&h[--o]===0;)h[o]=_n-1;--h[o],h[a]+=_n}h[a]-=v[a]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Ct?yt(e,_):e):new b(0)}function cl(t,e,n){var r,a=on(t),o=$i(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ds(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Ds(-a-1)+o,n&&(r=n-l)>0&&(o+=Ds(r))):a>=l?(o+=Ds(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+Ds(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=Ds(r))),t.s<0?"-"+o:o}function fR(t,e){if(t.length>e)return t.length=e,!0}function Rj(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Zo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return cR(l,o.toString())}else if(typeof o!="string")throw Error(Zo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,MW.test(o))cR(l,o);else throw Error(Zo+o)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Rj,a.config=a.set=kW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function kW(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,n,r,a=["precision",1,Ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(ec(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Zo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zo+n+": "+r);return this}var d1=Rj(NW);Sr=new d1(1);const ft=d1;var jW=t=>t,Dj={},Nj=t=>t===Dj,hR=t=>function e(){return arguments.length===0||arguments.length===1&&Nj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Mj=(t,e)=>t===1?e:hR(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==Dj).length;return o>=t?e(...r):Mj(t-o,hR(function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];var d=r.map(m=>Nj(m)?c.shift():m);return e(...d,...c)}))}),qg=t=>Mj(t.length,t),aw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},LW=qg((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),VW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return jW;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,h)=>h(c),o(...arguments))}},sw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),kj=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e&&a.every((l,c)=>{var h;return l===((h=e)===null||h===void 0?void 0:h[c])})||(e=a,n=t(...a)),n}};function jj(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function Lj(t,e,n){for(var r=new ft(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}qg((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});qg((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});qg((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Vj=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},Uj=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=jj(t.toNumber()),a=new ft(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new ft(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=c.mul(a);return e?new ft(h.toNumber()):new ft(Math.ceil(h.toNumber()))},UW=(t,e,n)=>{var r=new ft(1),a=new ft(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new ft(10).pow(jj(t)-1),a=new ft(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):n||(a=new ft(Math.floor(t)));var l=Math.floor((e-1)/2),c=VW(LW(h=>a.add(new ft(h-l).mul(r)).toNumber()),aw);return c(0,e)},zj=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var l=Uj(new ft(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new ft(0):(c=new ft(e).add(n).div(2),c=c.sub(new ft(c).mod(l)));var h=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new ft(n).sub(c).div(l).toNumber()),m=h+d+1;return m>r?zj(e,n,r,a,o+1):(m<r&&(d=n>0?d+(r-m):d,h=n>0?h:h+(r-m)),{step:l,tickMin:c.sub(new ft(h).mul(l)),tickMax:c.add(new ft(d).mul(l))})};function zW(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=Vj([e,n]);if(l===-1/0||c===1/0){var h=c===1/0?[l,...aw(0,r-1).map(()=>1/0)]:[...aw(0,r-1).map(()=>-1/0),c];return e>n?sw(h):h}if(l===c)return UW(l,r,a);var{step:d,tickMin:m,tickMax:v}=zj(l,c,o,a,0),b=Lj(m,v.add(new ft(.1).mul(d)),d);return e>n?sw(b):b}function BW(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Vj([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),h=Uj(new ft(l).sub(o).div(c-1),a,0),d=[...Lj(new ft(o),new ft(l),h),l];return a===!1&&(d=d.map(m=>Math.round(m))),n>r?sw(d):d}var qW=kj(zW),$W=kj(BW),Bj=t=>t.rootProps.maxBarSize,FW=t=>t.rootProps.barGap,qj=t=>t.rootProps.barCategoryGap,HW=t=>t.rootProps.barSize,Th=t=>t.rootProps.stackOffset,m1=t=>t.options.chartName,p1=t=>t.rootProps.syncId,$j=t=>t.rootProps.syncMethod,g1=t=>t.options.eventEmitter,Ea={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Er={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$g=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},KW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ea.angleAxisId,includeHidden:!1,name:void 0,reversed:Ea.reversed,scale:Ea.scale,tick:Ea.tick,tickCount:void 0,ticks:void 0,type:Ea.type,unit:void 0},GW={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:Er.type,unit:void 0},YW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ea.scale,tick:Ea.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WW={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:"category",unit:void 0},v1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YW:KW,y1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?WW:GW,Fg=t=>t.polarOptions,b1=J([Ha,Ka,hn],Ak),Fj=J([Fg,b1],(t,e)=>{if(t!=null)return Bn(t.innerRadius,e,0)}),Hj=J([Fg,b1],(t,e)=>{if(t!=null)return Bn(t.outerRadius,e,e*.8)}),QW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Kj=J([Fg],QW);J([v1,Kj],$g);var Gj=J([b1,Fj,Hj],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([y1,Gj],$g);var Yj=J([Je,Fg,Fj,Hj,Ha,Ka],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:h,endAngle:d}=e;return{cx:Bn(l,a,a/2),cy:Bn(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:d,clockWise:!1}}}),Rt=(t,e)=>e,xh=(t,e,n)=>n;function _1(t){return t==null?void 0:t.id}var mn=t=>{var e=Je(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},tc=t=>t.tooltip.settings.axisId,pn=t=>{var e=mn(t),n=tc(t);return Oh(t,e,n)},Wj=J([pn],t=>t==null?void 0:t.dataKey);function Qj(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var h,d=(h=c.data)!==null&&h!==void 0?h:r;if(!(d==null||d.length===0)){var m=_1(c);d.forEach((v,b)=>{var _=o==null||a?b:String(wt(v,o,null)),E=wt(v,c.dataKey,0),A;l.has(_)?A=l.get(_):A={},Object.assign(A,{[m]:E}),l.set(_,A)})}}),Array.from(l.values())}function Hg(t){return t.stackId!=null&&t.dataKey!=null}var Kg=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Gg(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=JW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ow=[0,"auto"],_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xj=(t,e)=>t.cartesianAxis.xAxis[e],Ya=(t,e)=>{var n=Xj(t,e);return n??_r},wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ow,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yh},Zj=(t,e)=>t.cartesianAxis.yAxis[e],Wa=(t,e)=>{var n=Zj(t,e);return n??wr},eQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},w1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??eQ},Mt=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);case"zAxis":return w1(t,n);case"angleAxis":return v1(t,n);case"radiusAxis":return y1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tQ=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oh=(t,e,n)=>{switch(e){case"xAxis":return Ya(t,n);case"yAxis":return Wa(t,n);case"angleAxis":return v1(t,n);case"radiusAxis":return y1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Jj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function E1(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Yg=t=>t.graphicalItems.cartesianItems,nQ=J([Rt,xh],E1),A1=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Ch=J([Yg,Mt,nQ],A1,{memoizeOptions:{resultEqualityCheck:Gg}}),eL=J([Ch],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Hg)),tL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),rQ=J([Ch],tL),S1=t=>t.map(e=>e.data).filter(Boolean).flat(1),iQ=J([Ch],S1,{memoizeOptions:{resultEqualityCheck:Gg}}),T1=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},x1=J([iQ,Bg],T1),O1=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:wt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:wt(a,r)}))):t.map(r=>({value:r})),Wg=J([x1,Mt,Ch],O1);function nL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function qm(t){if(ea(t)||t instanceof Date){var e=Number(t);if($n(e))return e}}function mR(t){if(Array.isArray(t)){var e=[qm(t[0]),qm(t[1])];return ul(e)?e:void 0}var n=qm(t);if(n!=null)return[n,n]}function nc(t){return t.map(qm).filter(wK)}function aQ(t,e,n){return!n||typeof e!="number"||bi(e)?[]:n.length?nc(n.flatMap(r=>{var a=wt(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!$n(o)||!$n(l)))return[e-o,e+l]})):[]}var sQ=J([eL,Bg,pn],Qj),rL=(t,e,n)=>{var r={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,h=c.map(_1);return[l,{stackedData:$F(t,h,n),graphicalItems:c}]}))},lw=J([sQ,eL,Th],rL),iL=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=YF(t,a,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},oQ=J([Mt],t=>t.allowDataOverflow),C1=t=>{var e;if(t==null||!("domain"in t))return ow;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=nc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:ow},I1=J([Mt],C1),P1=J([I1,oQ],xj),lQ=J([lw,co,Rt,P1],iL,{memoizeOptions:{resultEqualityCheck:Kg}}),Qg=t=>t.errorBars,uQ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>nL(n,r)),jp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},R1=(t,e,n,r,a)=>{var o,l;if(n.length>0&&t.forEach(c=>{n.forEach(h=>{var d,m,v=(d=r[h.id])===null||d===void 0?void 0:d.filter(P=>nL(a,P)),b=wt(c,(m=e.dataKey)!==null&&m!==void 0?m:h.dataKey),_=aQ(c,b,v);if(_.length>=2){var E=Math.min(..._),A=Math.max(..._);(o==null||E<o)&&(o=E),(l==null||A>l)&&(l=A)}var x=mR(b);x!=null&&(o=o==null?x[0]:Math.min(o,x[0]),l=l==null?x[1]:Math.max(l,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var h=mR(wt(c,e.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),$n(o)&&$n(l))return[o,l]},cQ=J([x1,Mt,rQ,Qg,Rt],R1,{memoizeOptions:{resultEqualityCheck:Kg}});function fQ(t){var{value:e}=t;if(ea(e)||e instanceof Date)return e}var hQ=(t,e,n)=>{var r=t.map(fQ).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&MM(r))?Hk(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},aL=t=>t.referenceElements.dots,rc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),dQ=J([aL,Rt,xh],rc),sL=t=>t.referenceElements.areas,mQ=J([sL,Rt,xh],rc),oL=t=>t.referenceElements.lines,pQ=J([oL,Rt,xh],rc),lL=(t,e)=>{var n=nc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gQ=J(dQ,Rt,lL),uL=(t,e)=>{var n=nc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vQ=J([mQ,Rt],uL),cL=(t,e)=>{var n=nc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yQ=J(pQ,Rt,cL),bQ=J(gQ,yQ,vQ,(t,e,n)=>jp(t,n,e)),D1=(t,e,n,r,a,o,l,c)=>{if(n!=null)return n;var h=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=h?jp(r,o,a):jp(o,a);return DW(e,d,t.allowDataOverflow)},_Q=J([Mt,I1,P1,lQ,cQ,bQ,Je,Rt],D1,{memoizeOptions:{resultEqualityCheck:Kg}}),wQ=[0,1],N1=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:h}=t,d=so(e,o);return d&&c==null?Hk(0,n.length):h==="category"?hQ(r,t,d):a==="expand"?wQ:l}},M1=J([Mt,Je,x1,Wg,Th,Rt,_Q],N1),fL=(t,e,n,r,a)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(mh(o));return c in Of?c:"point"}}},ic=J([Mt,Je,Jj,m1,Rt],fL);function EQ(t){if(t!=null){if(t in Of)return Of[t]();var e="scale".concat(mh(t));if(e in Of)return Of[e]()}}function k1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=EQ(e);if(a!=null){var o=a.domain(n).range(r);return VF(o),o}}}var j1=(t,e,n)=>{var r=C1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(t))return qW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ul(t))return $W(t,e.tickCount,e.allowDecimals)}},L1=J([M1,Oh,ic],j1),V1=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ul(e)&&Array.isArray(n)&&n.length>0){var a=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return e},AQ=J([Mt,M1,L1,Rt],V1),SQ=J(Wg,Mt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(nc(t.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),hL=J(SQ,Je,qj,hn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!$n(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=Bn(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),TQ=(t,e)=>{var n=Ya(t,e);return n==null||typeof n.padding!="string"?0:hL(t,"xAxis",e,n.padding)},xQ=(t,e)=>{var n=Wa(t,e);return n==null||typeof n.padding!="string"?0:hL(t,"yAxis",e,n.padding)},OQ=J(Ya,TQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),CQ=J(Wa,xQ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),IQ=J([hn,OQ,Pg,Ig,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),PQ=J([hn,Je,CQ,Pg,Ig,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ih=(t,e,n,r)=>{var a;switch(e){case"xAxis":return IQ(t,n,r);case"yAxis":return PQ(t,n,r);case"zAxis":return(a=w1(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return Kj(t);case"radiusAxis":return Gj(t,n);default:return}},dL=J([Mt,Ih],$g),ac=J([Mt,ic,AQ,dL],k1);J([Ch,Qg,Rt],uQ);function mL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Xg=(t,e)=>e,Zg=(t,e,n)=>n,RQ=J(Og,Xg,Zg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(mL)),DQ=J(Cg,Xg,Zg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(mL)),pL=(t,e)=>({width:t.width,height:e.height}),NQ=(t,e)=>{var n=typeof e.width=="number"?e.width:yh;return{width:n,height:t.height}},gL=J(hn,Ya,pL),MQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},kQ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},jQ=J(Ka,hn,RQ,Xg,Zg,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=pL(e,c);l==null&&(l=MQ(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(d)*h.height,l+=(d?-1:1)*h.height}),o}),LQ=J(Ha,hn,DQ,Xg,Zg,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var h=NQ(e,c);l==null&&(l=kQ(e,r,t));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(d)*h.width,l+=(d?-1:1)*h.width}),o}),VQ=(t,e)=>{var n=Ya(t,e);if(n!=null)return jQ(t,n.orientation,n.mirror)},UQ=J([hn,Ya,VQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),zQ=(t,e)=>{var n=Wa(t,e);if(n!=null)return LQ(t,n.orientation,n.mirror)},BQ=J([hn,Wa,zQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),vL=J(hn,Wa,(t,e)=>{var n=typeof e.width=="number"?e.width:yh;return{width:n,height:t.height}}),pR=(t,e,n)=>{switch(e){case"xAxis":return gL(t,n).width;case"yAxis":return vL(t,n).height;default:return}},yL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=so(t,r),h=e.map(d=>d.value);if(l&&c&&o==="category"&&a&&MM(h))return h}},U1=J([Je,Wg,Mt,Rt],yL),bL=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=so(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},z1=J([Je,Wg,Oh,Rt],bL);J([Je,tQ,ic,ac,U1,z1,Ih,L1,Rt],(t,e,n,r,a,o,l,c,h)=>{if(e==null)return null;var d=so(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}});var qQ=(t,e,n,r,a,o,l,c,h)=>{if(!(e==null||r==null)){var d=so(t,h),{type:m,ticks:v,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=h==="angleAxis"&&o!=null&&o.length>=2?Nn(o[0]-o[1])*2*E:E;var A=v||a;if(A){var x=A.map((P,z)=>{var V=l?l.indexOf(P):P;return{index:z,coordinate:r(V)+E,value:P,offset:E}});return x.filter(P=>!bi(P.coordinate))}return d&&c?c.map((P,z)=>({coordinate:r(P)+E,value:P,index:z,offset:E})):r.ticks?r.ticks(b).map(P=>({coordinate:r(P)+E,value:P,offset:E})):r.domain().map((P,z)=>({coordinate:r(P)+E,value:l?l[P]:P,index:z,offset:E}))}},_L=J([Je,Oh,ic,ac,L1,Ih,U1,z1,Rt],qQ),$Q=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=so(t,l),{tickCount:h}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Nn(r[0]-r[1])*2*d:d,c&&o?o.map((m,v)=>({coordinate:n(m)+d,value:m,index:v,offset:d})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,v)=>({coordinate:n(m)+d,value:a?a[m]:m,index:v,offset:d}))}},Zs=J([Je,Oh,ac,Ih,U1,z1,Rt],$Q),Js=J(Mt,ac,(t,e)=>{if(!(t==null||e==null))return kp(kp({},t),{},{scale:e})}),FQ=J([Mt,ic,M1,dL],k1);J((t,e,n)=>w1(t,n),FQ,(t,e)=>{if(!(t==null||e==null))return kp(kp({},t),{},{scale:e})});var HQ=J([Je,Og,Cg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wL=t=>t.options.defaultTooltipEventType,EL=t=>t.options.validateTooltipEventTypes;function AL(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function B1(t,e){var n=wL(t),r=EL(t);return AL(e,n,r)}function KQ(t){return Te(e=>B1(e,t))}var SL=(t,e)=>{var n,r=Number(e);if(!(bi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},GQ=t=>t.tooltip.settings,Vs={active:!1,index:null,dataKey:void 0,coordinate:void 0},YQ={itemInteraction:{click:Vs,hover:Vs},axisInteraction:{click:Vs,hover:Vs},keyboardInteraction:Vs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TL=Cr({name:"tooltip",initialState:YQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Yn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ra(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Yn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:WQ,removeTooltipEntrySettings:QQ,setTooltipSettingsState:XQ,setActiveMouseOverItemIndex:xL,mouseLeaveItem:ZQ,mouseLeaveChart:OL,setActiveClickItemIndex:JQ,setMouseOverAxisIndex:CL,setMouseClickAxisIndex:eX,setSyncInteraction:uw,setKeyboardInteraction:cw}=TL.actions,tX=TL.reducer;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sX(t){return t.index!=null}var IL=(t,e,n,r)=>{if(e==null)return Vs;var a=aX(t,e,n);if(a==null)return Vs;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(sX(a)){if(o)return Cm(Cm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Cm(Cm({},Vs),{},{coordinate:a.coordinate})},q1=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!$n(r))return n;var a=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(a,Math.min(r,o)))},PL=(t,e,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var h=l[0],d=h==null?void 0:c(h.positions,o);if(d!=null)return d;var m=a==null?void 0:a[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},RL=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},Ph=t=>t.options.tooltipPayloadSearcher,sc=t=>t.tooltip;function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){oX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oX(t,e,n){return(e=lX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lX(t){var e=uX(t,"string");return typeof e=="symbol"?e:e+""}function uX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cX(t,e){return t??e}var DL=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:h,dataStartIndex:d,dataEndIndex:m}=n,v=[];return t.reduce((b,_)=>{var E,{dataDefinedOnItem:A,settings:x}=_,P=cX(A,c),z=Array.isArray(P)?Sk(P,d,m):P,V=(E=x==null?void 0:x.dataKey)!==null&&E!==void 0?E:r,$=x==null?void 0:x.nameKey,U;if(r&&Array.isArray(z)&&!Array.isArray(z[0])&&l==="axis"?U=kM(z,r,a):U=o(z,e,h,$),Array.isArray(U))U.forEach(C=>{var R=yR(yR({},x),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});b.push(GI({tooltipEntrySettings:R,dataKey:C.dataKey,payload:C.payload,value:wt(C.payload,C.dataKey),name:C.name}))});else{var F;b.push(GI({tooltipEntrySettings:x,dataKey:V,payload:U,value:wt(U,V),name:(F=wt(U,$))!==null&&F!==void 0?F:x==null?void 0:x.name}))}return b},v)}},$1=J([pn,Je,Jj,m1,mn],fL),fX=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),hX=J([mn,tc],E1),Rh=J([fX,pn,hX],A1,{memoizeOptions:{resultEqualityCheck:Gg}}),dX=J([Rh],t=>t.filter(Hg)),mX=J([Rh],S1,{memoizeOptions:{resultEqualityCheck:Gg}}),oc=J([mX,co],T1),pX=J([dX,co,pn],Qj),F1=J([oc,pn,Rh],O1),NL=J([pn],C1),gX=J([pn],t=>t.allowDataOverflow),ML=J([NL,gX],xj),vX=J([Rh],t=>t.filter(Hg)),yX=J([pX,vX,Th],rL),bX=J([yX,co,mn,ML],iL),_X=J([Rh],tL),wX=J([oc,pn,_X,Qg,mn],R1,{memoizeOptions:{resultEqualityCheck:Kg}}),EX=J([aL,mn,tc],rc),AX=J([EX,mn],lL),SX=J([sL,mn,tc],rc),TX=J([SX,mn],uL),xX=J([oL,mn,tc],rc),OX=J([xX,mn],cL),CX=J([AX,OX,TX],jp),IX=J([pn,NL,ML,bX,wX,CX,Je,mn],D1),kL=J([pn,Je,oc,F1,Th,mn,IX],N1),PX=J([kL,pn,$1],j1),RX=J([pn,kL,PX,mn],V1),jL=t=>{var e=mn(t),n=tc(t),r=!1;return Ih(t,e,n,r)},LL=J([pn,jL],$g),VL=J([pn,$1,RX,LL],k1),DX=J([Je,F1,pn,mn],yL),NX=J([Je,F1,pn,mn],bL),MX=(t,e,n,r,a,o,l,c)=>{if(e){var{type:h}=e,d=so(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return v=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Nn(a[0]-a[1])*2*v:v,d&&l?l.map((b,_)=>({coordinate:r(b)+v,value:b,index:_,offset:v})):r.domain().map((b,_)=>({coordinate:r(b)+v,value:o?o[b]:b,index:_,offset:v}))}}},Qa=J([Je,pn,$1,VL,jL,DX,NX,mn],MX),H1=J([wL,EL,GQ],(t,e,n)=>AL(n.shared,t,e)),UL=t=>t.tooltip.settings.trigger,K1=t=>t.tooltip.settings.defaultIndex,Jg=J([sc,H1,UL,K1],IL),eo=J([Jg,oc],q1),zL=J([Qa,eo],SL),BL=J([Jg],t=>{if(t)return t.dataKey}),qL=J([sc,H1,UL,K1],RL),kX=J([Ha,Ka,Je,hn,Qa,K1,qL,Ph],PL),jX=J([Jg,kX],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),LX=J([Jg],t=>t.active),VX=J([qL,eo,co,Wj,zL,Ph,H1],DL),UX=J([VX],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){zX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=qX(t,"string");return typeof e=="symbol"?e:e+""}function qX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $X=()=>Te(pn),FX=()=>{var t=$X(),e=Te(Qa),n=Te(VL);return Gf(_R(_R({},t),{},{scale:n}),e)},HX=()=>Te(m1),G1=(t,e)=>e,$L=(t,e,n)=>n,Y1=(t,e,n,r)=>r,KX=J(Qa,t=>wg(t,e=>e.coordinate)),W1=J([sc,G1,$L,Y1],IL),FL=J([W1,oc],q1),GX=(t,e,n)=>{if(e!=null){var r=sc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},HL=J([sc,G1,$L,Y1],RL),Lp=J([Ha,Ka,Je,hn,Qa,Y1,HL,Ph],PL),YX=J([W1,Lp],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),KL=J(Qa,FL,SL),WX=J([HL,FL,co,Wj,KL,Ph,G1],DL),QX=J([W1],t=>({isActive:t.active,activeIndex:t.index})),XX=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o)){var h=WF(t.chartX,t.chartY,e,n,c);if(h){var d=XF(h,e),m=jF(d,l,o,r,a),v=QF(e,o,m,h);return{activeIndex:String(m),activeCoordinate:v}}}};function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){ZX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZX(t,e,n){return(e=JX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:h,chartName:d}=t,m=e,v=n,b=r;if(!c||!m||d!=="ScatterChart"&&h!=="axis")return null;var _,E;if(d==="ScatterChart")_=m,E=mK;else if(d==="BarChart")_=pK(l,m,a,o),E=Bk;else if(l==="radial"){var{cx:A,cy:x,radius:P,startAngle:z,endAngle:V}=qk(m);_={cx:A,cy:x,startAngle:z,endAngle:V,innerRadius:P,outerRadius:P},E=Fk}else _={points:ZK(l,m,a)},E=BE;var $=typeof c=="object"&&"className"in c?c.className:void 0,U=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},a),_),al(c)),{},{payload:v,payloadIndex:b,className:nt("recharts-tooltip-cursor",$)});return S.isValidElement(c)?S.cloneElement(c,U):S.createElement(E,U)}function nZ(t){var e=FX(),n=xH(),r=Dg(),a=HX();return S.createElement(tZ,fw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var GL=S.createContext(null),rZ=()=>S.useContext(GL),Lb={exports:{}},ER;function iZ(){return ER||(ER=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function o(h,d,m,v,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,v||h,b),E=n?n+d:d;return h._events[E]?h._events[E].fn?h._events[E]=[h._events[E],_]:h._events[E].push(_):(h._events[E]=_,h._eventsCount++),h}function l(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,v;if(this._eventsCount===0)return d;for(v in m=this._events)e.call(m,v)&&d.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,_=v.length,E=new Array(_);b<_;b++)E[b]=v[b].fn;return E},c.prototype.listenerCount=function(d){var m=n?n+d:d,v=this._events[m];return v?v.fn?1:v.length:0},c.prototype.emit=function(d,m,v,b,_,E){var A=n?n+d:d;if(!this._events[A])return!1;var x=this._events[A],P=arguments.length,z,V;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),P){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,v),!0;case 4:return x.fn.call(x.context,m,v,b),!0;case 5:return x.fn.call(x.context,m,v,b,_),!0;case 6:return x.fn.call(x.context,m,v,b,_,E),!0}for(V=1,z=new Array(P-1);V<P;V++)z[V-1]=arguments[V];x.fn.apply(x.context,z)}else{var $=x.length,U;for(V=0;V<$;V++)switch(x[V].once&&this.removeListener(d,x[V].fn,void 0,!0),P){case 1:x[V].fn.call(x[V].context);break;case 2:x[V].fn.call(x[V].context,m);break;case 3:x[V].fn.call(x[V].context,m,v);break;case 4:x[V].fn.call(x[V].context,m,v,b);break;default:if(!z)for(U=1,z=new Array(P-1);U<P;U++)z[U-1]=arguments[U];x[V].fn.apply(x[V].context,z)}}return!0},c.prototype.on=function(d,m,v){return o(this,d,m,v,!1)},c.prototype.once=function(d,m,v){return o(this,d,m,v,!0)},c.prototype.removeListener=function(d,m,v,b){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!b||E.once)&&(!v||E.context===v)&&l(this,_);else{for(var A=0,x=[],P=E.length;A<P;A++)(E[A].fn!==m||b&&!E[A].once||v&&E[A].context!==v)&&x.push(E[A]);x.length?this._events[_]=x.length===1?x[0]:x:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Lb)),Lb.exports}var aZ=iZ();const sZ=na(aZ);var eh=new sZ,hw="recharts.syncEvent.tooltip",AR="recharts.syncEvent.brush";function Q1(t,e){if(e){var n=Number.parseInt(e,10);if(!bi(n))return t==null?void 0:t[n]}}var oZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},YL=Cr({name:"options",initialState:oZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lZ=YL.reducer,{createEventEmitter:uZ}=YL.actions;function cZ(t){return t.tooltip.syncInteraction}var fZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WL=Cr({name:"chartData",initialState:fZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:SR,setDataStartEndIndexes:hZ,setComputedData:_ae}=WL.actions,dZ=WL.reducer,mZ=["x","y"];function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZ(t,e){if(t==null)return{};var n,r,a=bZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QL=()=>{};function _Z(){var t=Te(p1),e=Te(g1),n=Pt(),r=Te($j),a=Te(Qa),o=Dg(),l=Rg(),c=Te(h=>h.rootProps.className);S.useEffect(()=>{if(t==null)return QL;var h=(d,m,v)=>{if(e!==v&&t===d){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:E,y:A}=_,x=yZ(_,mZ),{x:P,y:z,width:V,height:$}=m.payload.sourceViewBox,U=uu(uu({},x),{},{x:l.x+(V?(E-P)/V:0)*l.width,y:l.y+($?(A-z)/$:0)*l.height});n(uu(uu({},m),{},{payload:uu(uu({},m.payload),{},{coordinate:U})}))}else n(m);return}if(a!=null){var F;if(typeof r=="function"){var C={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},R=r(a,C);F=a[R]}else r==="value"&&(F=a.find(K=>String(K.value)===m.payload.label));var{coordinate:N}=m.payload;if(F==null||m.payload.active===!1||N==null||l==null){n(uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:j}=N,L=Math.min(B,l.x+l.width),M=Math.min(j,l.y+l.height),de={x:o==="horizontal"?F.coordinate:L,y:o==="horizontal"?M:F.coordinate},be=uw({active:m.payload.active,coordinate:de,dataKey:m.payload.dataKey,index:String(F.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(be)}}};return eh.on(hw,h),()=>{eh.off(hw,h)}},[c,n,e,t,r,a,o,l])}function wZ(){var t=Te(p1),e=Te(g1),n=Pt();S.useEffect(()=>{if(t==null)return QL;var r=(a,o,l)=>{e!==l&&t===a&&n(hZ(o))};return eh.on(AR,r),()=>{eh.off(AR,r)}},[n,e,t])}function EZ(){var t=Pt();S.useEffect(()=>{t(uZ())},[t]),_Z(),wZ()}function AZ(t,e,n,r,a,o){var l=Te(_=>GX(_,t,e)),c=Te(g1),h=Te(p1),d=Te($j),m=Te(cZ),v=m==null?void 0:m.active,b=Rg();S.useEffect(()=>{if(!v&&h!=null&&c!=null){var _=uw({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:b});eh.emit(hw,h,_,c)}},[v,n,l,a,r,c,h,d,o,b])}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){SZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SZ(t,e,n){return(e=TZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=xZ(t,"string");return typeof e=="symbol"?e:e+""}function xZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OZ(t){return t.dataKey}function CZ(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(KH,e)}var CR=[],IZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!oo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vb(t){var e=Fn(t,IZ),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:m,position:v,reverseDirection:b,useTranslate3d:_,wrapperStyle:E,cursor:A,shared:x,trigger:P,defaultIndex:z,portal:V,axisId:$}=e,U=Pt(),F=typeof z=="number"?String(z):z;S.useEffect(()=>{U(XQ({shared:x,trigger:P,axisId:$,active:n,defaultIndex:F}))},[U,x,P,$,n,F]);var C=Rg(),R=jk(),N=KQ(x),{activeIndex:B,isActive:j}=Te(ye=>QX(ye,N,P,F)),L=Te(ye=>WX(ye,N,P,F)),M=Te(ye=>KL(ye,N,P,F)),de=Te(ye=>YX(ye,N,P,F)),be=L,K=rZ(),W=n??j,[ue,pe]=QM([be,W]),we=N==="axis"?M:void 0;AZ(N,P,de,we,B,W);var q=V??K;if(q==null)return null;var te=be??CR;W||(te=CR),c&&te.length&&(te=HM(be.filter(ye=>ye.value!=null&&(ye.hide!==!0||e.includeHidden)),m,OZ));var fe=te.length>0,me=S.createElement(JH,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:h,active:W,coordinate:de,hasPayload:fe,offset:d,position:v,reverseDirection:b,useTranslate3d:_,viewBox:C,wrapperStyle:E,lastBoundingBox:ue,innerRef:pe,hasPortalFromProps:!!V},CZ(l,OR(OR({},e),{},{payload:te,label:we,active:W,coordinate:de,accessibilityLayer:R})));return S.createElement(S.Fragment,null,pM.createPortal(me,q),W&&S.createElement(nZ,{cursor:A,tooltipEventType:N,coordinate:de,payload:be,index:B}))}var Dh=t=>null;Dh.displayName="Cell";function PZ(t,e,n){return(e=RZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NZ{constructor(e){PZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=LZ(t,"string");return typeof e=="symbol"?e:e+""}function LZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VZ={cacheSize:2e3,enableCache:!0},XL=MZ({},VZ),PR=new NZ(XL.cacheSize),UZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RR="recharts_measurement_span";function zZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var DR=(t,e)=>{try{var n=document.getElementById(RR);n||(n=document.createElement("span"),n.setAttribute("id",RR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,UZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oo.isSsr)return{width:0,height:0};if(!XL.enableCache)return DR(e,n);var r=zZ(e,n),a=PR.get(r);if(a)return a;var o=DR(e,n);return PR.set(r,o),o},NR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$Z=Object.keys(ZL),pu="NaN";function FZ(t,e){return t*ZL[e]}class ar{static parse(e){var n,[,r,a]=(n=qZ.exec(e))!==null&&n!==void 0?n:[];return new ar(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,bi(e)&&(this.unit=""),n!==""&&!BZ.test(n)&&(this.num=NaN,this.unit=""),$Z.includes(n)&&(this.num=FZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bi(this.num)}}function JL(t){if(t.includes(pu))return pu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=NR.exec(e))!==null&&n!==void 0?n:[],l=ar.parse(r??""),c=ar.parse(o??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return pu;e=e.replace(NR,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,v,b]=(d=MR.exec(e))!==null&&d!==void 0?d:[],_=ar.parse(m??""),E=ar.parse(b??""),A=v==="+"?_.add(E):_.subtract(E);if(A.isNaN())return pu;e=e.replace(MR,A.toString())}return e}var kR=/\(([^()]*)\)/;function HZ(t){for(var e=t,n;(n=kR.exec(e))!=null;){var[,r]=n;e=e.replace(kR,JL(r))}return e}function KZ(t){var e=t.replace(/\s+/g,"");return e=HZ(e),e=JL(e),e}function GZ(t){try{return KZ(t)}catch{return pu}}function Ub(t){var e=GZ(t.slice(5,-1));return e===pu?"":e}var YZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WZ=["dx","dy","angle","className","breakAll"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function jR(t,e){if(t==null)return{};var n,r,a=QZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function QZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e4=/[ \f\n\r\t\v\u2028\u2029]+/,t4=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];It(e)||(n?a=e.toString().split(""):a=e.toString().split(e4));var o=a.map(c=>({word:c,width:Mf(c,r).width})),l=n?0:Mf("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},XZ=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:h}=t,d=Pe(o),m=l,v=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((L,M)=>{var{word:de,width:be}=M,K=L[L.length-1];if(K&&(r==null||a||K.width+be+n<Number(r)))K.words.push(de),K.width+=be+n;else{var W={words:[de],width:be};L.push(W)}return L},[])},b=v(e),_=B=>B.reduce((j,L)=>j.width>L.width?j:L);if(!d||a)return b;var E=b.length>o||_(b).width>Number(r);if(!E)return b;for(var A="",x=B=>{var j=m.slice(0,B),L=t4({breakAll:h,style:c,children:j+A}).wordsWithComputedWidth,M=v(L),de=M.length>o||_(M).width>Number(r);return[de,M]},P=0,z=m.length-1,V=0,$;P<=z&&V<=m.length-1;){var U=Math.floor((P+z)/2),F=U-1,[C,R]=x(F),[N]=x(U);if(!C&&!N&&(P=U+1),C&&N&&(z=U-1),!C&&N){$=R;break}V++}return $||b},LR=t=>{var e=It(t)?[]:t.toString().split(e4);return[{words:e}]},ZZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!oo.isSsr){var c,h,d=t4({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:m,spaceWidth:v}=d;c=m,h=v}else return LR(r);return XZ({breakAll:o,children:r,maxLines:l,style:a},c,h,e,n)}return LR(r)},VR="#808080",ev=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:h="end",fill:d=VR}=t,m=jR(t,YZ),v=S.useMemo(()=>ZZ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:b,dy:_,angle:E,className:A,breakAll:x}=m,P=jR(m,WZ);if(!ea(n)||!ea(r)||v.length===0)return null;var z=n+(Pe(b)?b:0),V=r+(Pe(_)?_:0),$;switch(h){case"start":$=Ub("calc(".concat(o,")"));break;case"middle":$=Ub("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:$=Ub("calc(".concat(v.length-1," * -").concat(a,")"));break}var U=[];if(l){var F=v[0].width,{width:C}=m;U.push("scale(".concat(Pe(C)?C/F:1,")"))}return E&&U.push("rotate(".concat(E,", ").concat(z,", ").concat(V,")")),U.length&&(P.transform=U.join(" ")),S.createElement("text",dw({},Xn(P),{ref:e,x:z,y:V,className:nt("recharts-text",A),textAnchor:c,fill:d.includes("url")?VR:d}),v.map((R,N)=>{var B=R.words.join(x?"":" ");return S.createElement("tspan",{x:z,dy:N===0?$:a,key:"".concat(B,"-").concat(N)},B)}))});ev.displayName="Text";var JZ=["labelRef"];function eJ(t,e){if(t==null)return{};var n,r,a=tJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){nJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e,n){return(e=rJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}var n4=S.createContext(null),aJ=t=>{var{x:e,y:n,width:r,height:a,children:o}=t,l=S.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return S.createElement(n4.Provider,{value:l},o)},r4=()=>{var t=S.useContext(n4),e=Rg();return t||e},sJ=S.createContext(null),oJ=()=>{var t=S.useContext(sJ),e=Te(Yj);return t||e},lJ=t=>{var{value:e,formatter:n}=t,r=It(t.children)?e:t.children;return typeof n=="function"?n(r):r},X1=t=>t!=null&&typeof t=="function",uJ=(t,e)=>{var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},cJ=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:h,innerRadius:d,outerRadius:m,startAngle:v,endAngle:b,clockWise:_}=a,E=(d+m)/2,A=uJ(v,b),x=A>=0?1:-1,P,z;switch(e){case"insideStart":P=v+x*o,z=_;break;case"insideEnd":P=b-x*o,z=!_;break;case"end":P=b+x*o,z=_;break;default:throw new Error("Unsupported position ".concat(e))}z=A<=0?z:!z;var V=sn(c,h,E,P),$=sn(c,h,E,P+(z?1:-1)*359),U="M".concat(V.x,",").concat(V.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(z?0:1,`,
    `).concat($.x,",").concat($.y),F=It(t.id)?Ff("recharts-radial-line-"):t.id;return S.createElement("text",Aa({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:F,d:U})),S.createElement("textPath",{xlinkHref:"#".concat(F)},n))},fJ=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:h}=t,d=(c+h)/2;if(n==="outside"){var{x:m,y:v}=sn(r,a,l+e,d);return{x:m,y:v,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:_,y:E}=sn(r,a,b,d);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},i4=t=>"cx"in t&&Pe(t.cx),hJ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,o;n!=null&&!i4(n)&&(o=n);var{x:l,y:c,width:h,height:d}=e,m=d>=0?1:-1,v=m*r,b=m>0?"end":"start",_=m>0?"start":"end",E=h>=0?1:-1,A=E*r,x=E>0?"end":"start",P=E>0?"start":"end";if(a==="top"){var z={x:l+h/2,y:c-m*r,textAnchor:"middle",verticalAnchor:b};return Ft(Ft({},z),o?{height:Math.max(c-o.y,0),width:h}:{})}if(a==="bottom"){var V={x:l+h/2,y:c+d+v,textAnchor:"middle",verticalAnchor:_};return Ft(Ft({},V),o?{height:Math.max(o.y+o.height-(c+d),0),width:h}:{})}if(a==="left"){var $={x:l-A,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ft(Ft({},$),o?{width:Math.max($.x-o.x,0),height:d}:{})}if(a==="right"){var U={x:l+h+A,y:c+d/2,textAnchor:P,verticalAnchor:"middle"};return Ft(Ft({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:d}:{})}var F=o?{width:h,height:d}:{};return a==="insideLeft"?Ft({x:l+A,y:c+d/2,textAnchor:P,verticalAnchor:"middle"},F):a==="insideRight"?Ft({x:l+h-A,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},F):a==="insideTop"?Ft({x:l+h/2,y:c+v,textAnchor:"middle",verticalAnchor:_},F):a==="insideBottom"?Ft({x:l+h/2,y:c+d-v,textAnchor:"middle",verticalAnchor:b},F):a==="insideTopLeft"?Ft({x:l+A,y:c+v,textAnchor:P,verticalAnchor:_},F):a==="insideTopRight"?Ft({x:l+h-A,y:c+v,textAnchor:x,verticalAnchor:_},F):a==="insideBottomLeft"?Ft({x:l+A,y:c+d-v,textAnchor:P,verticalAnchor:b},F):a==="insideBottomRight"?Ft({x:l+h-A,y:c+d-v,textAnchor:x,verticalAnchor:b},F):a&&typeof a=="object"&&(Pe(a.x)||Va(a.x))&&(Pe(a.y)||Va(a.y))?Ft({x:l+Bn(a.x,h),y:c+Bn(a.y,d),textAnchor:"end",verticalAnchor:"end"},F):Ft({x:l+h/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},F)},dJ={offset:5};function Ns(t){var e=Fn(t,dJ),{viewBox:n,position:r,value:a,children:o,content:l,className:c="",textBreakAll:h,labelRef:d}=e,m=oJ(),v=r4(),b=r==="center"?v:m??v,_=n||b;if(!_||It(a)&&It(o)&&!S.isValidElement(l)&&typeof l!="function")return null;var E=Ft(Ft({},e),{},{viewBox:_});if(S.isValidElement(l)){var{labelRef:A}=E,x=eJ(E,JZ);return S.cloneElement(l,x)}var P;if(typeof l=="function"){if(P=S.createElement(l,E),S.isValidElement(P))return P}else P=lJ(e);var z=i4(_),V=Xn(e);if(z&&(r==="insideStart"||r==="insideEnd"||r==="end"))return cJ(e,r,P,V,_);var $=z?fJ(_,e.offset,e.position):hJ(e,_);return S.createElement(ev,Aa({ref:d,className:nt("recharts-label",c)},V,$,{breakAll:h}),P)}Ns.displayName="Label";var mJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(Ns,Aa({key:"label-implicit"},r)):ea(t)?S.createElement(Ns,Aa({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===Ns?S.cloneElement(t,Ft({key:"label-implicit"},r)):S.createElement(Ns,Aa({key:"label-implicit",content:t},r)):X1(t)?S.createElement(Ns,Aa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(Ns,Aa({},t,{key:"label-implicit"},r)):null};function pJ(t){var{label:e,labelRef:n}=t,r=r4();return mJ(e,r,n)||null}var zb={},Bb={},zR;function gJ(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Bb)),Bb}var qb={},BR;function vJ(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(qb)),qb}var qR;function yJ(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gJ(),n=vJ(),r=PE();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})(zb)),zb}var $b,$R;function bJ(){return $R||($R=1,$b=yJ().last),$b}var _J=bJ();const wJ=na(_J);var EJ=["valueAccessor"],AJ=["dataKey","clockWise","id","textBreakAll"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(null,arguments)}function FR(t,e){if(t==null)return{};var n,r,a=SJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function SJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TJ=t=>Array.isArray(t.value)?wJ(t.value):t.value,a4=S.createContext(void 0),s4=a4.Provider,o4=S.createContext(void 0),xJ=o4.Provider;function OJ(){return S.useContext(a4)}function CJ(){return S.useContext(o4)}function $m(t){var{valueAccessor:e=TJ}=t,n=FR(t,EJ),{dataKey:r,clockWise:a,id:o,textBreakAll:l}=n,c=FR(n,AJ),h=OJ(),d=CJ(),m=h||d;return!m||!m.length?null:S.createElement(kn,{className:"recharts-label-list"},m.map((v,b)=>{var _,E=It(r)?e(v,b):wt(v&&v.payload,r),A=It(o)?{}:{id:"".concat(o,"-").concat(b)};return S.createElement(Ns,Vp({key:"label-".concat(b)},Xn(v),c,A,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:l,viewBox:v.viewBox,index:b}))}))}$m.displayName="LabelList";function Z1(t){var{label:e}=t;return e?e===!0?S.createElement($m,{key:"labelList-implicit"}):S.isValidElement(e)||X1(e)?S.createElement($m,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement($m,Vp({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}var l4=t=>{var{cx:e,cy:n,r,className:a}=t,o=nt("recharts-dot",a);return e===+e&&n===+n&&r===+r?S.createElement("circle",mw({},Qr(t),OE(t),{className:o,cx:e,cy:n,r})):null},u4=t=>t.graphicalItems.polarItems,IJ=J([Rt,xh],E1),tv=J([u4,Mt,IJ],A1),PJ=J([tv],S1),nv=J([PJ,f1],T1),RJ=J([nv,Mt,tv],O1);J([nv,Mt,tv],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var o,l=wt(r,(o=e.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:wt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var HR=()=>{},DJ=J([nv,Mt,tv,Qg,Rt],R1),NJ=J([Mt,I1,P1,HR,DJ,HR,Je,Rt],D1),c4=J([Mt,Je,nv,RJ,Th,Rt,NJ],N1),MJ=J([c4,Mt,ic],j1);J([Mt,c4,MJ,Rt],V1);var kJ={radiusAxis:{},angleAxis:{}},f4=Cr({name:"polarAxis",initialState:kJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:wae,removeRadiusAxis:Eae,addAngleAxis:Aae,removeAngleAxis:Sae}=f4.actions,jJ=f4.reducer;function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zJ=(t,e)=>e,J1=J([u4,zJ],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),BJ=[],eA=(t,e,n)=>(n==null?void 0:n.length)===0?BJ:n,h4=J([f1,J1,eA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(o=>GR(GR({},e.presentationProps),o.props))),a!=null)return a}}),qJ=J([h4,J1,eA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var o,l=wt(r,e.nameKey,e.name),c;return n!=null&&(o=n[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Xu(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),$J=J([h4,J1,eA,hn],(t,e,n,r)=>{if(!(e==null||t==null))return $ee({offset:r,pieSettings:e,displayedData:t,cells:n})}),Fb={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR;function FJ(){if(YR)return gt;YR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var x=A.$$typeof;switch(x){case t:switch(A=A.type,A){case n:case a:case r:case h:case d:case b:return A;default:switch(A=A&&A.$$typeof,A){case l:case c:case v:case m:return A;case o:return A;default:return x}}case e:return x}}}return gt.ContextConsumer=o,gt.ContextProvider=l,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=v,gt.Memo=m,gt.Portal=e,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=h,gt.SuspenseList=d,gt.isContextConsumer=function(A){return E(A)===o},gt.isContextProvider=function(A){return E(A)===l},gt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},gt.isForwardRef=function(A){return E(A)===c},gt.isFragment=function(A){return E(A)===n},gt.isLazy=function(A){return E(A)===v},gt.isMemo=function(A){return E(A)===m},gt.isPortal=function(A){return E(A)===e},gt.isProfiler=function(A){return E(A)===a},gt.isStrictMode=function(A){return E(A)===r},gt.isSuspense=function(A){return E(A)===h},gt.isSuspenseList=function(A){return E(A)===d},gt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===h||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===m||A.$$typeof===l||A.$$typeof===o||A.$$typeof===c||A.$$typeof===_||A.getModuleId!==void 0)},gt.typeOf=E,gt}var WR;function HJ(){return WR||(WR=1,Fb.exports=FJ()),Fb.exports}var KJ=HJ(),QR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",XR=null,Hb=null,d4=t=>{if(t===XR&&Array.isArray(Hb))return Hb;var e=[];return S.Children.forEach(t,n=>{It(n)||(KJ.isFragment(n)?e=e.concat(d4(n.props.children)):e.push(n))}),Hb=e,XR=t,e};function tA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>QR(a)):r=[QR(e)],d4(t).forEach(a=>{var o=sl(a,"type.displayName")||sl(a,"type.name");r.indexOf(o)!==-1&&n.push(a)}),n}var m4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Kb={},ZR;function GJ(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Kb)),Kb}var Gb,JR;function YJ(){return JR||(JR=1,Gb=GJ().isPlainObject),Gb}var WJ=YJ();const QJ=na(WJ);function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){XJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(null,arguments)}var n2=(t,e,n,r,a)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+a),l+="L ".concat(t+n-o/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},eee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tee=t=>{var e=Fn(t,eee),{x:n,y:r,upperWidth:a,lowerWidth:o,height:l,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:m,isUpdateAnimationActive:v}=e,b=S.useRef(null),[_,E]=S.useState(-1),A=S.useRef(a),x=S.useRef(o),P=S.useRef(l),z=S.useRef(n),V=S.useRef(r),$=_h(t,"trapezoid-");if(S.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var de=b.current.getTotalLength();de&&E(de)}catch{}},[]),n!==+n||r!==+r||a!==+a||o!==+o||l!==+l||a===0&&o===0||l===0)return null;var U=nt("recharts-trapezoid",c);if(!v)return S.createElement("g",null,S.createElement("path",Up({},Xn(e),{className:U,d:n2(n,r,a,o,l)})));var F=A.current,C=x.current,R=P.current,N=z.current,B=V.current,j="0px ".concat(_===-1?1:_,"px"),L="".concat(_,"px 0px"),M=Lk(["strokeDasharray"],d,h);return S.createElement(bh,{animationId:$,key:$,canBegin:_>0,duration:d,easing:h,isActive:v,begin:m},de=>{var be=Vt(F,a,de),K=Vt(C,o,de),W=Vt(R,l,de),ue=Vt(N,n,de),pe=Vt(B,r,de);b.current&&(A.current=be,x.current=K,P.current=W,z.current=ue,V.current=pe);var we=de>0?{transition:M,strokeDasharray:L}:{strokeDasharray:j};return S.createElement("path",Up({},Xn(e),{className:U,d:n2(ue,pe,be,K,W),ref:b,style:t2(t2({},we),e.style)}))})},nee=["option","shapeType","propTransformer","activeClassName","isActive"];function ree(t,e){if(t==null)return{};var n,r,a=iee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function iee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aee(t,e,n){return(e=see(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lee(t,e){return zp(zp({},e),t)}function uee(t,e){return t==="symbols"}function i2(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(Bk,n);case"trapezoid":return S.createElement(tee,n);case"sector":return S.createElement(Fk,n);case"symbols":if(uee(e))return S.createElement(xE,n);break;default:return null}}function cee(t){return S.isValidElement(t)?t.props:t}function p4(t){var{option:e,shapeType:n,propTransformer:r=lee,activeClassName:a="recharts-active-shape",isActive:o}=t,l=ree(t,nee),c;if(S.isValidElement(e))c=S.cloneElement(e,zp(zp({},l),cee(e)));else if(typeof e=="function")c=e(l);else if(QJ(e)&&typeof e!="boolean"){var h=r(e,l);c=S.createElement(i2,{shapeType:n,elementProps:h})}else{var d=l;c=S.createElement(i2,{shapeType:n,elementProps:d})}return o?S.createElement(kn,{className:a},c):c}var nA=(t,e)=>{var n=Pt();return(r,a)=>o=>{t==null||t(r,a,o),n(xL({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},rA=t=>{var e=Pt();return(n,r)=>a=>{t==null||t(n,r,a),e(ZQ())}},iA=(t,e)=>{var n=Pt();return(r,a)=>o=>{t==null||t(r,a,o),n(JQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function aA(t){var{fn:e,args:n}=t,r=Pt(),a=ur();return S.useLayoutEffect(()=>{if(!a){var o=e(n);return r(WQ(o)),()=>{r(QQ(o))}}},[e,n,r,a]),null}var g4=()=>{};function v4(t){var{legendPayload:e}=t,n=Pt(),r=ur();return S.useLayoutEffect(()=>r?g4:(n(Mk(e)),()=>{n(kk(e))}),[n,r,e]),null}function fee(t){var{legendPayload:e}=t,n=Pt(),r=Te(Je);return S.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?g4:(n(Mk(e)),()=>{n(kk(e))}),[n,r,e]),null}var Yb,hee=()=>{var[t]=S.useState(()=>Ff("uid-"));return t},dee=(Yb=jV.useId)!==null&&Yb!==void 0?Yb:hee;function mee(t,e){var n=dee();return e||(t?"".concat(t,"-").concat(n):n)}var pee=S.createContext(void 0),sA=t=>{var{id:e,type:n,children:r}=t,a=mee("recharts-".concat(n),e);return S.createElement(pee.Provider,{value:a},r(a))},gee={cartesianItems:[],polarItems:[]},y4=Cr({name:"graphicalItems",initialState:gee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Yn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Ra(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Yn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ra(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Yn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Yn()},removePolarGraphicalItem:{reducer(t,e){var n=Ra(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Yn()}}}),{addCartesianGraphicalItem:vee,replaceCartesianGraphicalItem:yee,removeCartesianGraphicalItem:bee,addPolarGraphicalItem:_ee,removePolarGraphicalItem:wee}=y4.actions,Eee=y4.reducer;function b4(t){var e=Pt(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(vee(t)):n.current!==t&&e(yee({prev:n.current,next:t})),n.current=t},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(e(bee(n.current)),n.current=null)},[e]),null}function Aee(t){var e=Pt();return S.useLayoutEffect(()=>(e(_ee(t)),()=>{e(wee(t))}),[e,t]),null}var See=["onMouseEnter","onClick","onMouseLeave"],Tee=["id"],xee=["id"];function oA(t,e){if(t==null)return{};var n,r,a=Oee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Oee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function to(){return to=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},to.apply(null,arguments)}function Ree(t){var e=S.useMemo(()=>tA(t.children,Dh),[t.children]),n=Te(r=>qJ(r,t.id,e));return n==null?null:S.createElement(fee,{legendPayload:n})}function Dee(t){var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:o,fill:l,name:c,hide:h,tooltipType:d}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:l,dataKey:e,nameKey:n,name:Xu(c,e),hide:h,type:d,color:l,unit:""}}}var Nee=(t,e)=>t>e?"start":t<e?"end":"middle",Mee=(t,e,n)=>Bn(typeof e=="function"?e(t):e,n,n*.8),kee=(t,e,n)=>{var{top:r,left:a,width:o,height:l}=e,c=Ak(o,l),h=a+Bn(t.cx,o,o/2),d=r+Bn(t.cy,l,l/2),m=Bn(t.innerRadius,c,0),v=Mee(n,t.outerRadius,c),b=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:h,cy:d,innerRadius:m,outerRadius:v,maxRadius:b}},jee=(t,e)=>{var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Lee(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Vee=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=nt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return S.createElement(BE,to({},e,{type:"linear",className:n}))},Uee=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var a=nt("recharts-pie-label-text",Lee(t));return S.createElement(ev,to({},e,{alignmentBaseline:"middle",className:a}),r)};function zee(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:o,dataKey:l}=n;if(!r||!a||!e)return null;var c=Qr(n),h=al(a),d=al(o),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=e.map((b,_)=>{var E=(b.startAngle+b.endAngle)/2,A=sn(b.cx,b.cy,b.outerRadius+m,E),x=Ot(Ot(Ot(Ot({},c),b),{},{stroke:"none"},h),{},{index:_,textAnchor:Nee(A.x,b.cx)},A),P=Ot(Ot(Ot(Ot({},c),b),{},{fill:"none",stroke:b.fill},d),{},{index:_,points:[sn(b.cx,b.cy,b.outerRadius,E),A],key:"line"});return S.createElement(kn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},o&&Vee(o,P),Uee(a,x,wt(b,l)))});return S.createElement(kn,{className:"recharts-pie-labels"},v)}function Bee(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?S.createElement(Z1,{label:a}):S.createElement(zee,{sectors:e,props:n,showLabels:r})}function qee(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a}=t,o=Te(eo),{onMouseEnter:l,onClick:c,onMouseLeave:h}=a,d=oA(a,See),m=nA(l,a.dataKey),v=rA(h),b=iA(c,a.dataKey);return e==null||e.length===0?null:S.createElement(S.Fragment,null,e.map((_,E)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var A=n&&String(E)===o,x=o?r:null,P=A?n:x,z=Ot(Ot({},_),{},{stroke:_.stroke,tabIndex:-1,[xk]:E,[Ok]:a.dataKey});return S.createElement(kn,to({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},ph(d,_,E),{onMouseEnter:m(_,E),onMouseLeave:v(_,E),onClick:b(_,E)}),S.createElement(p4,to({option:P,isActive:A,shapeType:"sector"},z)))}))}function $ee(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:h,dataKey:d,nameKey:m,tooltipType:v}=n,b=Math.abs(n.minAngle),_=jee(c,h),E=Math.abs(_),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(F=>wt(F,d,0)!==0).length,P=(E>=360?x:x-1)*A,z=E-x*b-P,V=r.reduce((F,C)=>{var R=wt(C,d,0);return F+(Pe(R)?R:0)},0),$;if(V>0){var U;$=r.map((F,C)=>{var R=wt(F,d,0),N=wt(F,m,C),B=kee(n,o,F),j=(Pe(R)?R:0)/V,L,M=Ot(Ot({},F),a&&a[C]&&a[C].props);C?L=U.endAngle+Nn(_)*A*(R!==0?1:0):L=c;var de=L+Nn(_)*((R!==0?b:0)+j*z),be=(L+de)/2,K=(B.innerRadius+B.outerRadius)/2,W=[{name:N,value:R,payload:M,dataKey:d,type:v}],ue=sn(B.cx,B.cy,K,be);return U=Ot(Ot(Ot(Ot({},n.presentationProps),{},{percent:j,cornerRadius:l,name:N,tooltipPayload:W,midAngle:be,middleRadius:K,tooltipPosition:ue},M),B),{},{value:R,startAngle:L,endAngle:de,payload:M,paddingAngle:Nn(_)*A}),U})}return $}function Fee(t){var{showLabels:e,sectors:n,children:r}=t,a=S.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return S.createElement(xJ,{value:e?a:void 0},r)}function Hee(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:h,inactiveShape:d,onAnimationStart:m,onAnimationEnd:v}=e,b=_h(e,"recharts-pie-"),_=n.current,[E,A]=S.useState(!1),x=S.useCallback(()=>{typeof v=="function"&&v(),A(!1)},[v]),P=S.useCallback(()=>{typeof m=="function"&&m(),A(!0)},[m]);return S.createElement(Fee,{showLabels:!E,sectors:r},S.createElement(bh,{animationId:b,begin:o,duration:l,isActive:a,easing:c,onAnimationStart:P,onAnimationEnd:x,key:b},z=>{var V=[],$=r&&r[0],U=$==null?void 0:$.startAngle;return r==null||r.forEach((F,C)=>{var R=_&&_[C],N=C>0?sl(F,"paddingAngle",0):0;if(R){var B=Vt(R.endAngle-R.startAngle,F.endAngle-F.startAngle,z),j=Ot(Ot({},F),{},{startAngle:U+N,endAngle:U+B+N});V.push(j),U=j.endAngle}else{var{endAngle:L,startAngle:M}=F,de=Vt(0,L-M,z),be=Ot(Ot({},F),{},{startAngle:U+N,endAngle:U+de+N});V.push(be),U=be.endAngle}}),n.current=V,S.createElement(kn,null,S.createElement(qee,{sectors:V,activeShape:h,inactiveShape:d,allOtherPieProps:e}))}),S.createElement(Bee,{showLabels:!E,sectors:r,props:e}),e.children)}var Kee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!oo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Gee(t){var{id:e}=t,n=oA(t,Tee),{hide:r,className:a,rootTabIndex:o}=t,l=S.useMemo(()=>tA(t.children,Dh),[t.children]),c=Te(m=>$J(m,e,l)),h=S.useRef(null),d=nt("recharts-pie",a);return r||c==null?(h.current=null,S.createElement(kn,{tabIndex:o,className:d})):S.createElement(S.Fragment,null,S.createElement(aA,{fn:Dee,args:Ot(Ot({},t),{},{sectors:c})}),S.createElement(kn,{tabIndex:o,className:d},S.createElement(Hee,{props:Ot(Ot({},n),{},{sectors:c}),previousSectorsRef:h})))}function _4(t){var e=Fn(t,Kee),{id:n}=e,r=oA(e,xee),a=Qr(r);return S.createElement(sA,{id:n,type:"pie"},o=>S.createElement(S.Fragment,null,S.createElement(Aee,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),S.createElement(Ree,to({},r,{id:o})),S.createElement(Gee,to({},r,{id:o}))))}_4.displayName="Pie";function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return(e=Wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xee={xAxis:{},yAxis:{},zAxis:{}},w4=Cr({name:"cartesianAxis",initialState:Xee,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Yn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Yn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Yn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Yn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Yn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Yn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==a.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=o2(o2({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Zee,removeXAxis:Jee,addYAxis:ete,removeYAxis:tte,addZAxis:Tae,removeZAxis:xae,updateYAxisWidth:nte}=w4.actions,rte=w4.reducer,ite=J([hn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ate=J([ite,Ha,Ka],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),lA=()=>Te(ate),ste=()=>Te(UX);function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o}=t;if(a===!1||e.x==null||e.y==null)return null;var l=u2(u2({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},al(a)),OE(a)),c;return S.isValidElement(a)?c=S.cloneElement(a,l):typeof a=="function"?c=a(l):c=S.createElement(l4,l),S.createElement(kn,{className:"recharts-active-dot"},c)};function fte(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,o=Te(eo),l=ste();if(e==null||l==null)return null;var c=e.find(h=>l.includes(h.payload));return It(c)?null:cte({point:c,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r})}var hte="Invariant failed";function dte(t,e){throw new Error(hte)}var mte=["x","y"];function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=vte(t,"string");return typeof e=="symbol"?e:e+""}function vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yte(t,e){if(t==null)return{};var n,r,a=bte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _te(t,e){var{x:n,y:r}=t,a=yte(t,mte),o="".concat(n),l=parseInt(o,10),c="".concat(r),h=parseInt(c,10),d="".concat(e.height||a.height),m=parseInt(d,10),v="".concat(e.width||a.width),b=parseInt(v,10);return bf(bf(bf(bf(bf({},e),a),l?{x:l}:{}),h?{y:h}:{}),{},{height:m,width:b,name:e.name,radius:e.radius})}function uA(t){return S.createElement(p4,pw({shapeType:"rectangle",propTransformer:_te,activeClassName:"recharts-active-bar"},t))}var wte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Pe(e))return e;var o=Pe(r)||It(r);return o?e(r,a):(o||dte(),n)}},Ete={},E4=Cr({name:"errorBars",initialState:Ete,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Oae,replaceErrorBar:Cae,removeErrorBar:Iae}=E4.actions,Ate=E4.reducer,Ste=["children"];function Tte(t,e){if(t==null)return{};var n,r,a=xte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ote={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cte=S.createContext(Ote);function A4(t){var{children:e}=t,n=Tte(t,Ste);return S.createElement(Cte.Provider,{value:n},e)}function cA(t,e){var n,r,a=Te(d=>Ya(d,t)),o=Te(d=>Wa(d,e)),l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:_r.allowDataOverflow,c=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,h=l||c;return{needClip:h,needClipX:l,needClipY:c}}function S4(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=lA(),{needClipX:o,needClipY:l,needClip:c}=cA(e,n);if(!c)return null;var{x:h,y:d,width:m,height:v}=a;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:o?h:h-m/2,y:l?d:d-v/2,width:o?m:m*2,height:l?v:v*2}))}var Ite=["onMouseEnter","onMouseLeave","onClick"],Pte=["value","background","tooltipPosition"],Rte=["id"],Dte=["onMouseEnter","onClick","onMouseLeave"];function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(null,arguments)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=kte(t,"string");return typeof e=="symbol"?e:e+""}function kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bp(t,e){if(t==null)return{};var n,r,a=jte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lte=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:r,value:Xu(n,e),payload:t}]};function Vte(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Xu(o,e),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function Ute(t){var e=Te(eo),{data:n,dataKey:r,background:a,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:c,onClick:h}=o,d=Bp(o,Ite),m=nA(l,r),v=rA(c),b=iA(h,r);if(!a||n==null)return null;var _=al(a);return S.createElement(S.Fragment,null,n.map((E,A)=>{var{value:x,background:P,tooltipPosition:z}=E,V=Bp(E,Pte);if(!P)return null;var $=m(E,A),U=v(E,A),F=b(E,A),C=Wn(Wn(Wn(Wn(Wn({option:a,isActive:String(A)===e},V),{},{fill:"#eee"},P),_),ph(d,E,A)),{},{onMouseEnter:$,onMouseLeave:U,onClick:F,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return S.createElement(uA,no({key:"background-bar-".concat(A)},C))}))}function zte(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return Wn(Wn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return S.createElement(s4,{value:e?a:void 0},n)}function Bte(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:o,dataKey:l}=t,c=Te(eo),h=Te(BL),d=n&&String(o)===c&&(h==null||l===h),m=d?n:e;return S.createElement(uA,no({},r,{name:String(r.name)},a,{isActive:d,option:m,index:o,dataKey:l}))}function qte(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:o}=t;return S.createElement(uA,no({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:o}))}function $te(t){var{data:e,props:n}=t,r=Qr(n),{id:a}=r,o=Bp(r,Rte),{shape:l,dataKey:c,activeBar:h}=n,{onMouseEnter:d,onClick:m,onMouseLeave:v}=n,b=Bp(n,Dte),_=nA(d,c),E=rA(v),A=iA(m,c);return e?S.createElement(S.Fragment,null,e.map((x,P)=>S.createElement(kn,no({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(P),className:"recharts-bar-rectangle"},ph(b,x,P),{onMouseEnter:_(x,P),onMouseLeave:E(x,P),onClick:A(x,P)}),h?S.createElement(Bte,{shape:l,activeBar:h,baseProps:o,entry:x,index:P,dataKey:c}):S.createElement(qte,{shape:l,baseProps:o,entry:x,index:P,dataKey:c})))):null}function Fte(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:h,onAnimationEnd:d,onAnimationStart:m}=e,v=n.current,b=_h(e,"recharts-bar-"),[_,E]=S.useState(!1),A=!_,x=S.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),P=S.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return S.createElement(zte,{showLabels:A,rects:r},S.createElement(bh,{animationId:b,begin:l,duration:c,isActive:o,easing:h,onAnimationEnd:x,onAnimationStart:P,key:b},z=>{var V=z===1?r:r==null?void 0:r.map(($,U)=>{var F=v&&v[U];if(F)return Wn(Wn({},$),{},{x:Vt(F.x,$.x,z),y:Vt(F.y,$.y,z),width:Vt(F.width,$.width,z),height:Vt(F.height,$.height,z)});if(a==="horizontal"){var C=Vt(0,$.height,z);return Wn(Wn({},$),{},{y:$.y+$.height-C,height:C})}var R=Vt(0,$.width,z);return Wn(Wn({},$),{},{width:R})});return z>0&&(n.current=V??null),V==null?null:S.createElement(kn,null,S.createElement($te,{props:e,data:V}))}),S.createElement(Z1,{label:e.label}),e.children)}function Hte(t){var e=S.useRef(null);return S.createElement(Fte,{previousRectanglesRef:e,props:t})}var T4=0,Kte=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:wt(t,e)}};class Gte extends S.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:o,yAxisId:l,needClip:c,background:h,id:d}=this.props;if(e||n==null)return null;var m=nt("recharts-bar",a),v=d;return S.createElement(kn,{className:m,id:d},c&&S.createElement("defs",null,S.createElement(S4,{clipPathId:v,xAxisId:o,yAxisId:l})),S.createElement(kn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):void 0},S.createElement(Ute,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),S.createElement(Hte,this.props)))}}var Yte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!oo.isSsr,legendType:"rect",minPointSize:T4,xAxisId:0,yAxisId:0};function Wte(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m}=t,{needClip:v}=cA(e,n),b=Dg(),_=ur(),E=tA(t.children,Dh),A=Te(z=>Ane(z,e,n,_,t.id,E));if(b!=="vertical"&&b!=="horizontal")return null;var x,P=A==null?void 0:A[0];return P==null||P.height==null||P.width==null?x=0:x=b==="vertical"?P.height/2:P.width/2,S.createElement(A4,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Kte,errorBarOffset:x},S.createElement(Gte,no({},t,{layout:b,needClip:v,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m})))}function Qte(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:h,yAxisTicks:d,stackedData:m,displayedData:v,offset:b,cells:_,parentViewBox:E}=t,A=e==="horizontal"?c:l,x=m?A.scale.domain():null,P=HF({numericAxis:A});return v.map((z,V)=>{var $,U,F,C,R,N;m?$=UF(m[V],x):($=wt(z,n),Array.isArray($)||($=[P,$]));var B=wte(r,T4)($[1],V);if(e==="horizontal"){var j,[L,M]=[c.scale($[0]),c.scale($[1])];U=FI({axis:l,ticks:h,bandSize:o,offset:a.offset,entry:z,index:V}),F=(j=M??L)!==null&&j!==void 0?j:void 0,C=a.size;var de=L-M;if(R=bi(de)?0:de,N={x:U,y:b.top,width:C,height:b.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var be=Nn(R||B)*(Math.abs(B)-Math.abs(R));F-=be,R+=be}}else{var[K,W]=[l.scale($[0]),l.scale($[1])];if(U=K,F=FI({axis:c,ticks:d,bandSize:o,offset:a.offset,entry:z,index:V}),C=W-K,R=a.size,N={x:b.left,y:F,width:b.width,height:R},Math.abs(B)>0&&Math.abs(C)<Math.abs(B)){var ue=Nn(C||B)*(Math.abs(B)-Math.abs(C));C+=ue}}if(U==null||F==null||C==null||R==null)return null;var pe=Wn(Wn({},z),{},{x:U,y:F,width:C,height:R,value:m?$:$[1],payload:z,background:N,tooltipPosition:{x:U+C/2,y:F+R/2},parentViewBox:E},_&&_[V]&&_[V].props);return pe}).filter(Boolean)}function Xte(t){var e=Fn(t,Yte),n=ur();return S.createElement(sA,{id:e.id,type:"bar"},r=>S.createElement(S.Fragment,null,S.createElement(v4,{legendPayload:Lte(e)}),S.createElement(aA,{fn:Vte,args:e}),S.createElement(b4,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:FF(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),S.createElement(Wte,no({},e,{id:r}))))}var x4=S.memo(Xte);x4.displayName="Bar";function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){Zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e,n){return(e=Jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jte(t){var e=ene(t,"string");return typeof e=="symbol"?e:e+""}function ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tne=(t,e)=>e,nne=(t,e,n)=>n,rne=(t,e,n,r)=>r,ine=(t,e,n,r,a)=>a,Nh=J([Yg,ine],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ane=J([Nh],t=>t==null?void 0:t.maxBarSize),sne=(t,e,n,r,a,o)=>o,d2=(t,e,n)=>{var r=n??t;if(!It(r))return Bn(r,e,0)},one=J([Je,Yg,tne,nne,rne],(t,e,n,r,a)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),lne=(t,e,n,r)=>{var a=Je(t);return a==="horizontal"?lw(t,"yAxis",n,r):lw(t,"xAxis",e,r)},une=(t,e,n)=>{var r=Je(t);return r==="horizontal"?pR(t,"xAxis",e):pR(t,"yAxis",n)},cne=(t,e,n)=>{var r={},a=t.filter(Hg),o=t.filter(d=>d.stackId==null),l=a.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),c=Object.entries(l).map(d=>{var[m,v]=d,b=v.map(E=>E.dataKey),_=d2(e,n,v[0].barSize);return{stackId:m,dataKeys:b,barSize:_}}),h=o.map(d=>{var m=[d.dataKey].filter(b=>b!=null),v=d2(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:v}});return[...c,...h]},fne=J([one,HW,une],cne),hne=(t,e,n,r,a)=>{var o,l,c=Nh(t,e,n,r,a);if(c!=null){var h=Je(t),d=Bj(t),{maxBarSize:m}=c,v=It(m)?d:m,b,_;return h==="horizontal"?(b=Js(t,"xAxis",e,r),_=Zs(t,"xAxis",e,r)):(b=Js(t,"yAxis",n,r),_=Zs(t,"yAxis",n,r)),(o=(l=Gf(b,_,!0))!==null&&l!==void 0?l:v)!==null&&o!==void 0?o:0}},O4=(t,e,n,r)=>{var a=Je(t),o,l;return a==="horizontal"?(o=Js(t,"xAxis",e,r),l=Zs(t,"xAxis",e,r)):(o=Js(t,"yAxis",n,r),l=Zs(t,"yAxis",n,r)),Gf(o,l)};function dne(t,e,n,r,a){var o=r.length;if(!(o<1)){var l=Bn(t,n,0,!0),c,h=[];if($n(r[0].barSize)){var d=!1,m=n/o,v=r.reduce((P,z)=>P+(z.barSize||0),0);v+=(o-1)*l,v>=n&&(v-=(o-1)*l,l=0),v>=n&&m>0&&(d=!0,m*=.9,v=o*m);var b=(n-v)/2>>0,_={offset:b-l,size:0};c=r.reduce((P,z)=>{var V,$={stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:_.offset+_.size+l,size:d?m:(V=z.barSize)!==null&&V!==void 0?V:0}},U=[...P,$];return _=U[U.length-1].position,U},h)}else{var E=Bn(e,n,0,!0);n-2*E-(o-1)*l<=0&&(l=0);var A=(n-2*E-(o-1)*l)/o;A>1&&(A>>=0);var x=$n(a)?Math.min(A,a):A;c=r.reduce((P,z,V)=>[...P,{stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:E+(A+l)*V+(A-x)/2,size:x}}],h)}return c}}var mne=(t,e,n,r,a,o,l)=>{var c=It(l)?e:l,h=dne(n,r,a!==o?a:o,t,c);return a!==o&&h!=null&&(h=h.map(d=>Pm(Pm({},d),{},{position:Pm(Pm({},d.position),{},{offset:d.position.offset-a/2})}))),h},pne=J([fne,Bj,FW,qj,hne,O4,ane],mne),gne=(t,e,n,r)=>Js(t,"xAxis",e,r),vne=(t,e,n,r)=>Js(t,"yAxis",n,r),yne=(t,e,n,r)=>Zs(t,"xAxis",e,r),bne=(t,e,n,r)=>Zs(t,"yAxis",n,r),_ne=J([pne,Nh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),wne=(t,e)=>{var n=_1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:o}=a;if(o)return o.find(l=>l.key===n)}}}},Ene=J([lne,Nh],wne),Ane=J([hn,VE,gne,vne,yne,bne,_ne,Je,Bg,O4,Ene,Nh,sne],(t,e,n,r,a,o,l,c,h,d,m,v,b)=>{var{chartData:_,dataStartIndex:E,dataEndIndex:A}=h;if(!(v==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||a==null||o==null||d==null)){var{data:x}=v,P;if(x!=null&&x.length>0?P=x:P=_==null?void 0:_.slice(E,A+1),P!=null)return Qte({layout:c,barSettings:v,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:o,stackedData:m,displayedData:P,offset:t,cells:b})}}),C4=t=>{var{chartData:e}=t,n=Pt(),r=ur();return S.useEffect(()=>r?()=>{}:(n(SR(e)),()=>{n(SR(void 0))}),[e,n,r]),null},m2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},I4=Cr({name:"brush",initialState:m2,reducers:{setBrushSettings(t,e){return e.payload==null?m2:e.payload}}}),{setBrushSettings:Pae}=I4.actions,Sne=I4.reducer;function Tne(t,e,n){return(e=xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fA{static create(e){return new fA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}Tne(fA,"EPS",1e-4);function Cne(t){return(t%180+180)%180}var Ine=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Cne(a),l=o*Math.PI/180,c=Math.atan(r/n),h=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},Pne={dots:[],areas:[],lines:[]},P4=Cr({name:"referenceElements",initialState:Pne,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ra(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ra(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ra(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rae,removeDot:Dae,addArea:Nae,removeArea:Mae,addLine:kae,removeLine:jae}=P4.actions,Rne=P4.reducer,Dne=S.createContext(void 0),Nne=t=>{var{children:e}=t,[n]=S.useState("".concat(Ff("recharts"),"-clip")),r=lA();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return S.createElement(Dne.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:a,y:o,height:c,width:l}))),e)};function Vu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function R4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function Mne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ine(r,n)}function kne(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function qp(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function jne(t,e){return R4(t,e+1)}function Lne(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,h=0,d=1,m=l,v=function(){var E=r==null?void 0:r[h];if(E===void 0)return{v:R4(r,d)};var A=h,x,P=()=>(x===void 0&&(x=n(E,A)),x),z=E.coordinate,V=h===0||qp(t,z,P,m,c);V||(h=0,m=l,d+=1),V&&(m=z+t*(P()/2+a),h+=d)},b;d<=o.length;)if(b=v(),b)return b.v;return[]}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:h}=e,d=function(b){var _=o[b],E,A=()=>(E===void 0&&(E=n(_,b)),E);if(b===l-1){var x=t*(_.coordinate+t*A()/2-h);o[b]=_=Vn(Vn({},_),{},{tickCoord:x>0?_.coordinate-x*t:_.coordinate})}else o[b]=_=Vn(Vn({},_),{},{tickCoord:_.coordinate});var P=qp(t,_.tickCoord,A,c,h);P&&(h=_.tickCoord-t*(A()/2+a),o[b]=Vn(Vn({},_),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return o}function qne(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:h,end:d}=e;if(o){var m=r[c-1],v=n(m,c-1),b=t*(m.coordinate+t*v/2-d);l[c-1]=m=Vn(Vn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate});var _=qp(t,m.tickCoord,()=>v,h,d);_&&(d=m.tickCoord-t*(v/2+a),l[c-1]=Vn(Vn({},m),{},{isShow:!0}))}for(var E=o?c-1:c,A=function(z){var V=l[z],$,U=()=>($===void 0&&($=n(V,z)),$);if(z===0){var F=t*(V.coordinate-t*U()/2-h);l[z]=V=Vn(Vn({},V),{},{tickCoord:F<0?V.coordinate-F*t:V.coordinate})}else l[z]=V=Vn(Vn({},V),{},{tickCoord:V.coordinate});var C=qp(t,V.tickCoord,U,h,d);C&&(h=V.tickCoord+t*(U()/2+a),l[z]=Vn(Vn({},V),{},{isShow:!0}))},x=0;x<E;x++)A(x);return l}function $ne(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:h,tickFormatter:d,unit:m,angle:v}=t;if(!a||!a.length||!r)return[];if(Pe(h)||oo.isSsr){var b;return(b=jne(a,Pe(h)?h:0))!==null&&b!==void 0?b:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",A=m&&E==="width"?Mf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(V,$)=>{var U=typeof d=="function"?d(V.value,$):V.value;return E==="width"?Mne(Mf(U,{fontSize:e,letterSpacing:n}),A,v):Mf(U,{fontSize:e,letterSpacing:n})[E]},P=a.length>=2?Nn(a[1].coordinate-a[0].coordinate):1,z=kne(o,P,E);return h==="equidistantPreserveStart"?Lne(P,z,x,a,l):(h==="preserveStart"||h==="preserveStartEnd"?_=qne(P,z,x,a,l,h==="preserveStartEnd"):_=Bne(P,z,x,a,l),_.filter(V=>V.isShow))}var Fne=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var v=m.getBoundingClientRect();v.width>l&&(l=v.width)}});var c=n?n.getBoundingClientRect().width:0,h=a+o,d=l+h+c+(n?r:0);return Math.round(d)}return 0},Hne=["axisLine","width","height","className","hide","ticks"],Kne=["viewBox"],Gne=["viewBox"];function gw(t,e){if(t==null)return{};var n,r,a=Yne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(null,arguments)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Jne(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:h}=t;if(!c)return null;var d=cn(cn(cn({},h),Qr(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);d=cn(cn({},d),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var v=+(o==="left"&&!l||o==="right"&&l);d=cn(cn({},d),{},{x1:e+v*r,y1:n,x2:e+v*r,y2:n+a})}return S.createElement("line",fl({},d,{className:nt("recharts-cartesian-axis-line",sl(c,"className"))}))}function ere(t,e,n,r,a,o,l,c,h){var d,m,v,b,_,E,A=c?-1:1,x=t.tickSize||l,P=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=m=t.coordinate,b=n+ +!c*a,v=b-A*x,E=v-A*h,_=P;break;case"left":v=b=t.coordinate,m=e+ +!c*r,d=m-A*x,_=d-A*h,E=P;break;case"right":v=b=t.coordinate,m=e+ +c*r,d=m+A*x,_=d+A*h,E=P;break;default:d=m=t.coordinate,b=n+ +c*a,v=b+A*x,E=v+A*h,_=P;break}return{line:{x1:d,y1:v,x2:m,y2:b},tick:{x:_,y:E}}}function tre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function nre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rre(t){var{option:e,tickProps:n,value:r}=t,a,o=nt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))a=S.cloneElement(e,cn(cn({},n),{},{className:o}));else if(typeof e=="function")a=e(cn(cn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=nt(l,e==null?void 0:e.className)),a=S.createElement(ev,fl({},n,{className:l}),r)}return a}function ire(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:h,orientation:d,mirror:m,x:v,y:b,width:_,height:E,tickSize:A,tickMargin:x,fontSize:P,letterSpacing:z,getTicksConfig:V,events:$}=t,U=$ne(cn(cn({},V),{},{ticks:e}),P,z),F=tre(d,m),C=nre(d,m),R=Qr(V),N=al(n),B={};typeof r=="object"&&(B=r);var j=cn(cn({},R),{},{fill:"none"},B),L=U.map((M,de)=>{var{line:be,tick:K}=ere(M,v,b,_,E,d,A,m,x),W=cn(cn(cn(cn({textAnchor:F,verticalAnchor:C},R),{},{stroke:"none",fill:a},N),K),{},{index:de,payload:M,visibleTicksCount:U.length,tickFormatter:o,padding:c},h);return S.createElement(kn,fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},ph($,M,de)),r&&S.createElement("line",fl({},j,be,{className:nt("recharts-cartesian-axis-tick-line",sl(r,"className"))})),n&&S.createElement(rre,{option:n,tickProps:W,value:"".concat(typeof o=="function"?o(M.value,de):M.value).concat(l||"")}))});return L.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var are=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c}=t,h=gw(t,Hne),[d,m]=S.useState(""),[v,b]=S.useState(""),_=S.useRef(null);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Fne({ticks:_.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=S.useCallback(A=>{if(A){var x=A.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=x;var P=x[0];if(P){var z=window.getComputedStyle(P),V=z.fontSize,$=z.letterSpacing;(V!==d||$!==v)&&(m(V),b($))}}},[d,v]);return l||r!=null&&r<=0||a!=null&&a<=0?null:S.createElement(kn,{className:nt("recharts-cartesian-axis",o),ref:E},S.createElement(Jne,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Qr(t)}),S.createElement(ire,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:v,getTicksConfig:t,events:h}),S.createElement(aJ,{x:t.x,y:t.y,width:t.width,height:t.height},S.createElement(pJ,{label:t.label,labelRef:t.labelRef}),t.children))}),sre=S.memo(are,(t,e)=>{var{viewBox:n}=t,r=gw(t,Kne),{viewBox:a}=e,o=gw(e,Gne);return Vu(n,a)&&Vu(r,o)}),hA=S.forwardRef((t,e)=>{var n=Fn(t,Zne);return S.createElement(sre,fl({},n,{ref:e}))});hA.displayName="CartesianAxis";var D4=(t,e,n,r)=>Js(t,"xAxis",e,r),N4=(t,e,n,r)=>Zs(t,"xAxis",e,r),M4=(t,e,n,r)=>Js(t,"yAxis",n,r),k4=(t,e,n,r)=>Zs(t,"yAxis",n,r),ore=J([Je,D4,M4,N4,k4],(t,e,n,r,a)=>so(t,"xAxis")?Gf(e,r,!1):Gf(n,a,!1)),lre=(t,e,n,r,a)=>a;function ure(t){return t.type==="line"}var cre=J([Yg,lre],(t,e)=>t.filter(ure).find(n=>n.id===e)),fre=J([Je,D4,M4,N4,k4,cre,ore,Bg],(t,e,n,r,a,o,l,c)=>{var{chartData:h,dataStartIndex:d,dataEndIndex:m}=c;if(!(o==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null)){var{dataKey:v,data:b}=o,_;if(b!=null&&b.length>0?_=b:_=h==null?void 0:h.slice(d,m+1),_!=null)return Mre({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:v,bandSize:l,displayedData:_})}});function hre(t){var e=al(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:o}=e,l=Number(a),c=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var dre=["id"],mre=["type","layout","connectNulls","needClip"],pre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dA(t,e){if(t==null)return{};var n,r,a=bre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(null,arguments)}var _re=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:r,value:Xu(n,e),payload:t}]};function wre(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:Xu(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:h}}}var j4=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ere(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var Are=(t,e,n)=>{var r=n.reduce((v,b)=>v+b);if(!r)return j4(e,t);for(var a=Math.floor(t/r),o=t%r,l=e-t,c=[],h=0,d=0;h<n.length;d+=n[h],++h)if(d+n[h]>o){c=[...n.slice(0,h),o-d];break}var m=c.length%2===0?[0,l]:[l];return[...Ere(n,a),...c,...m].map(v=>"".concat(v,"px")).join(", ")};function Sre(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=nt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=S.createElement(l4,hl({},e,{className:r}))}return n}function Tre(t,e){return t==null?!1:e?!0:t.length===1}function xre(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:o,needClip:l}=r;if(!Tre(n,a))return null;var{id:c}=r,h=dA(r,dre),d=m4(a),m=Qr(h),v=I8(a),b=n.map((E,A)=>{var x=Ar(Ar(Ar({key:"dot-".concat(A),r:3},m),v),{},{index:A,cx:E.x,cy:E.y,dataKey:o,value:E.value,payload:E.payload,points:n});return Sre(a,x)}),_={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return S.createElement(kn,hl({className:"recharts-line-dots",key:"dots"},_),b)}function Ore(t){var{showLabels:e,children:n,points:r}=t,a=S.useMemo(()=>r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Ar(Ar({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(s4,{value:e?a:null},n)}function y2(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:o}=t,{type:l,layout:c,connectNulls:h,needClip:d}=o,m=dA(o,mre),v=Ar(Ar({},Xn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:c,connectNulls:h,strokeDasharray:a??o.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(BE,hl({},v,{pathRef:n})),S.createElement(xre,{points:r,clipPathId:e,props:o}))}function Cre(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Ire(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:o}=t,{points:l,strokeDasharray:c,isAnimationActive:h,animationBegin:d,animationDuration:m,animationEasing:v,animateNewValues:b,width:_,height:E,onAnimationEnd:A,onAnimationStart:x}=n,P=a.current,z=_h(n,"recharts-line-"),[V,$]=S.useState(!1),U=!V,F=S.useCallback(()=>{typeof A=="function"&&A(),$(!1)},[A]),C=S.useCallback(()=>{typeof x=="function"&&x(),$(!0)},[x]),R=Cre(r.current),N=o.current;return S.createElement(Ore,{points:l,showLabels:U},n.children,S.createElement(bh,{animationId:z,begin:d,duration:m,isActive:h,easing:v,onAnimationEnd:F,onAnimationStart:C,key:z},B=>{var j=Vt(N,R+N,B),L=Math.min(j,R),M;if(h)if(c){var de="".concat(c).split(/[,\s]+/gim).map(W=>parseFloat(W));M=Are(L,R,de)}else M=j4(R,L);else M=c==null?void 0:String(c);if(P){var be=P.length/l.length,K=B===1?l:l.map((W,ue)=>{var pe=Math.floor(ue*be);if(P[pe]){var we=P[pe];return Ar(Ar({},W),{},{x:Vt(we.x,W.x,B),y:Vt(we.y,W.y,B)})}return b?Ar(Ar({},W),{},{x:Vt(_*2,W.x,B),y:Vt(E/2,W.y,B)}):Ar(Ar({},W),{},{x:W.x,y:W.y})});return a.current=K,S.createElement(y2,{props:n,points:K,clipPathId:e,pathRef:r,strokeDasharray:M})}return B>0&&R>0&&(a.current=l,o.current=L),S.createElement(y2,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:M})}),S.createElement(Z1,{label:n.label}))}function Pre(t){var{clipPathId:e,props:n}=t,r=S.useRef(null),a=S.useRef(0),o=S.useRef(null);return S.createElement(Ire,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:o})}var Rre=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:wt(t.payload,e)});class Dre extends S.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:o,yAxisId:l,top:c,left:h,width:d,height:m,id:v,needClip:b}=this.props;if(e)return null;var _=nt("recharts-line",a),E=v,{r:A,strokeWidth:x}=hre(n),P=m4(n),z=A*2+x;return S.createElement(S.Fragment,null,S.createElement(kn,{className:_},b&&S.createElement("defs",null,S.createElement(S4,{clipPathId:E,xAxisId:o,yAxisId:l}),!P&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:h-z/2,y:c-z/2,width:d+z,height:m+z}))),S.createElement(A4,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:Rre,errorBarOffset:0},S.createElement(Pre,{props:this.props,clipPathId:E}))),S.createElement(fte,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var L4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!oo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Nre(t){var e=Fn(t,L4),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:h,hide:d,isAnimationActive:m,label:v,legendType:b,xAxisId:_,yAxisId:E,id:A}=e,x=dA(e,pre),{needClip:P}=cA(_,E),z=lA(),V=Dg(),$=ur(),U=Te(B=>fre(B,_,E,$,A));if(V!=="horizontal"&&V!=="vertical"||U==null||z==null)return null;var{height:F,width:C,x:R,y:N}=z;return S.createElement(Dre,hl({},x,{id:A,connectNulls:c,dot:h,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:l,isAnimationActive:m,hide:d,label:v,legendType:b,xAxisId:_,yAxisId:E,points:U,layout:V,height:F,width:C,left:R,top:N,needClip:P}))}function Mre(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:o,dataKey:l,bandSize:c,displayedData:h}=t;return h.map((d,m)=>{var v=wt(d,l);if(e==="horizontal"){var b=$I({axis:n,ticks:a,bandSize:c,entry:d,index:m}),_=It(v)?null:r.scale(v);return{x:b,y:_,value:v,payload:d}}var E=It(v)?null:n.scale(v),A=$I({axis:r,ticks:o,bandSize:c,entry:d,index:m});return E==null||A==null?null:{x:E,y:A,value:v,payload:d}}).filter(Boolean)}function kre(t){var e=Fn(t,L4),n=ur();return S.createElement(sA,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(v4,{legendPayload:_re(e)}),S.createElement(aA,{fn:wre,args:e}),S.createElement(b4,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(Nre,hl({},e,{id:r}))))}var vw=S.memo(kre);vw.displayName="Line";var jre=["dangerouslySetInnerHTML","ticks"],Lre=["id"],Vre=["domain"],Ure=["domain"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function $p(t,e){if(t==null)return{};var n,r,a=zre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bre(t){var e=Pt();return S.useLayoutEffect(()=>(e(Zee(t)),()=>{e(Jee(t))}),[t,e]),null}var qre=t=>{var{xAxisId:e,className:n}=t,r=Te(VE),a=ur(),o="xAxis",l=Te(x=>ac(x,o,e,a)),c=Te(x=>_L(x,o,e,a)),h=Te(x=>gL(x,e)),d=Te(x=>UQ(x,e)),m=Te(x=>Xj(x,e));if(h==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=t,_=$p(t,jre),{id:E}=m,A=$p(m,Lre);return S.createElement(hA,yw({},_,A,{scale:l,x:d.x,y:d.y,width:h.width,height:h.height,className:nt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},$re={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,height:_r.height,hide:!1,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tickCount:_r.tickCount,type:_r.type,xAxisId:0},Fre=t=>{var e,n,r,a,o,l=Fn(t,$re);return S.createElement(S.Fragment,null,S.createElement(Bre,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),S.createElement(qre,l))},Hre=(t,e)=>{var{domain:n}=t,r=$p(t,Vre),{domain:a}=e,o=$p(e,Ure);return Vu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Vu({domain:n},{domain:a}):!1},bw=S.memo(Fre,Hre);bw.displayName="XAxis";var Kre=["dangerouslySetInnerHTML","ticks"],Gre=["id"],Yre=["domain"],Wre=["domain"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function Fp(t,e){if(t==null)return{};var n,r,a=Qre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xre(t){var e=Pt();return S.useLayoutEffect(()=>(e(ete(t)),()=>{e(tte(t))}),[t,e]),null}var Zre=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,o=S.useRef(null),l=S.useRef(null),c=Te(VE),h=ur(),d=Pt(),m="yAxis",v=Te(U=>ac(U,m,e,h)),b=Te(U=>vL(U,e)),_=Te(U=>BQ(U,e)),E=Te(U=>_L(U,m,e,h)),A=Te(U=>Zj(U,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!b||X1(a)||S.isValidElement(a)||A==null)){var U=o.current;if(U){var F=U.getCalculatedWidth();Math.round(b.width)!==Math.round(F)&&d(nte({id:e,width:F}))}}},[E,b,d,a,e,r,A]),b==null||_==null||A==null)return null;var{dangerouslySetInnerHTML:x,ticks:P}=t,z=Fp(t,Kre),{id:V}=A,$=Fp(A,Gre);return S.createElement(hA,_w({},z,$,{ref:o,labelRef:l,scale:v,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:nt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E}))},Jre={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,hide:!1,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tickCount:wr.tickCount,type:wr.type,width:wr.width,yAxisId:0},eie=t=>{var e,n,r,a,o,l=Fn(t,Jre);return S.createElement(S.Fragment,null,S.createElement(Xre,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),S.createElement(Zre,l))},tie=(t,e)=>{var{domain:n}=t,r=Fp(t,Yre),{domain:a}=e,o=Fp(e,Wre);return Vu(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Vu({domain:n},{domain:a}):!1},ww=S.memo(eie,tie);ww.displayName="YAxis";var Wb={exports:{}},Qb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function nie(){if(b2)return Qb;b2=1;var t=Uu();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Qb.useSyncExternalStoreWithSelector=function(h,d,m,v,b){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function x(U){if(!P){if(P=!0,z=U,U=v(U),b!==void 0&&E.hasValue){var F=E.value;if(b(F,U))return V=F}return V=U}if(F=V,n(z,U))return F;var C=v(U);return b!==void 0&&b(F,C)?(z=U,F):(z=U,V=C)}var P=!1,z,V,$=m===void 0?null:m;return[function(){return x(d())},$===null?void 0:function(){return x($())}]},[d,m,v,b]);var A=r(h,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),c(A),A},Qb}var _2;function rie(){return _2||(_2=1,Wb.exports=nie()),Wb.exports}rie();function iie(t){t()}function aie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){iie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var w2={notify(){},get:()=>[]};function sie(t,e){let n,r=w2,a=0,o=!1;function l(A){m();const x=r.subscribe(A);let P=!1;return()=>{P||(P=!0,x(),v())}}function c(){r.notify()}function h(){E.onStateChange&&E.onStateChange()}function d(){return o}function m(){a++,n||(n=t.subscribe(h),r=aie())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=w2)}function b(){o||(o=!0,m())}function _(){o&&(o=!1,v())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:d,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return E}var oie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lie=oie(),uie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cie=uie(),fie=()=>lie||cie?S.useLayoutEffect:S.useEffect,hie=fie(),Xb=Symbol.for("react-redux-context"),Zb=typeof globalThis<"u"?globalThis:{};function die(){if(!S.createContext)return{};const t=Zb[Xb]??(Zb[Xb]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var mie=die();function pie(t){const{children:e,context:n,serverState:r,store:a}=t,o=S.useMemo(()=>{const h=sie(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=S.useMemo(()=>a.getState(),[a]);hie(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const c=n||mie;return S.createElement(c.Provider,{value:o},e)}var gie=pie,vie=(t,e)=>e,mA=J([vie,Je,Yj,mn,LL,Qa,KX,hn],XX),pA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},V4=Xr("mouseClick"),U4=vh();U4.startListening({actionCreator:V4,effect:(t,e)=>{var n=t.payload,r=mA(e.getState(),pA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(eX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ew=Xr("mouseMove"),z4=vh();z4.startListening({actionCreator:Ew,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=B1(r,r.tooltip.settings.shared),o=mA(r,pA(n));a==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(CL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(OL()))}});var E2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},B4=Cr({name:"rootProps",initialState:E2,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:E2.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),yie=B4.reducer,{updateOptions:bie}=B4.actions,q4=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:_ie}=q4.actions,wie=q4.reducer,$4=Xr("keyDown"),F4=Xr("focus"),gA=vh();gA.startListening({actionCreator:$4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(q1(a,oc(n))),c=Qa(n);if(o==="Enter"){var h=Lp(n,"axis","hover",String(a.index));e.dispatch(cw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var d=HQ(n),m=d==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,b=l+v*m;if(!(c==null||b>=c.length||b<0)){var _=Lp(n,"axis","hover",String(b));e.dispatch(cw({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});gA.startListening({actionCreator:F4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=Lp(n,"axis","hover",String(o));e.dispatch(cw({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Hr=Xr("externalEvent"),H4=vh();H4.startListening({actionCreator:Hr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:jX(n),activeDataKey:BL(n),activeIndex:eo(n),activeLabel:zL(n),activeTooltipIndex:eo(n),isTooltipActive:LX(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Eie=J([sc],t=>t.tooltipItemPayloads),Aie=J([Eie,Ph,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=e(o,n);return l}}}),K4=Xr("touchMove"),G4=vh();G4.startListening({actionCreator:K4,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=B1(r,r.tooltip.settings.shared);if(a==="axis"){var o=mA(r,pA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(CL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(xk),m=(l=h.getAttribute(Ok))!==null&&l!==void 0?l:void 0,v=Aie(e.getState(),d,m);e.dispatch(xL({activeDataKey:m,activeIndex:d,activeCoordinate:v}))}}});var Sie=ZM({brush:Sne,cartesianAxis:rte,chartData:dZ,errorBars:Ate,graphicalItems:Eee,layout:AF,legend:PH,options:lZ,polarAxis:jJ,polarOptions:wie,referenceElements:Rne,rootProps:yie,tooltip:tX}),Tie=function(e){return Y$({reducer:Sie,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([U4.middleware,z4.middleware,gA.middleware,H4.middleware,G4.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(ck({type:"raf"}))},devTools:oo.devToolsEnabled})};function Y4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=ur(),o=S.useRef(null);if(a)return n;o.current==null&&(o.current=Tie(e));var l=DE;return S.createElement(gie,{context:l,store:o.current},n)}function W4(t){var{layout:e,margin:n}=t,r=Pt(),a=ur();return S.useEffect(()=>{a||(r(_F(e)),r(bF(n)))},[r,a,e,n]),null}function Q4(t){var e=Pt();return S.useEffect(()=>{e(bie(t))},[e,t]),null}var xie=["children"];function Oie(t,e){if(t==null)return{};var n,r,a=Cie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(null,arguments)}var Iie={width:"100%",height:"100%",display:"block"},Pie=S.forwardRef((t,e)=>{var n=Rk(),r=Dk(),a=jk();if(!Nu(n)||!Nu(r))return null;var{children:o,otherAttributes:l,title:c,desc:h}=t,d,m;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,S.createElement(bE,Hp({},l,{title:c,desc:h,role:m,tabIndex:d,width:n,height:r,style:Iie,ref:e}),o)}),Rie=t=>{var{children:e}=t,n=Te(Pg);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return S.createElement(bE,{width:r,height:a,x:l,y:o},e)},A2=S.forwardRef((t,e)=>{var{children:n}=t,r=Oie(t,xie),a=ur();return a?S.createElement(Rie,null,n):S.createElement(Pie,Hp({ref:e},r),n)});function Die(){var t=Pt(),[e,n]=S.useState(null),r=Te(ZF);return S.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;$n(o)&&o!==r&&t(EF(o))}},[e,t,r]),n}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return(e=kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}var Lie=()=>(EZ(),null);function Kp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Vie=S.forwardRef((t,e)=>{var n,r,a=S.useRef(null),[o,l]=S.useState({containerWidth:Kp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Kp((r=t.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((d,m)=>{l(v=>{var b=Math.round(d),_=Math.round(m);return v.containerWidth===b&&v.containerHeight===_?v:{containerWidth:b,containerHeight:_}})},[]),h=S.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:m,height:v}=d.getBoundingClientRect();c(m,v);var b=E=>{var{width:A,height:x}=E[0].contentRect;c(A,x)},_=new ResizeObserver(b);_.observe(d),a.current=_}},[e,c]);return S.useEffect(()=>()=>{var d=a.current;d!=null&&d.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(Ng,{width:o.containerWidth,height:o.containerHeight}),S.createElement("div",dl({ref:h},t)))}),Uie=S.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,o]=S.useState({containerWidth:Kp(n),containerHeight:Kp(r)}),l=S.useCallback((h,d)=>{o(m=>{var v=Math.round(h),b=Math.round(d);return m.containerWidth===v&&m.containerHeight===b?m:{containerWidth:v,containerHeight:b}})},[]),c=S.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:d,height:m}=h.getBoundingClientRect();l(d,m)}},[e,l]);return S.createElement(S.Fragment,null,S.createElement(Ng,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",dl({ref:c},t)))}),zie=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return S.createElement(S.Fragment,null,S.createElement(Ng,{width:n,height:r}),S.createElement("div",dl({ref:e},t)))}),Bie=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return Va(n)||Va(r)?S.createElement(Uie,dl({},t,{ref:e})):S.createElement(zie,dl({},t,{ref:e}))});function qie(t){return t===!0?Vie:Bie}var $ie=S.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:h,onMouseEnter:d,onMouseLeave:m,onMouseMove:v,onMouseUp:b,onTouchEnd:_,onTouchMove:E,onTouchStart:A,style:x,width:P,responsive:z,dispatchTouchEvents:V=!0}=t,$=S.useRef(null),U=Pt(),[F,C]=S.useState(null),[R,N]=S.useState(null),B=Die(),j=UE(),L=(j==null?void 0:j.width)>0?j.width:P,M=(j==null?void 0:j.height)>0?j.height:a,de=S.useCallback(ie=>{B(ie),typeof e=="function"&&e(ie),C(ie),N(ie),ie!=null&&($.current=ie)},[B,e,C,N]),be=S.useCallback(ie=>{U(V4(ie)),U(Hr({handler:o,reactEvent:ie}))},[U,o]),K=S.useCallback(ie=>{U(Ew(ie)),U(Hr({handler:d,reactEvent:ie}))},[U,d]),W=S.useCallback(ie=>{U(OL()),U(Hr({handler:m,reactEvent:ie}))},[U,m]),ue=S.useCallback(ie=>{U(Ew(ie)),U(Hr({handler:v,reactEvent:ie}))},[U,v]),pe=S.useCallback(()=>{U(F4())},[U]),we=S.useCallback(ie=>{U($4(ie.key))},[U]),q=S.useCallback(ie=>{U(Hr({handler:l,reactEvent:ie}))},[U,l]),te=S.useCallback(ie=>{U(Hr({handler:c,reactEvent:ie}))},[U,c]),fe=S.useCallback(ie=>{U(Hr({handler:h,reactEvent:ie}))},[U,h]),me=S.useCallback(ie=>{U(Hr({handler:b,reactEvent:ie}))},[U,b]),ye=S.useCallback(ie=>{U(Hr({handler:A,reactEvent:ie}))},[U,A]),Re=S.useCallback(ie=>{V&&U(K4(ie)),U(Hr({handler:E,reactEvent:ie}))},[U,V,E]),je=S.useCallback(ie=>{U(Hr({handler:_,reactEvent:ie}))},[U,_]),ot=qie(z);return S.createElement(GL.Provider,{value:F},S.createElement(gM.Provider,{value:R},S.createElement(ot,{width:L??(x==null?void 0:x.width),height:M??(x==null?void 0:x.height),className:nt("recharts-wrapper",r),style:Nie({position:"relative",cursor:"default",width:L,height:M},x),onClick:be,onContextMenu:q,onDoubleClick:te,onFocus:pe,onKeyDown:we,onMouseDown:fe,onMouseEnter:K,onMouseLeave:W,onMouseMove:ue,onMouseUp:me,onTouchEnd:je,onTouchMove:Re,onTouchStart:ye,ref:de},S.createElement(Lie,null),n)))}),Fie=["width","height","responsive","children","className","style","compact","title","desc"];function Hie(t,e){if(t==null)return{};var n,r,a=Kie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Kie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X4=S.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:o,className:l,style:c,compact:h,title:d,desc:m}=t,v=Hie(t,Fie),b=Qr(v);return h?S.createElement(S.Fragment,null,S.createElement(Ng,{width:n,height:r}),S.createElement(A2,{otherAttributes:b,title:d,desc:m},o)):S.createElement($ie,{className:l,style:c,width:n,height:r,responsive:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(A2,{otherAttributes:b,title:d,desc:m,ref:e},S.createElement(Nne,null,o)))});function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(null,arguments)}var Gie={top:5,right:5,bottom:5,left:5},Yie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Z4=S.forwardRef(function(e,n){var r,a=Fn(e.categoricalChartProps,Yie),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:d}=e,m={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return S.createElement(Y4,{preloadedState:{options:m},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},S.createElement(C4,{chartData:d.data}),S.createElement(W4,{layout:a.layout,margin:a.margin}),S.createElement(Q4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(X4,Aw({},a,{ref:n})))}),Wie=["axis"],Qie=S.forwardRef((t,e)=>S.createElement(Z4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wie,tooltipPayloadSearcher:Q1,categoricalChartProps:t,ref:e})),Xie=["axis","item"],Zie=S.forwardRef((t,e)=>S.createElement(Z4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xie,tooltipPayloadSearcher:Q1,categoricalChartProps:t,ref:e}));function Jie(t){var e=Pt();return S.useEffect(()=>{e(_ie(t))},[e,t]),null}var eae=["layout"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(null,arguments)}function tae(t,e){if(t==null)return{};var n,r,a=nae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rae={top:5,right:5,bottom:5,left:5},iae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},aae=S.forwardRef(function(e,n){var r,a=Fn(e.categoricalChartProps,iae),{layout:o}=a,l=tae(a,eae),{chartName:c,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:m}=e,v={chartName:c,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return S.createElement(Y4,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:c},S.createElement(C4,{chartData:a.data}),S.createElement(W4,{layout:o,margin:a.margin}),S.createElement(Q4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(Jie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),S.createElement(X4,Sw({},l,{ref:n})))}),sae=["item"],oae={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lae=S.forwardRef((t,e)=>{var n=Fn(t,oae);return S.createElement(aae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sae,tooltipPayloadSearcher:Q1,categoricalChartProps:n,ref:e})});const Jb=["#6366f1","#ef4444","#f59e0b","#10b981","#06b6d4","#8b5cf6"],e_=({title:t,value:e})=>D.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[D.jsx("div",{className:"text-sm text-gray-500",children:t}),D.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-800",children:e})]});function uae(t){const e=[];for(let n=t-1;n>=0;n--)e.push(new Date(Date.now()-n*24*60*60*1e3));return e}const cae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[a,o]=S.useState(30);S.useEffect(()=>{(async()=>{try{const[_,E]=await Promise.all([oM(),lM()]);e(_||[]),r(E||[])}catch(_){console.error("Erro ao carregar dados do dashboard",_)}})()},[]);const l=t.length,c=t.reduce((_,E)=>_+(Number(E.quantity)||0),0),h=t.filter(_=>(Number(_.quantity)||0)<=(Number(_.minQuantity)||0)).length,d=S.useMemo(()=>{const _=Date.now()-a*24*60*60*1e3;return n.filter(E=>new Date(E.timestamp).getTime()>=_)},[n,a]),m=S.useMemo(()=>uae(a).map(E=>{const A=new Date(E.getFullYear(),E.getMonth(),E.getDate()).getTime(),x=A+1440*60*1e3,P=d.filter($=>new Date($.timestamp).getTime()>=A&&new Date($.timestamp).getTime()<x),z=P.filter($=>$.type===Pa.In).reduce(($,U)=>$+U.quantity,0),V=P.filter($=>$.type!==Pa.In).reduce(($,U)=>$+U.quantity,0);return{date:E.toLocaleDateString(),entrada:z,saida:V}}),[d,a]),v=S.useMemo(()=>{const _=new Map;return d.filter(E=>E.type!==Pa.In).forEach(E=>{const A=_.get(E.itemId)||{name:E.itemName,qty:0};A.qty+=E.quantity,_.set(E.itemId,A)}),Array.from(_.entries()).map(([E,A])=>({id:E,name:A.name,qty:A.qty})).sort((E,A)=>A.qty-E.qty).slice(0,10)},[d]),b=S.useMemo(()=>{const _=new Map;return t.forEach(E=>{const A=E.location||"Sem localizao";_.set(A,(_.get(A)||0)+(Number(E.quantity)||0))}),Array.from(_.entries()).map(([E,A])=>({name:E,value:A}))},[t]);return D.jsxs("div",{className:"bg-gray-50 min-h-screen p-4 sm:p-6 lg:p-8",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard de Estoque"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{className:"text-sm text-gray-600",children:"Perodo:"}),D.jsxs("select",{value:a,onChange:_=>o(Number(_.target.value)),className:"p-2 border rounded",children:[D.jsx("option",{value:7,children:"ltimos 7 dias"}),D.jsx("option",{value:30,children:"ltimos 30 dias"}),D.jsx("option",{value:90,children:"ltimos 90 dias"})]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[D.jsx(e_,{title:"Total de itens cadastrados",value:l}),D.jsx(e_,{title:"Total em estoque (unidades)",value:c}),D.jsx(e_,{title:"Itens com estoque baixo",value:h})]}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[D.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-4",children:[D.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Entradas vs Sadas (",a," dias)"]}),D.jsx("div",{style:{width:"100%",height:300},children:D.jsx(Eb,{children:D.jsxs(Qie,{data:m,children:[D.jsx(bw,{dataKey:"date"}),D.jsx(ww,{}),D.jsx(Vb,{}),D.jsx(Mg,{}),D.jsx(vw,{type:"monotone",dataKey:"entrada",stroke:"#10b981",strokeWidth:2}),D.jsx(vw,{type:"monotone",dataKey:"saida",stroke:"#ef4444",strokeWidth:2})]})})})]}),D.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[D.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Top ",v.length," itens por consumo"]}),D.jsx("div",{style:{width:"100%",height:300},children:D.jsx(Eb,{children:D.jsxs(Zie,{data:v,layout:"vertical",children:[D.jsx(bw,{type:"number"}),D.jsx(ww,{dataKey:"name",type:"category"}),D.jsx(Vb,{}),D.jsx(x4,{dataKey:"qty",fill:Jb[0]})]})})})]})]}),D.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[D.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Distribuio por Localizao (estoque atual)"}),D.jsx("div",{style:{width:"100%",height:300},children:D.jsx(Eb,{children:D.jsxs(lae,{children:[D.jsx(_4,{data:b,dataKey:"value",nameKey:"name",outerRadius:100,fill:"#8884d8",label:!0,children:b.map((_,E)=>D.jsx(Dh,{fill:Jb[E%Jb.length]},`cell-${E}`))}),D.jsx(Vb,{})]})})})]})]})},fae=()=>{const{user:t}=dh(),[e,n]=S.useState("items"),r=()=>{switch(e){case"dashboard":return D.jsx(cae,{});case"items":return D.jsx(SC,{});case"users":return D.jsx(T8,{});case"history":return D.jsx(x8,{});default:return D.jsx(SC,{})}},a=o=>`px-4 py-2 font-semibold rounded-t-lg transition-colors duration-200 ${e===o?"bg-white text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-indigo-600"}`;return t?D.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D.jsx(fM,{title:"Painel do Gestor",userName:t.name}),D.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:D.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.jsx("div",{className:"border-b border-gray-200",children:D.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[D.jsx("button",{onClick:()=>n("dashboard"),className:a("dashboard"),children:"Dashboard"}),D.jsx("button",{onClick:()=>n("items"),className:a("items"),children:"Insumos"}),D.jsx("button",{onClick:()=>n("users"),className:a("users"),children:"Usurios"}),D.jsx("button",{onClick:()=>n("history"),className:a("history"),children:"Histrico"})]})}),D.jsx("div",{className:"mt-6",children:r()})]})})]}):null},hae=({item:t,onClose:e,onConfirm:n})=>{const[r,a]=S.useState(""),[o,l]=S.useState(!1),c=m=>{const v=Number(m);return Number.isNaN(v)?0:Math.max(0,Math.floor(v))},h=async()=>{const m=c(r);m<1||(l(!0),await n(t.id,m))},d=c(r);return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 z-50",children:D.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 text-center text-gray-900",children:[D.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:t.name}),D.jsxs("p",{className:"text-gray-600 mb-1 text-gray-900",children:["Localizao: ",t.location]}),D.jsxs("p",{className:"text-gray-600 mb-4 text-gray-900",children:["Estoque atual: ",t.quantity," ",t.unitOfMeasure]}),D.jsxs("div",{className:"my-6",children:[D.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2 text-gray-900",children:"Quantidade para sada:"}),D.jsx("input",{id:"quantity",inputMode:"numeric",pattern:"[0-9]*",value:r,placeholder:"1",onChange:m=>{const v=(m.target.value||"").replace(/[^0-9]/g,"");a(v)},className:"w-32 text-center p-2 border border-gray-300 rounded-md text-lg text-black",autoFocus:!0})]}),D.jsxs("div",{className:"flex flex-col space-y-3",children:[D.jsx("button",{onClick:h,disabled:o||d<1||d>t.quantity,className:"w-full px-4 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-indigo-300",children:o?"Confirmando...":"Confirmar Sada"}),D.jsx("button",{onClick:e,disabled:o,className:"w-full px-4 py-3 bg-gray-200 text-gray-800 font-bold rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),d>t.quantity&&D.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Quantidade indisponvel em estoque."})]})]})})},dae=({onDismiss:t,itemName:e})=>D.jsxs("div",{className:"fixed inset-0 bg-green-500 bg-opacity-90 flex flex-col justify-center items-center text-white z-50 p-4 text-center",onClick:t,children:[D.jsx(_8,{className:"w-24 h-24 mb-6"}),D.jsx("h2",{className:"text-4xl font-extrabold mb-4",children:"Sucesso!"}),e?D.jsxs("p",{className:"text-lg font-semibold",children:["Sada realizada: ",e]}):D.jsx("p",{className:"text-lg",children:"Sada de estoque realizada."}),D.jsx("p",{className:"mt-8 text-sm opacity-80",children:"(Toque para continuar)"})]}),mae=()=>{const{user:t}=dh(),[e,n]=S.useState(!1),[r,a]=S.useState(null),[o,l]=S.useState(null),[c,h]=S.useState(!1),[d,m]=S.useState(null),v=S.useRef(null),b=S.useRef(null),[_,E]=S.useState(!1),[A,x]=S.useState(!1),[P,z]=S.useState(1),[V,$]=S.useState(!1),U="qr-reader",F=S.useCallback(()=>{!e&&window.Html5Qrcode&&(l(null),n(!0),setTimeout(()=>{if(!document.getElementById(U)){console.error("Scanner element not found"),l("Erro ao inicializar scanner."),n(!1);return}const M=new window.Html5Qrcode(U);v.current=M;const de={fps:12,qrbox:{width:360,height:160},aspectRatio:1.777778,formatsToSupport:[0,1,2,3,7,8,11,12,13]};(async()=>{try{if(window.Html5Qrcode.getCameras){const K=await window.Html5Qrcode.getCameras(),ue=K.find(we=>/back|rear|traseira|traseiro|environment/i.test(we.label||""))||K[0],pe=ue?ue.id:void 0;if(pe){$(/front|user|integrated|webcam|logitech|camera|usb/i.test(ue&&ue.label||"")),await M.start(pe,de,async we=>{try{N();const q=await EC(we);a(q)}catch{l("Cdigo de barras no encontrado."),setTimeout(()=>l(null),3e3),N()}},we=>{});try{const q=(await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:pe},width:{ideal:1280},height:{ideal:720}}})).getVideoTracks()[0];b.current=q;const te=q.getCapabilities&&q.getCapabilities()||{};if(x(!!te.torch),te.zoom){const fe=te.zoom.min||1,me=te.zoom.max||1,ye=fe;try{q.applyConstraints({advanced:[{zoom:ye}]}),z(ye)}catch{}}}catch{x(!1)}return}}}catch(K){console.warn("Falha ao obter cmeras / iniciar com cameraId, usando fallback",K)}M.start({facingMode:"environment"},de,async K=>{try{N();const W=await EC(K);a(W)}catch{l("Cdigo de barras no encontrado."),setTimeout(()=>l(null),3e3),N()}},K=>{}).catch(async K=>{console.error("Unable to start scanning.",K),l("No foi possvel iniciar a cmera. Verifique as permisses."),n(!1)})})().catch(K=>{console.error("Erro ao iniciar scanner com cmera preferencial",K),l("Erro ao iniciar scanner."),n(!1)})},100))},[e]),C=S.useCallback(()=>{const L=document.getElementById(U);if(!L)return;const M=L.querySelector("video"),de=document.createElement("canvas");if(M&&M.readyState>=2){de.width=M.videoWidth||1280,de.height=M.videoHeight||720;const K=de.getContext("2d");if(K){K.drawImage(M,0,0,de.width,de.height),window.open(de.toDataURL("image/png"),"_blank");return}}const be=L.querySelector("canvas");if(be)try{window.open(be.toDataURL("image/png"),"_blank");return}catch{}},[]),R=S.useCallback(async()=>{const L=b.current;if(!(!L||!(L.getCapabilities&&L.getCapabilities()||{}).torch))try{await L.applyConstraints({advanced:[{torch:!_}]}),E(de=>!de)}catch(de){console.warn("torch toggle failed",de)}},[_]),N=S.useCallback(()=>{v.current&&e&&v.current.stop().then(()=>{n(!1),v.current=null}).catch(L=>{console.error("Failed to stop scanner",L),n(!1)})},[e]);S.useEffect(()=>()=>{v.current&&N()},[N]);const B=async(L,M)=>{await d8(L,M),m(r?r.name:null),a(null),h(!0),setTimeout(()=>{h(!1),m(null)},3e3)},j=()=>{a(null),h(!1),l(null),m(null),N()};return t?D.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[D.jsx(fM,{title:"Sada de Estoque",userName:t.name}),D.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:[e?D.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg overflow-hidden relative",children:[D.jsx("div",{className:`w-full ${V?"h-64":"aspect-square"} relative z-0`,children:D.jsx("div",{id:U,className:"w-full h-full overflow-hidden flex items-center justify-center"})}),D.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex items-center gap-3",children:[D.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-3 py-2 rounded-md font-semibold",children:"Tirar Foto"}),D.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-200",children:[D.jsx("span",{children:"Zoom"}),D.jsx("input",{type:"range",min:1,max:4,step:.1,value:P,onChange:L=>{const M=Number(L.target.value);z(M);const de=b.current;if(de)if((de.getCapabilities&&de.getCapabilities()||{}).zoom)try{de.applyConstraints({advanced:[{zoom:M}]})}catch{}else{const K=document.getElementById(U),W=K==null?void 0:K.querySelector("video"),ue=K==null?void 0:K.querySelector("canvas"),pe=W||ue||K;pe&&(pe.style.transform=`scale(${M})`,pe.style.transformOrigin="center center")}},className:"w-36"})]}),A&&D.jsx("button",{onClick:R,className:"bg-yellow-400 text-black px-3 py-2 rounded-md font-semibold",children:_?"Lanterna On":"Lanterna"}),D.jsx("div",{className:"ml-auto",children:D.jsx("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-bold",children:"Cancelar"})})]})]}):D.jsxs("div",{className:"text-center",children:[D.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para comear?"}),D.jsx("p",{className:"text-gray-400 mb-8 max-w-xs mx-auto",children:"Aponte a cmera para o cdigo de barras do produto para registrar sada do estoque."}),D.jsxs("button",{onClick:F,className:"flex items-center justify-center space-x-3 w-64 h-16 bg-indigo-600 rounded-lg text-xl font-bold hover:bg-indigo-500 transition-transform transform hover:scale-105",children:[D.jsx(cM,{className:"w-8 h-8"}),D.jsx("span",{children:"Escanear"})]})]}),o&&D.jsx("p",{className:"mt-4 text-red-400 bg-red-900/50 px-4 py-2 rounded-md",children:o})]}),r&&D.jsx(hae,{item:r,onClose:j,onConfirm:B}),c&&D.jsx(dae,{onDismiss:j,itemName:d})]}):null},pae=()=>{const{user:t}=dh(),e=()=>{if(!t)return D.jsx(AC,{});switch(t.role){case Qi.Manager:return D.jsx(fae,{});case Qi.Collaborator:return D.jsx(mae,{});default:return D.jsx(AC,{})}};return D.jsx("div",{className:"bg-gray-100 min-h-screen font-sans",children:e()})},J4=document.getElementById("root");if(!J4)throw new Error("Could not find root element to mount to");const gae=$V.createRoot(J4);gae.render(D.jsx(T2.StrictMode,{children:D.jsx(m8,{children:D.jsx(pae,{})})}));
